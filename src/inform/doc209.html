<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>13.12. Relations which express conditions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Relations which express conditions" -->
<!-- SEARCH SECTION "13.12" -->
<!-- SEARCH SORT "000-013-012-000" -->
<!-- START IGNORE 208 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc208.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 13: Relations</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc210.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง13.12. Relations which express conditions</p>
<p>One last way to create a new relation and, in many ways, the easiest of all. If we write:</p>
<!-- START CODE "c4177" -->
<a id="c4177"></a><blockquote class="code"><p class="quoted">
Contact relates a thing (called X) to a thing (called Y) when X is part of Y or Y is part of X. The verb to be joined to means the contact relation.
</p></blockquote>
<!-- END CODE -->
<p>then we would be able to talk about a handle being joined to a door, and a door being joined to a handle, and so on. We are not allowed to declare:</p>
<!-- START CODE "c4178" -->
<a id="c4178"></a><blockquote class="code"><p class="quoted">
The hook is joined to the line.
</p></blockquote>
<!-- END CODE -->
<p>because the question of whether they are joined is not for us to decide: that will be for the condition to determine, whenever we test it. Similarly, we cannot meaningfully write</p>
<!-- START CODE "c4179" -->
<a id="c4179"></a><blockquote class="code"><p class="quoted">
now the hook is joined to the line;
</p></blockquote>
<!-- END CODE -->
<p>(and Inform will not let us) because this relation is not something we can force either way: we can make it come true by other means, maybe, but we cannot simply make it true by saying so. Lastly, this kind of relation is restricted in that we are not allowed to find paths or calculate numbers of steps through it.</p>
<p>So this way to define relations is, on the face of it, just a sort of verbal trick to write conditions in a more attractive way. The more flexible, changeable relations in previous sections have much greater expressive power. All the same, it is nice to be able to write -</p>
<!-- START CODE "c4180" -->
<a id="c4180"></a><blockquote class="code"><p class="quoted">
Nearness relates a room (called A) to a room (called B) when the number of moves from B to A is less than 3. The verb to be near means the nearness relation.
</p></blockquote>
<!-- END CODE -->
<p>and then to be able to write rules like:</p>
<!-- START CODE "c4181" -->
<a id="c4181"></a><blockquote class="code"><p class="quoted">
Instead of listening when the location is near the Sundial: say &quot;You hear a splashing of water.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As with other relations, there's no reason why we have to use objects. For example:</p>
<!-- START CODE "c4182" -->
<a id="c4182"></a><blockquote class="code"><p class="quoted">
Material is a kind of value. The materials are wood and metal. A thing has a material.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4183" -->
<a id="c4183"></a><blockquote class="code"><p class="quoted">
Materiality relates a thing (called X) to a material (called Y) when Y is the material of X. The verb to be made of means the materiality relation.
</p></blockquote>
<!-- END CODE -->
<p>which enables us to write:</p>
<!-- START CODE "c4184" -->
<a id="c4184"></a><blockquote class="code"><p class="quoted">
if the cube is made of wood, ...
<br />say &quot;The carpenter looks at [the list of things which are made of wood].&quot;;
</p></blockquote>
<!-- END CODE -->
<p>And here is a mathematical one:</p>
<!-- START CODE "c4185" -->
<a id="c4185"></a><blockquote class="code"><p class="quoted">
Divisibility relates a number (called N) to a number (called M) when the remainder after dividing M by N is 0. The verb to divide means the divisibility relation. The verb to be a factor of means the divisibility relation.
</p></blockquote>
<!-- END CODE -->
<p>We now find that &quot;2 divides 12&quot;, &quot;5 is not a factor of 12&quot; and &quot;12 is divisible by 3&quot; are all true. Again, we are only really gaining a nice form of words, but improving the clarity of the source text is never a bad thing.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "236: Wainwright Acts" "e304" -->
<a id="e304"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example304'); return false;"><b>236</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example304'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wainwright Acts</span></b></a><br />A technical note about checking the location of door objects when characters other than the player are interacting with them.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc12.html#e304"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example304" style="display: none;">
<p>Suppose we wanted to write rules for a character who will interact with doors in other locations even when the player is not present. This poses a little challenge: doors are actually single objects, and -- with the same shuffling of stage properties that applies to backdrops -- they are moved as needed to represent the door object in whatever room contains the player.</p>
<p>That means that it isn't safe to rely on a phrase like</p>
<!-- START CODE "c4186_304" -->
<a id="c4186_304"></a><blockquote class="code"><p class="quoted">
if an open door is in the location of Bernard
</p></blockquote>
<!-- END CODE -->
<p>because, even if Bernard's location is connected by doors to other places, the actual representation of that door may not be &quot;in&quot; Bernard's location, from the model's point of view, at this exact moment.</p>
<p>This does not, of course, mean that we can't ask this question; just that we have to be a little cleverer about how we phrase it. Every door has properties that correspond to the two locations</p>
<p>linked:</p>
<!-- START CODE "c4187_304" -->
<a id="c4187_304"></a><blockquote class="code"><p class="quoted">
the front side of the blue door (a room, which is arbitrarily one side of the door)
<br />the back side of the blue door (arbitrarily the other side)
</p></blockquote>
<!-- END CODE -->
<p>We can make this information easier to check with a conditional relation, like so:</p>
<!-- START CODE "c4188_304" -->
<a id="c4188_304"></a><blockquote class="code"><p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p></blockquote>
<!-- END CODE -->
<p>And this allows us to write rules that have characters interacting with doors even in the player's absence:</p>
<!-- START CODE "c4189_304" -->
<a id="c4189_304"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Wainwright Acts[=0x0022=][=0x000A=][=0x000A=]The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents[=0x0027=] Loo. The Waiting Room door is an open door. [=0x0022=]The waiting room door [if open]stands open[otherwise]is shut firmly[end if].[=0x0022=][=0x000A=][=0x000A=]Sir Humphrey is a man in the Gents[=0x0027=] Loo.[=0x000A=][=0x000A=]Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.[=0x000A=][=0x000A=]Definition: a person is other if he is not the player.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]repeat with indiscreet one running through other people:[=0x000A=][=0x0009=][=0x0009=]repeat with port running through open doors that are a threshold of the location of the indiscreet one:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the port is a threshold of the location and the indiscreet one is not in the location:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife[=0x0027=]s infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]z / z / z / w / z / e / close door / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Wainwright Acts&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4190_304" -->
<a id="c4190_304"></a><blockquote class="code"><p class="quoted">
The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents' Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4191_304" -->
<a id="c4191_304"></a><blockquote class="code"><p class="quoted">
Sir Humphrey is a man in the Gents' Loo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4192_304" -->
<a id="c4192_304"></a><blockquote class="code"><p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4193_304" -->
<a id="c4193_304"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if he is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4194_304" -->
<a id="c4194_304"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with indiscreet one running through other people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with port running through open doors that are a threshold of the location of the indiscreet one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the port is a threshold of the location and the indiscreet one is not in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife's infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4195_304" -->
<a id="c4195_304"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / w / z / e / close door / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "237: A Humble Wayside Flower" "e33" -->
<a id="e33"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example33'); return false;"><b>237</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example33'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A Humble Wayside Flower</span></b></a><br />Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc47.html#e33"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example33" style="display: none;">
<p>First we define the relationships we choose to acknowledge:</p>
<!-- START CODE "c4196_33" -->
<a id="c4196_33"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]A Humble Wayside Flower[=0x0022=][=0x000A=][=0x000A=]Marriage relates one person to another (called the spouse). The verb to be married to means the marriage relation.[=0x000A=][=0x000A=]Fatherhood relates one person (called father) to various people. The verb to engender means the fatherhood relation.[=0x000A=][=0x000A=][For brevity, we will ignore the existence of mothers. It is a sad world.][=0x000A=][=0x000A=]Siblinghood relates a person (called A) to a person (called B) when a person who engenders A engenders B. The verb to be sibling to means the siblinghood relation.[=0x000A=][=0x000A=]Family relates a person (called A) to a person (called B) when A is married to B or A engenders B or B engenders A or A is sibling to B. The verb to be related to means the family relation.[=0x000A=][=0x000A=]A person can be known or unknown. After printing the name of an unknown person (called the alien):[=0x000A=][=0x0009=]if a known person (called the contact) is related to the alien:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] ([relation between alien and contact] of [the contact])[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now the alien is known;[=0x000A=][=0x0009=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]To say relation between (first party - a person) and (second party - a person):[=0x000A=][=0x0009=]if the first party is married to the second party:[=0x000A=][=0x0009=][=0x0009=]if the first party is female, say [=0x0022=]wife[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]husband[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]if the first party is sibling to the second party:[=0x000A=][=0x0009=][=0x0009=]if the first party is female, say [=0x0022=]sister[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]brother[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]if the first party engenders the second party:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]father[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]if the second party is the father of the first party:[=0x000A=][=0x0009=][=0x0009=]if the first party is female, say [=0x0022=]daughter[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]son[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]Pere Blanchard[=0x0027=]s Hut is a room. Percival Blakeney is a known man in the Hut. Marguerite is a woman in the Hut. Percival is married to Marguerite. Outside from the Hut is the Garden. Louise is a woman in the Garden. The Road to Paris is west of the Garden. Armand St Just is a man in the Road. Louise is married to Armand. Monsieur St Just is a man. He engenders Armand and Marguerite.[=0x000A=][=0x000A=]Test me with [=0x0022=]out / west / east / west[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;A Humble Wayside Flower&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4197_33" -->
<a id="c4197_33"></a><blockquote class="code"><p class="quoted">
Marriage relates one person to another (called the spouse). The verb to be married to means the marriage relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4198_33" -->
<a id="c4198_33"></a><blockquote class="code"><p class="quoted">
Fatherhood relates one person (called father) to various people. The verb to engender means the fatherhood relation.
</p></blockquote>
<!-- END CODE -->
<p>For brevity, we will ignore the existence of mothers. It is a sad world.</p>
<!-- START CODE "c4199_33" -->
<a id="c4199_33"></a><blockquote class="code"><p class="quoted">
Siblinghood relates a person (called A) to a person (called B) when a person who engenders A engenders B. The verb to be sibling to means the siblinghood relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4200_33" -->
<a id="c4200_33"></a><blockquote class="code"><p class="quoted">
Family relates a person (called A) to a person (called B) when A is married to B or A engenders B or B engenders A or A is sibling to B. The verb to be related to means the family relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4201_33" -->
<a id="c4201_33"></a><blockquote class="code"><p class="quoted">
A person can be known or unknown. After printing the name of an unknown person (called the alien):
<br />&#160;&#160;&#160;&#160;if a known person (called the contact) is related to the alien:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; ([relation between alien and contact] of [the contact])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the alien is known;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4202_33" -->
<a id="c4202_33"></a><blockquote class="code"><p class="quoted">
To say relation between (first party - a person) and (second party - a person):
<br />&#160;&#160;&#160;&#160;if the first party is married to the second party:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the first party is female, say &quot;wife&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;husband&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if the first party is sibling to the second party:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the first party is female, say &quot;sister&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;brother&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if the first party engenders the second party:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;father&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if the second party is the father of the first party:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the first party is female, say &quot;daughter&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;son&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4203_33" -->
<a id="c4203_33"></a><blockquote class="code"><p class="quoted">
Pere Blanchard's Hut is a room. Percival Blakeney is a known man in the Hut. Marguerite is a woman in the Hut. Percival is married to Marguerite. Outside from the Hut is the Garden. Louise is a woman in the Garden. The Road to Paris is west of the Garden. Armand St Just is a man in the Road. Louise is married to Armand. Monsieur St Just is a man. He engenders Armand and Marguerite.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4204_33" -->
<a id="c4204_33"></a><blockquote class="code"><p class="quoted">
Test me with &quot;out / west / east / west&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Monsieur St Just never appears on the scene in this piece, but if we did put him somewhere the player could find him, he, too, would be properly introduced.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc208.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc210.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
