<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.11. Mathematics</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Mathematics" -->
<!-- SEARCH SECTION "10.11" -->
<!-- SEARCH SORT "001-010-011-000" -->
<!-- START IGNORE 89 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc89.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 10: Physics: Substances, Ropes, Energy and Weight</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc91.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง10.11. Mathematics</p>
<p>It is uncommon, but not absolutely unheard-of, to need to do detailed mathematical calculations in interactive fiction.</p>
<p><span class="boldface">The Fibonacci Sequence</span> demonstrates the calculation of a series of numbers; <span class="boldface">Sieve of Eratosthenes</span> shows off how to calculate the prime numbers within a certain range.</p>
<p><span class="boldface">Number Study</span> demonstrates conditional relations between numbers.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "240: Number Study" "e240" -->
<a id="e240"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example240'); return false;"><b>240</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example240'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Number Study</span></b></a><br />The parity and joint magnitude relations explored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc211.html#e240"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example240" style="display: none;">
<p>This is the same case given above, but expanded just slightly to demonstrate that the names of the relations can also be printed, if we like:</p>
<!-- START CODE "c15893_240" -->
<a id="c15893_240"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Number Study[=0x0022=][=0x000A=][=0x000A=]Abstraction is a room.[=0x000A=][=0x000A=]Parity relates a number (called N) to a number (called M) when N minus M is even.[=0x000A=][=0x000A=]Joint magnitude relates a number (called N) to a number (called M) when N plus M is greater than 7.[=0x000A=][=0x000A=]To chart (R - a relation of numbers):[=0x000A=][=0x0009=]repeat with N running from 1 to 5:[=0x000A=][=0x0009=][=0x0009=]repeat with M running from 1 to 5:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if R relates N to M, say [=0x0022=][N] [=0x003C=]=[=0x003E=] [M] by [R][line break][=0x0022=];[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]let L be { parity relation, joint magnitude relation };[=0x000A=][=0x0009=]repeat with R running through L:[=0x000A=][=0x0009=][=0x0009=]chart R.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Number Study&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15894_240" -->
<a id="c15894_240"></a><blockquote class="code"><p class="quoted">
Abstraction is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15895_240" -->
<a id="c15895_240"></a><blockquote class="code"><p class="quoted">
Parity relates a number (called N) to a number (called M) when N minus M is even.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15896_240" -->
<a id="c15896_240"></a><blockquote class="code"><p class="quoted">
Joint magnitude relates a number (called N) to a number (called M) when N plus M is greater than 7.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15897_240" -->
<a id="c15897_240"></a><blockquote class="code"><p class="quoted">
To chart (R - a relation of numbers):
<br />&#160;&#160;&#160;&#160;repeat with N running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with M running from 1 to 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if R relates N to M, say &quot;[N] &lt;=&gt; [M] by [R][line break]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15898_240" -->
<a id="c15898_240"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let L be { parity relation, joint magnitude relation };
<br />&#160;&#160;&#160;&#160;repeat with R running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;chart R.
</p></blockquote>
<!-- END CODE -->
<p>As this shows, we can even form lists of relations. The kind of L is &quot;list of relations of numbers&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "437: The Fibonacci Sequence" "e383" -->
<a id="e383"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example383'); return false;"><b>437</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example383'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fibonacci Sequence</span></b></a><br />The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc362.html#e383"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example383" style="display: none;">
<p>Fibonacci (a posthumous nickname) spread Arabic mathematical learning across Europe in the 13th century, and it's curious that his name lives on only for a single sequence.</p>
<!-- START CODE "c15899_383" -->
<a id="c15899_383"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Fibonacci Sequence[=0x0022=][=0x000A=][=0x000A=]Pisa is a room. Leonardo Fibonacci is a man in Pisa. [=0x0022=]The modest Italian mathematician, Leonardo Fibonacci (1170-1250), beams at you.[=0x0022=][=0x000A=][=0x000A=]Sequencing is an action applying to one number. Understand [=0x0022=]sequence [number][=0x0022=] as sequencing.[=0x000A=][=0x000A=]Instead of sequencing, say [=0x0022=]You make a feeble attempt, sketching in the sand, but it goes nowhere. Leonardo is sympathetic. [=0x0027=]Often goes wrong for me, too, actually. I didn[=0x0027=]t even invent the thing - the ancient Indians knew about it first.[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Persuasion rule for asking Leonardo to try sequencing: persuasion succeeds.[=0x000A=][=0x000A=]Report Leonardo sequencing:[=0x000A=][=0x0009=]let N be the number understood;[=0x000A=][=0x0009=]say [=0x0022=]Leonardo scratches his head and makes self-deprecating remarks, before coming up with [the first N terms of the Fibonacci sequence].[=0x0022=][=0x000A=][=0x000A=][ An array need not be fixed in length, as the following example shows:][=0x000A=][=0x000A=]To decide what list of numbers is the first (F - a number) terms of the Fibonacci sequence:[=0x000A=][=0x0009=]let the Fibonacci sequence be {1, 1};[=0x000A=][=0x0009=]let N be 3;[=0x000A=][=0x0009=]while N [=0x003C=] F:[=0x000A=][=0x0009=][=0x0009=]let the last term be entry (N - 1) of the Fibonacci sequence;[=0x000A=][=0x0009=][=0x0009=]let the penultimate term be entry (N - 2) of the Fibonacci sequence;[=0x000A=][=0x0009=][=0x0009=]let the next term be the last term plus the penultimate term;[=0x000A=][=0x0009=][=0x0009=]add the next term to the Fibonacci sequence;[=0x000A=][=0x0009=][=0x0009=]increment N;[=0x000A=][=0x0009=]decide on the Fibonacci sequence.[=0x000A=][=0x000A=]Test me with [=0x0022=]sequence 20 / leonardo, sequence 20[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;The Fibonacci Sequence&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15900_383" -->
<a id="c15900_383"></a><blockquote class="code"><p class="quoted">
Pisa is a room. Leonardo Fibonacci is a man in Pisa. &quot;The modest Italian mathematician, Leonardo Fibonacci (1170-1250), beams at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15901_383" -->
<a id="c15901_383"></a><blockquote class="code"><p class="quoted">
Sequencing is an action applying to one number. Understand &quot;sequence [number]&quot; as sequencing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15902_383" -->
<a id="c15902_383"></a><blockquote class="code"><p class="quoted">
Instead of sequencing, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Leonardo is sympathetic. 'Often goes wrong for me, too, actually. I didn't even invent the thing - the ancient Indians knew about it first.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15903_383" -->
<a id="c15903_383"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Leonardo to try sequencing: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15904_383" -->
<a id="c15904_383"></a><blockquote class="code"><p class="quoted">
Report Leonardo sequencing:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;say &quot;Leonardo scratches his head and makes self-deprecating remarks, before coming up with [the first N terms of the Fibonacci sequence].&quot;
</p></blockquote>
<!-- END CODE -->
<p> An array need not be fixed in length, as the following example shows:</p>
<!-- START CODE "c15905_383" -->
<a id="c15905_383"></a><blockquote class="code"><p class="quoted">
To decide what list of numbers is the first (F - a number) terms of the Fibonacci sequence:
<br />&#160;&#160;&#160;&#160;let the Fibonacci sequence be {1, 1};
<br />&#160;&#160;&#160;&#160;let N be 3;
<br />&#160;&#160;&#160;&#160;while N &lt; F:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the last term be entry (N - 1) of the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the penultimate term be entry (N - 2) of the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the next term be the last term plus the penultimate term;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add the next term to the Fibonacci sequence;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment N;
<br />&#160;&#160;&#160;&#160;decide on the Fibonacci sequence.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15906_383" -->
<a id="c15906_383"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sequence 20 / leonardo, sequence 20&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The result of &quot;the first 20 terms of the Fibonacci sequence&quot; is &quot;1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584 and 4181&quot;. This is a sequence which has a knack of turning up in odd places - it was found in the 1970s to be related to the rings of florets in a sunflower, for instance - and here it is in a book about interactive fiction.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "438: Sieve of Eratosthenes" "e422" -->
<a id="e422"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example422'); return false;"><b>438</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example422'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Sieve of Eratosthenes</span></b></a><br />The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc362.html#e422"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example422" style="display: none;">
<p>In the words of Wikipedia: &quot;Eratosthenes of Cyrene (Greek Eฯฮฑฯฮฟฯฮธฮญฮฝฮทฯ; 276 BC-194 BC) was a Greek mathematician, poet, athlete, geographer and astronomer.&quot; In the words of Tom Lehrer: &quot;It's people like that who make you realise how little you've achieved in life.&quot;</p>
<p>A prime number is a number greater than 1 which is not a multiple of anything, so we can find the primes by starting with all the numbers and sieving out all the multiples of 2, then all the multiples of 3, and so on. Here we make our sieve of the unacceptable numbers (the &quot;composite&quot; or non-prime ones) first, then form a list of all the numbers, then sieve out the composites: what are left must be the primes.</p>
<!-- START CODE "c15907_422" -->
<a id="c15907_422"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Sieve of Eratosthenes[=0x0022=][=0x000A=][=0x000A=]Alexandria is a room. Eratosthenes is a man in Alexandria. [=0x0022=]The haughty Greek mathematician, Eratosthenes, glowers at you.[=0x0022=][=0x000A=][=0x000A=]Sieving is an action applying to one number. Understand [=0x0022=]sieve [number][=0x0022=] as sieving.[=0x000A=][=0x000A=]Instead of sieving, say [=0x0022=]You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. [=0x0027=]I expect your friends call you gamma, then?[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.[=0x000A=][=0x000A=]Report Eratosthenes sieving:[=0x000A=][=0x0009=]let N be the number understood;[=0x000A=][=0x0009=]let the composites be a list of numbers;[=0x000A=][=0x0009=]let I be 2;[=0x000A=][=0x0009=]while I times I is at most N:[=0x000A=][=0x0009=][=0x0009=]if I is not listed in the composites:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let J be I times 2;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]while J is at most N:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]add J to the composites, if absent;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]increase J by I;[=0x000A=][=0x0009=][=0x0009=]increment I;[=0x000A=][=0x0009=]sort the composites;[=0x000A=][=0x0009=]let the primes be a list of numbers;[=0x000A=][=0x0009=]repeat with P running from 2 to N:[=0x000A=][=0x0009=][=0x0009=]add P to the primes;[=0x000A=][=0x0009=]remove the composites from the primes;[=0x000A=][=0x0009=]say [=0x0022=]Eratosthenes sketches lines in the sand with the air of much practice. [=0x0027=]The primes up to [N] are [the primes]. The composites are [the composites].[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sieve 10 / eratosthenes, sieve 100[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Sieve of Eratosthenes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15908_422" -->
<a id="c15908_422"></a><blockquote class="code"><p class="quoted">
Alexandria is a room. Eratosthenes is a man in Alexandria. &quot;The haughty Greek mathematician, Eratosthenes, glowers at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15909_422" -->
<a id="c15909_422"></a><blockquote class="code"><p class="quoted">
Sieving is an action applying to one number. Understand &quot;sieve [number]&quot; as sieving.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15910_422" -->
<a id="c15910_422"></a><blockquote class="code"><p class="quoted">
Instead of sieving, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. 'I expect your friends call you gamma, then?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15911_422" -->
<a id="c15911_422"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15912_422" -->
<a id="c15912_422"></a><blockquote class="code"><p class="quoted">
Report Eratosthenes sieving:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;let the composites be a list of numbers;
<br />&#160;&#160;&#160;&#160;let I be 2;
<br />&#160;&#160;&#160;&#160;while I times I is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if I is not listed in the composites:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let J be I times 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while J is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add J to the composites, if absent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase J by I;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment I;
<br />&#160;&#160;&#160;&#160;sort the composites;
<br />&#160;&#160;&#160;&#160;let the primes be a list of numbers;
<br />&#160;&#160;&#160;&#160;repeat with P running from 2 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add P to the primes;
<br />&#160;&#160;&#160;&#160;remove the composites from the primes;
<br />&#160;&#160;&#160;&#160;say &quot;Eratosthenes sketches lines in the sand with the air of much practice. 'The primes up to [N] are [the primes]. The composites are [the composites].'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15913_422" -->
<a id="c15913_422"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sieve 10 / eratosthenes, sieve 100&quot;.
</p></blockquote>
<!-- END CODE -->
<p>While this could all be done more efficiently with an array, that's only because what we are sieving are numbers: sieving is a technique which can be used for non-numerical decisions, too.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc89.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc91.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
