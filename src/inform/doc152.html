<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>10.3. Using the Scene index</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Using the Scene index" -->
<!-- SEARCH SECTION "10.3" -->
<!-- SEARCH SORT "000-010-003-000" -->
<!-- START IGNORE 151 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc151.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 10: Scenes</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc153.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง10.3. Using the Scene index</p>
<p>But when we test the previous section's example, we find that after a brief wait, the train pulls up: but it never goes away again. We have given instructions on how the scene ends, but not when it ends, and as a result the scene goes on forever once started.</p>
<p>Even with simple story-lines, and this one could hardly be simpler, it is surprisingly easy to overlook something so that the whole story-line is derailed.</p>
<p>The Scenes page of the index is intended to help with this. The Plot section shows all of the scenes and how they are to begin, along with a key to the symbols used on it. One scene always included is &quot;Entire Game&quot;, a special scene which, as its name implies, is always being played out. But if we look at the Scene index for the previous example, we will also see our Train Stop scene, and find that it is marked with the red warning symbol for &quot;never ends&quot;. Let us fix this:</p>
<!-- START CODE "c2409" -->
<a id="c2409"></a><blockquote class="code"><p class="quoted">
Train Stop ends when the time since Train Stop began is 3 minutes.
</p></blockquote>
<!-- END CODE -->
<p>Note the useful value &quot;time since Train Stop began&quot;:</p>
<!-- START PHRASE "defn111" -->
<div class="definition"><a id="defn111"></a><p class="defnprototype"><b>time since </b>(scene)<b> began ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_scenetimesincebegan -->

<p>This phrase produces the time since the named scene began, which only makes sense, of course, if it has indeed begun. Example:</p>
<!-- START CODE "c2410" -->
<a id="c2410"></a><blockquote class="code"><p class="quoted">
time since Entire Game began
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn112" -->
<div class="definition"><a id="defn112"></a><p class="defnprototype"><b>time since </b>(scene)<b> ended ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_scenetimesinceended -->

<p>This phrase produces the time since the named scene ended, which only makes sense, of course, if it has indeed ended. Example:</p>
<!-- START CODE "c2411" -->
<a id="c2411"></a><blockquote class="code"><p class="quoted">
time since Formal Dinner ended
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The actual times, in case they are needed, can be obtained with:</p>
<!-- START PHRASE "defn113" -->
<div class="definition"><a id="defn113"></a><p class="defnprototype"><b>time when </b>(scene)<b> began ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_scenetimewhenbegan -->

<p>This phrase produces the time (i.e., the value of the &quot;time of day&quot; variable) at the moment when the given scene began.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn114" -->
<div class="definition"><a id="defn114"></a><p class="defnprototype"><b>time when </b>(scene)<b> ended ... time</b></p>
<!-- END PHRASE -->
<!-- definition of ph_scenetimewhenended -->

<p>This phrase produces the time (i.e., the value of the &quot;time of day&quot; variable) at the moment when the given scene ended.</p>

<!-- end definition -->
</div>

<p>The testing command SCENES causes Inform to monitor the beginning and ending of scenes, and report on them. For instance:</p>
<!-- START CODE "c2412" -->
<a id="c2412"></a><blockquote class="code"><p class="quoted">
&gt;ask monk about lodging
<br />&quot;Welcome a poor traveler for the night?&quot; you ask, rubbing your fingers together to restore a little feeling.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2413" -->
<a id="c2413"></a><blockquote class="code"><p class="quoted">
The monk looks you up and down for a moment and you sense his reaction hanging in the balance; then he slaps you on the back, hard enough to drive the air from your lungs. &quot;In.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2414" -->
<a id="c2414"></a><blockquote class="code"><p class="quoted">
[Scene 'Greeting' ends]
<br />The monk takes your elbow and pushes you imperiously toward dinner.
<br />[Scene 'Banquet' begins]
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "156: Age of Steam" "e282" -->
<a id="e282"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example282'); return false;"><b>156</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example282'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Age of Steam</span></b></a><br />The railway-station examples so far put together into a short game called "Age of Steam".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc20.html#e282"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example282" style="display: none;">
<p>The following source is very short and simple, yet it already feels surprisingly interesting in play, because something is going on which the player does not control but must observe. The single scene both starts and finishes.</p>
<!-- START CODE "c2415_282" -->
<a id="c2415_282"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Age of Steam[=0x0022=][=0x000A=][=0x000A=]The Station is a room. [=0x0022=]Eynforme Halt is a raised platform fringed with cowslip: a whistle-stop with no more than a signal and a water-tank.[=0x0022=][=0x000A=][=0x000A=]The Flying Scotsman is fixed in place. [=0x0022=]The Flying Scotsman, fastest train in the world, is now at a dead standstill.[=0x0022=][=0x000A=][=0x000A=]Train Stop is a scene. Train Stop begins when the player is in the Station for the third turn. Train Stop ends when the time since Train Stop began is 3 minutes.[=0x000A=][=0x000A=]When Train Stop begins:[=0x000A=][=0x0009=]now the Flying Scotsman is in the Station;[=0x000A=][=0x0009=]say [=0x0022=]The Flying Scotsman pulls up at the platform, to a billow of steam and hammering.[=0x0022=][=0x000A=][=0x000A=]When Train Stop ends:[=0x000A=][=0x0009=]now the Flying Scotsman is nowhere;[=0x000A=][=0x0009=]say [=0x0022=]The Flying Scotsman inches away, with a squeal of released brakes, gathering speed invincibly until it disappears around the hill. All is abruptly still once more.[=0x0022=][=0x000A=][=0x000A=]Instead of entering the Flying Scotsman, say [=0x0022=]Alas, the [time when Train Stop began] arrival is only to take on water, not to set down or pick up.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]z / z / z / enter flying scotsman / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Age of Steam&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2416_282" -->
<a id="c2416_282"></a><blockquote class="code"><p class="quoted">
The Station is a room. &quot;Eynforme Halt is a raised platform fringed with cowslip: a whistle-stop with no more than a signal and a water-tank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2417_282" -->
<a id="c2417_282"></a><blockquote class="code"><p class="quoted">
The Flying Scotsman is fixed in place. &quot;The Flying Scotsman, fastest train in the world, is now at a dead standstill.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2418_282" -->
<a id="c2418_282"></a><blockquote class="code"><p class="quoted">
Train Stop is a scene. Train Stop begins when the player is in the Station for the third turn. Train Stop ends when the time since Train Stop began is 3 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2419_282" -->
<a id="c2419_282"></a><blockquote class="code"><p class="quoted">
When Train Stop begins:
<br />&#160;&#160;&#160;&#160;now the Flying Scotsman is in the Station;
<br />&#160;&#160;&#160;&#160;say &quot;The Flying Scotsman pulls up at the platform, to a billow of steam and hammering.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2420_282" -->
<a id="c2420_282"></a><blockquote class="code"><p class="quoted">
When Train Stop ends:
<br />&#160;&#160;&#160;&#160;now the Flying Scotsman is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;The Flying Scotsman inches away, with a squeal of released brakes, gathering speed invincibly until it disappears around the hill. All is abruptly still once more.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2421_282" -->
<a id="c2421_282"></a><blockquote class="code"><p class="quoted">
Instead of entering the Flying Scotsman, say &quot;Alas, the [time when Train Stop began] arrival is only to take on water, not to set down or pick up.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2422_282" -->
<a id="c2422_282"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / enter flying scotsman / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc151.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc153.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
