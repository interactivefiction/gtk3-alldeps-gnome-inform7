<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>9.1. Food</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Food" -->
<!-- SEARCH SECTION "9.1" -->
<!-- SEARCH SORT "001-009-001-000" -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc67.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc69.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<p class="sectionheading">ยง9.1. Food</p>
<p>Inform provides an either/or property called &quot;edible&quot; and an action, &quot;eating&quot;, for consuming edible things:</p>
<!-- START CODE "c13939" -->
<a id="c13939"></a><blockquote class="code"><p class="quoted">
The lardy cake is edible. After eating the lardy cake, say &quot;Sticky but delicious.&quot;
</p></blockquote>
<!-- END CODE -->
<p>For eating something not immediately to hand, see <span class="boldface">Lollipop Guild</span>. <span class="boldface">Delicious, Delicious Rocks</span>, conversely, adds a sanity check which prevents the player from automatically taking inedible things only to be told they can't be eaten.</p>
<p>Inform does not normally simulate taste or digestion, but to provide foods with a range of flavours, see <span class="boldface">Would you...?</span>; to make eating different foods affect the player differently, see <span class="boldface">Stone</span>, or for the extreme case of poisoning foods, <span class="boldface">Candy</span>. In <span class="boldface">MRE</span>, hunger causes the player problems unless he regularly finds and eats food.</p>
<p class="crossreference"><a href="Rdoc81.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for things to drink</i></p><p class="crossreference"><a href="Rdoc82.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Dispensers and Supplies of Small Objects</b></a><i> for a pizza buffet table from which the player may take all the slices he wants</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "48: Would you...?" "e25" -->
<a id="e25"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example25'); return false;"><b>48</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example25'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Would you...?</span></b></a><br />Adding new properties to objects, and checking for their presence.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc59.html#e25"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example25" style="display: none;">
<p>For instance, if we want to give some objects a flavor:</p>
<!-- START CODE "c13940_25" -->
<a id="c13940_25"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Would you...?[=0x0022=][=0x000A=][=0x000A=]The House is a room. The mouse is an animal in the House.[=0x000A=][=0x000A=]The player carries some green eggs and a ham.[=0x000A=][=0x000A=]A food is a kind of thing that is edible. Food has some text called flavor. The flavor of food is usually [=0x0022=]Tolerable.[=0x0022=][=0x000A=][=0x000A=][Things are, in general, not edible by default, so we have to make them edible specifically in order to allow them to be eaten by the player. Here we[=0x0027=]ve defined food to be edible by default, and we have given it a standard piece of flavor text.][=0x000A=][=0x000A=]The ham and the green eggs are food. The flavor of the green eggs is [=0x0022=]Delicious![=0x0022=][=0x000A=][=0x000A=]After eating something:[=0x000A=][=0x0009=]if the noun provides the property flavor, say [=0x0022=][the flavor of the noun][paragraph break][=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]It[=0x0027=]s [noun]-flavored.[=0x0022=][=0x000A=][=0x000A=][Note that we use [=0x0022=]if the noun provides a flavor...[=0x0022=] to make sure that the property exists before attempting to use it. Otherwise, there is the risk that we will try to print a property that does not exist, resulting in errors in the game.][=0x000A=][=0x000A=][We will only get the [=0x0022=]It[=0x0027=]s [noun]-flavored.[=0x0022=] response if we successfully eat something that is not a food and does not have flavor text. To test this feature, let[=0x0027=]s suppose something that isn[=0x0027=]t exactly food but can theoretically be chewed on:][=0x000A=][=0x000A=]The player carries some paper. The paper is edible.[=0x000A=][=0x000A=]Test me with [=0x0022=]eat ham / eat green eggs / eat paper[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Would you...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13941_25" -->
<a id="c13941_25"></a><blockquote class="code"><p class="quoted">
The House is a room. The mouse is an animal in the House.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13942_25" -->
<a id="c13942_25"></a><blockquote class="code"><p class="quoted">
The player carries some green eggs and a ham.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13943_25" -->
<a id="c13943_25"></a><blockquote class="code"><p class="quoted">
A food is a kind of thing that is edible. Food has some text called flavor. The flavor of food is usually &quot;Tolerable.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Things are, in general, not edible by default, so we have to make them edible specifically in order to allow them to be eaten by the player. Here we've defined food to be edible by default, and we have given it a standard piece of flavor text.</p>
<!-- START CODE "c13944_25" -->
<a id="c13944_25"></a><blockquote class="code"><p class="quoted">
The ham and the green eggs are food. The flavor of the green eggs is &quot;Delicious!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13945_25" -->
<a id="c13945_25"></a><blockquote class="code"><p class="quoted">
After eating something:
<br />&#160;&#160;&#160;&#160;if the noun provides the property flavor, say &quot;[the flavor of the noun][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It's [noun]-flavored.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that we use &quot;if the noun provides a flavor...&quot; to make sure that the property exists before attempting to use it. Otherwise, there is the risk that we will try to print a property that does not exist, resulting in errors in the game.</p>
<p>We will only get the &quot;It's [noun]-flavored.&quot; response if we successfully eat something that is not a food and does not have flavor text. To test this feature, let's suppose something that isn't exactly food but can theoretically be chewed on:</p>
<!-- START CODE "c13946_25" -->
<a id="c13946_25"></a><blockquote class="code"><p class="quoted">
The player carries some paper. The paper is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13947_25" -->
<a id="c13947_25"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat ham / eat green eggs / eat paper&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "133: Candy" "e77" -->
<a id="e77"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example77'); return false;"><b>133</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example77'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Candy</span></b></a><br />One of several identical candies chosen at the start of play to be poisonous.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc134.html#e77"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example77" style="display: none;">
<p>Suppose we want to give the player a bag of candies, of which a random one is poisonous. We can pick which one should be poisoned at the start of play, like this:</p>
<!-- START CODE "c13948_77" -->
<a id="c13948_77"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Candy[=0x0022=][=0x000A=][=0x000A=]The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.[=0x000A=][=0x000A=]Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.[=0x000A=][=0x000A=]The Porch is a room. The player carries the Halloween bag.[=0x000A=][=0x000A=]After eating a poisonous piece of candy:[=0x000A=][=0x0009=]say [=0x0022=]Oh, that didn[=0x0027=]t taste right at all. Oh well![=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now a random piece of candy is poisonous.[=0x000A=][=0x000A=]Test me with [=0x0022=]eat candy / g / g / g[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Candy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13949_77" -->
<a id="c13949_77"></a><blockquote class="code"><p class="quoted">
The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13950_77" -->
<a id="c13950_77"></a><blockquote class="code"><p class="quoted">
Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13951_77" -->
<a id="c13951_77"></a><blockquote class="code"><p class="quoted">
The Porch is a room. The player carries the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13952_77" -->
<a id="c13952_77"></a><blockquote class="code"><p class="quoted">
After eating a poisonous piece of candy:
<br />&#160;&#160;&#160;&#160;say &quot;Oh, that didn't taste right at all. Oh well!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13953_77" -->
<a id="c13953_77"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now a random piece of candy is poisonous.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13954_77" -->
<a id="c13954_77"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat candy / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "143: MRE" "e325" -->
<a id="e325"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example325'); return false;"><b>143</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example325'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">MRE</span></b></a><br />Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc145.html#e325"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example325" style="display: none;">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c13955_325" -->
<a id="c13955_325"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]MRE[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.[=0x000A=][=0x000A=]They were wrong.[=0x0022=][=0x000A=][=0x000A=]The Base Camp Larder is a room. [=0x0022=]This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you[=0x0027=]re inside now.[=0x0022=][=0x000A=][=0x000A=][Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:][=0x000A=][=0x000A=]Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.[=0x000A=][=0x000A=]A person can be hungry or replete. The player is hungry.[=0x000A=][=0x000A=]The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.[=0x000A=][=0x000A=]Check eating something which is not food:[=0x000A=][=0x0009=]say [=0x0022=][The noun] might be edible, but it[=0x0027=]s not what you[=0x0027=]d consider really food.[=0x0022=][=0x000A=][=0x000A=]Check eating something when the player is not hungry:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re not hungry right now.[=0x0022=][=0x000A=][=0x000A=]Carry out eating something:[=0x000A=][=0x0009=]now the player is replete;[=0x000A=][=0x0009=]hunger resumes in the satisfaction period of the noun from now.[=0x000A=][=0x000A=][The first of those two phrases, [=0x0022=]now the player is replete[=0x0022=], causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:][=0x000A=][=0x000A=]At the time when hunger resumes:[=0x000A=][=0x0009=]starvation occurs in three minutes from now;[=0x000A=][=0x0009=]now the player is hungry.[=0x000A=][=0x000A=]At the time when starvation occurs:[=0x000A=][=0x0009=]if the player is hungry, end the story saying [=0x0022=]You have starved[=0x0022=].[=0x000A=][=0x000A=][Note [=0x0022=]if the player is hungry[=0x0022=]: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.][=0x000A=][=0x000A=][And now, since we really ought to give the player some warning of what is happening to him:][=0x000A=][=0x000A=]Every turn when the player is hungry:[=0x000A=][=0x0009=]choose a random row in the Table of Hunger Complaints;[=0x000A=][=0x0009=]say [=0x0022=][hunger entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Table of Hunger Complaints[=0x000A=]hunger[=0x000A=][=0x0022=]Gosh, you[=0x0027=]re starving.[=0x0022=][=0x000A=][=0x0022=]It feels as though you haven[=0x0027=]t eaten in days. Weeks, almost.[=0x0022=][=0x000A=][=0x0022=]The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.[=0x0022=][=0x000A=][=0x0022=]You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13956_325" -->
<a id="c13956_325"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13957_325" -->
<a id="c13957_325"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13958_325" -->
<a id="c13958_325"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c13959_325" -->
<a id="c13959_325"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13960_325" -->
<a id="c13960_325"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13961_325" -->
<a id="c13961_325"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13962_325" -->
<a id="c13962_325"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13963_325" -->
<a id="c13963_325"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13964_325" -->
<a id="c13964_325"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c13965_325" -->
<a id="c13965_325"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13966_325" -->
<a id="c13966_325"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c13967_325" -->
<a id="c13967_325"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13968_325" -->
<a id="c13968_325"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13969_325" -->
<a id="c13969_325"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "390: Stone" "e396" -->
<a id="e396"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example396'); return false;"><b>390</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example396'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Stone</span></b></a><br />A soup to which the player can add ingredients, which will have different effects when the player eats.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc329.html#e396"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example396" style="display: none;">
<p>A thing can have a rule as a property, if we like. Here we are going to allow the player to make a soup whose effects will depend on its ingredients. Each ingredient will have its own &quot;food effect&quot; rule, to be followed when the food is eaten.</p>
<p>Note that there are other, slightly less cumbersome ways to do the same thing -- we will see in the chapter on Rulebooks that we could make a &quot;food effects rulebook&quot; and then write a number of rules such as &quot;food effects rule for carrots&quot; or &quot;food effects rule for the stone&quot;. Nonetheless, we demonstrate rules-as-properties here for the sake of thoroughness.</p>
<p>So:</p>
<!-- START CODE "c13970_396" -->
<a id="c13970_396"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Stone[=0x0022=][=0x000A=][=0x000A=]A food is a kind of thing that is edible. A food has a rule called the food effect.[=0x000A=][=0x000A=]Carry out eating a food:[=0x000A=][=0x0009=]if a food is part of the noun:[=0x000A=][=0x0009=][=0x0009=]repeat with item running through things which are part of the noun:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if item is a food, follow the food effect of the item;[=0x000A=][=0x0009=]follow the food effect of the noun.[=0x000A=][=0x000A=]Report eating a food:[=0x000A=][=0x0009=]say [=0x0022=]You eat [the noun]. [diagnosis of the player][=0x0022=];[=0x000A=][=0x0009=]stop the action.[=0x000A=][=0x000A=]To say diagnosis of (victim - a person):[=0x000A=][=0x0009=]if the victim is ill:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You are ill.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You are healthy. [=0x0022=];[=0x000A=][=0x0009=]if the victim is awake, say [=0x0022=]You are wide awake. [=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]You are sleepy. [=0x0022=];[=0x000A=][=0x0009=]if the victim is bright-eyed, say [=0x0022=]Your eyesight is clear. [=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]Your eyesight is dim. [=0x0022=];[=0x000A=][=0x0009=]if the victim is weak, say [=0x0022=]You are weak. [=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]You are strong. [=0x0022=];[=0x000A=][=0x0009=]if the victim is hungry, say [=0x0022=]You are hungry.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]You are well-fed.[=0x0022=][=0x000A=][=0x000A=][And now to provide some particular foods:][=0x000A=][=0x000A=]Some carrots are a food. The food effect of carrots is the bright-eye rule. This is the bright-eye rule: now the player is bright-eyed.[=0x000A=][=0x000A=]Some potatoes are a food. The food effect of the potatoes is the sleepiness rule. This is the sleepiness rule: now the player is sleepy.[=0x000A=][=0x000A=]The broth is a food. The indefinite article of the broth is [=0x0022=]some[=0x0022=]. The food effect of broth is the filling rule. This is the filling rule: now the player is full.[=0x000A=][=0x000A=]The hambone is a food. The food effect of the hambone is the heartiness rule. This is the heartiness rule: now the player is strong. Instead of eating the hambone: say [=0x0022=]You cannot just eat a bone![=0x0022=][=0x000A=][=0x000A=]The poison ivy is a food. [=0x0022=]Poison ivy grows nearby.[=0x0022=] The food effect of poison is the illness rule. This is the illness rule: now the player is ill.[=0x000A=][=0x000A=]A person can be bright-eyed or blind. The player is blind.[=0x000A=][=0x000A=]A person can be well or ill. The player is well.[=0x000A=][=0x000A=]A person can be hungry or full. The player is full.[=0x000A=][=0x000A=]A person can be strong or weak. The player is weak.[=0x000A=][=0x000A=]A person can be awake or sleepy. The player is sleepy.[=0x000A=][=0x000A=]The broth is in the kettle. The kettle is on the fire. The fire is in the Clearing. The Clearing is a room.[=0x000A=][=0x000A=]The player carries the hambone, the potatoes, and the carrots. The ivy is in the clearing.[=0x000A=][=0x000A=]Instead of examining the broth:[=0x000A=][=0x0009=]if something is part of the broth, say [=0x0022=]In the broth, [a list of things that are part of the broth] float[if exactly one thing is part of the broth]s[end if].[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]It is just a thin broth with no other ingredients.[=0x0022=][=0x000A=][=0x000A=]Instead of inserting something into the broth: try inserting the noun into the holder of the broth.[=0x000A=][=0x000A=]Instead of taking the broth: say [=0x0022=]You cannot take the broth in your bare hands.[=0x0022=][=0x000A=][=0x000A=][And the following is a relatively unimportant nicety:][=0x000A=][=0x000A=]To sink is a verb.[=0x000A=][=0x000A=]After inserting a food which is not the broth into a container which contains the broth:[=0x000A=][=0x0009=]now the noun is part of the broth;[=0x000A=][=0x0009=]say [=0x0022=][The noun] [sink] into [the second noun], making the broth richer.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x broth / eat hambone / put hambone in kettle / x broth / put potatoes in broth / x broth / eat carrots / eat broth / put ivy in kettle / eat ivy[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Stone&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13971_396" -->
<a id="c13971_396"></a><blockquote class="code"><p class="quoted">
A food is a kind of thing that is edible. A food has a rule called the food effect.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13972_396" -->
<a id="c13972_396"></a><blockquote class="code"><p class="quoted">
Carry out eating a food:
<br />&#160;&#160;&#160;&#160;if a food is part of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things which are part of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if item is a food, follow the food effect of the item;
<br />&#160;&#160;&#160;&#160;follow the food effect of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13973_396" -->
<a id="c13973_396"></a><blockquote class="code"><p class="quoted">
Report eating a food:
<br />&#160;&#160;&#160;&#160;say &quot;You eat [the noun]. [diagnosis of the player]&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13974_396" -->
<a id="c13974_396"></a><blockquote class="code"><p class="quoted">
To say diagnosis of (victim - a person):
<br />&#160;&#160;&#160;&#160;if the victim is ill:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are ill.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are healthy. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is awake, say &quot;You are wide awake. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are sleepy. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is bright-eyed, say &quot;Your eyesight is clear. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Your eyesight is dim. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is weak, say &quot;You are weak. &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are strong. &quot;;
<br />&#160;&#160;&#160;&#160;if the victim is hungry, say &quot;You are hungry.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You are well-fed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now to provide some particular foods:</p>
<!-- START CODE "c13975_396" -->
<a id="c13975_396"></a><blockquote class="code"><p class="quoted">
Some carrots are a food. The food effect of carrots is the bright-eye rule. This is the bright-eye rule: now the player is bright-eyed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13976_396" -->
<a id="c13976_396"></a><blockquote class="code"><p class="quoted">
Some potatoes are a food. The food effect of the potatoes is the sleepiness rule. This is the sleepiness rule: now the player is sleepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13977_396" -->
<a id="c13977_396"></a><blockquote class="code"><p class="quoted">
The broth is a food. The indefinite article of the broth is &quot;some&quot;. The food effect of broth is the filling rule. This is the filling rule: now the player is full.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13978_396" -->
<a id="c13978_396"></a><blockquote class="code"><p class="quoted">
The hambone is a food. The food effect of the hambone is the heartiness rule. This is the heartiness rule: now the player is strong. Instead of eating the hambone: say &quot;You cannot just eat a bone!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13979_396" -->
<a id="c13979_396"></a><blockquote class="code"><p class="quoted">
The poison ivy is a food. &quot;Poison ivy grows nearby.&quot; The food effect of poison is the illness rule. This is the illness rule: now the player is ill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13980_396" -->
<a id="c13980_396"></a><blockquote class="code"><p class="quoted">
A person can be bright-eyed or blind. The player is blind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13981_396" -->
<a id="c13981_396"></a><blockquote class="code"><p class="quoted">
A person can be well or ill. The player is well.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13982_396" -->
<a id="c13982_396"></a><blockquote class="code"><p class="quoted">
A person can be hungry or full. The player is full.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13983_396" -->
<a id="c13983_396"></a><blockquote class="code"><p class="quoted">
A person can be strong or weak. The player is weak.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13984_396" -->
<a id="c13984_396"></a><blockquote class="code"><p class="quoted">
A person can be awake or sleepy. The player is sleepy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13985_396" -->
<a id="c13985_396"></a><blockquote class="code"><p class="quoted">
The broth is in the kettle. The kettle is on the fire. The fire is in the Clearing. The Clearing is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13986_396" -->
<a id="c13986_396"></a><blockquote class="code"><p class="quoted">
The player carries the hambone, the potatoes, and the carrots. The ivy is in the clearing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13987_396" -->
<a id="c13987_396"></a><blockquote class="code"><p class="quoted">
Instead of examining the broth:
<br />&#160;&#160;&#160;&#160;if something is part of the broth, say &quot;In the broth, [a list of things that are part of the broth] float[if exactly one thing is part of the broth]s[end if].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;It is just a thin broth with no other ingredients.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13988_396" -->
<a id="c13988_396"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into the broth: try inserting the noun into the holder of the broth.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13989_396" -->
<a id="c13989_396"></a><blockquote class="code"><p class="quoted">
Instead of taking the broth: say &quot;You cannot take the broth in your bare hands.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And the following is a relatively unimportant nicety:</p>
<!-- START CODE "c13990_396" -->
<a id="c13990_396"></a><blockquote class="code"><p class="quoted">
To sink is a verb.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13991_396" -->
<a id="c13991_396"></a><blockquote class="code"><p class="quoted">
After inserting a food which is not the broth into a container which contains the broth:
<br />&#160;&#160;&#160;&#160;now the noun is part of the broth;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] [sink] into [the second noun], making the broth richer.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13992_396" -->
<a id="c13992_396"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x broth / eat hambone / put hambone in kettle / x broth / put potatoes in broth / x broth / eat carrots / eat broth / put ivy in kettle / eat ivy&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "197: Delicious, Delicious Rocks" "e269" -->
<a id="e269"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example269'); return false;"><b>197</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example269'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Delicious, Delicious Rocks</span></b></a><br />Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc185.html#e269"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example269" style="display: none;">
<p>In some cases, we may want to add new stages to action processing. One possibility is a stage where we check the sanity of what the player is trying to do before executing any of the other commands; so that we avoid, for instance</p>
<!-- START CODE "c13993_269" -->
<a id="c13993_269"></a><blockquote class="code"><p class="quoted">
&gt;EAT ROCK
<br />(first taking the rock)
<br />That's plainly inedible.
</p></blockquote>
<!-- END CODE -->
<p>Here is how we might insert such a stage in our action processing, using rulebook manipulation.</p>
<!-- START CODE "c13994_269" -->
<a id="c13994_269"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Delicious, Delicious Rocks[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The sanity-check rules are a rulebook.[=0x000A=][=0x000A=]This is the sanity-check stage rule:[=0x000A=][=0x0009=]abide by the sanity-check rules.[=0x000A=][=0x000A=]The sanity-check stage rule is listed after the before stage rule  in the action-processing rules.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]Candyland is a room. The lollipop tree is an edible thing in Candyland. The genuine rock is a thing in Candyland.[=0x000A=][=0x000A=]Sanity-check eating an inedible thing:[=0x000A=][=0x0009=]say [=0x0022=]Your digestion is so delicate -- you[=0x0027=]re sure [the noun] wouldn[=0x0027=]t agree with you.[=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]eat lollipop / eat rock[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Delicious, Delicious Rocks&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13995_269" -->
<a id="c13995_269"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13996_269" -->
<a id="c13996_269"></a><blockquote class="code"><p class="quoted">
The sanity-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13997_269" -->
<a id="c13997_269"></a><blockquote class="code"><p class="quoted">
This is the sanity-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the sanity-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13998_269" -->
<a id="c13998_269"></a><blockquote class="code"><p class="quoted">
The sanity-check stage rule is listed after the before stage rule  in the action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13999_269" -->
<a id="c13999_269"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14000_269" -->
<a id="c14000_269"></a><blockquote class="code"><p class="quoted">
Candyland is a room. The lollipop tree is an edible thing in Candyland. The genuine rock is a thing in Candyland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14001_269" -->
<a id="c14001_269"></a><blockquote class="code"><p class="quoted">
Sanity-check eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14002_269" -->
<a id="c14002_269"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat lollipop / eat rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that now Inform does not try taking the rock before rejecting the player's attempt to eat it.</p>
<p>It is of course possible to get the same effect with</p>
<!-- START CODE "c14003_269" -->
<a id="c14003_269"></a><blockquote class="code"><p class="quoted">
Before eating an inedible thing:
<br />&#160;&#160;&#160;&#160;say &quot;Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...and in a small game with few rules, there's not much reason to add an extra stage. The ability to modify the stages of action processing becomes useful when we have a fairly large game with sophisticated modeling and want to be sure that some kinds of message (such as the sanity-check) are always handled before other things that we might be doing at the before stage (such as generating implicit actions like opening doors before going through them).</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc67.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc69.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
