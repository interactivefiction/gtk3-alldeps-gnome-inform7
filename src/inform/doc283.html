<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>17.19. Does the player mean...</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Does the player mean..." -->
<!-- SEARCH SECTION "17.19" -->
<!-- SEARCH SORT "000-017-019-000" -->
<!-- START IGNORE 282 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc282.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 17: Understanding</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc284.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง17.19. Does the player mean...</p>
<p>When the player types an ambiguous reference, we need to work out what is meant. Consider the following source text:</p>
<!-- START CODE "c6110" -->
<a id="c6110"></a><blockquote class="code"><p class="quoted">
The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now suppose the player types GET TOWER. The response will be:</p>
<!-- START CODE "c6111" -->
<a id="c6111"></a><blockquote class="code"><p class="quoted">
Which do you mean, the great Eiffel Tower or the souvenir model Eiffel Tower?
</p></blockquote>
<!-- END CODE -->
<p>Which is a silly question, exposing our work of IF as something artificial. It's obvious to the author of the source text, and to the player, that the souvenir must be what is meant: but this is not obvious to the computer program running the story. Works of IF gain a subtle feeling of quality from being able to understand ambiguous references of the kind above, and Inform provides us with a way to do this by giving the parser clues in the form of &quot;Does the player mean...&quot; rules. For instance, if we add:</p>
<!-- START CODE "c6112" -->
<a id="c6112"></a><blockquote class="code"><p class="quoted">
Does the player mean taking the great Eiffel Tower: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>then the response to GET TOWER will now be:</p>
<!-- START CODE "c6113" -->
<a id="c6113"></a><blockquote class="code"><p class="quoted">
(the souvenir model Eiffel Tower)
<br />Taken.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Does the player mean...&quot; rules look at the actions which are possible interpretations of what the player typed, and grade them according to how likely they seem. (Note that these rules are only ever used to handle ambiguities: if the player unambiguously types GET GREAT EIFFEL TOWER, that will be the action. And the rules are only used where they are able to make a decision: if there are still multiple equally plausible meanings, the parser will ask about all possibilities, not just the most likely ones.) Rules in this rulebook can either decide nothing, or come up with one of the following verdicts:</p>
<!-- START CODE "c6114" -->
<a id="c6114"></a><blockquote class="code"><p class="quoted">
it is very likely
<br />it is likely
<br />it is possible
<br />it is unlikely
<br />it is very unlikely
</p></blockquote>
<!-- END CODE -->
<p>If there are no &quot;does the player mean&quot; rules, or the rules make no decision on a given possible action, it will be ranked as &quot;it is possible&quot;.</p>
<p>We may use these rules to affect all sorts of interaction with a specific object or kind of object, as in</p>
<!-- START CODE "c6115" -->
<a id="c6115"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something with the cursed dagger of Thog: it is very unlikely.
<br />Does the player mean doing something with the cursed dagger of Thog when the player is hypnotized: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>...and so on.</p>
<p>Notice that we can also make rules about actions that apply to two objects, so for instance:</p>
<!-- START CODE "c6116" -->
<a id="c6116"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the shoe polish vending machine: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>which nicely clarifies THROW POLISH AT POLISH, but does not comment on the likelihood of throwing the can at other things or of throwing other things at the vending machine. Moreover, the (suspected) identity of the first item will be known when the rule is consulted; thus</p>
<!-- START CODE "c6117" -->
<a id="c6117"></a><blockquote class="code"><p class="quoted">
Does the player mean tying the noun to the noun: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>will tell Inform to prefer not to tie something to itself if other interpretations are available.</p>
<p>But there is a caveat. There are some cases where this mechanism will not in fact help Inform to choose its way out of an ambiguous command, because of the way it parses one noun at a time. It usually needs to understand the first noun before it will even try to make sense of the second. So a rule like:</p>
<!-- START CODE "c6118" -->
<a id="c6118"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the tree: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>may not work if the player types THROW POLISH AT TREE and POLISH is ambiguous, because when the parser is trying to understand POLISH, it hasn't yet seen to the end of the command and realised that the second noun will be the tree; so the second noun is unset and the rule won't match.</p>
<p>As a caveat to the caveat, the &quot;inserting it into&quot;, &quot;removing it from&quot; and &quot;putting it on&quot; actions have this slightly back to front. These are parsed using the (little-used) &quot;[other things]&quot; or &quot;[things inside]&quot; tokens, and the Inform parser tries to detect the second noun before the first one, since the identity of the first has to depend on the second. So for instance if the situation contains &quot;an oak tree&quot; and also &quot;an oak chest&quot;, we could write:</p>
<!-- START CODE "c6119" -->
<a id="c6119"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting into the oak chest:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>which would successfully make PUT COIN IN OAK mean the chest, not the tree. (Note the way we write &quot;inserting into&quot; without saying anything about what's being inserted, not even that it's &quot;something&quot;.)</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "326: Masochism Deli" "e217" -->
<a id="e217"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example217'); return false;"><b>326</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example217'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Masochism Deli</span></b></a><br />Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc88.html#e217"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example217" style="display: none;">
<p>Here the player has several potatoes; we would like to make him more likely to drop the hot one, and more likely to pick up the cold one, all else being equal. At the same time, we want to phrase our rules so that they don't make the player try to take something he's already holding, or drop something he isn't.</p>
<p>So:</p>
<!-- START CODE "c6120_217" -->
<a id="c6120_217"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Masochism Deli[=0x0022=][=0x000A=][=0x000A=]The Masochism Deli is a room. [=0x0022=]Recent restructurings of corporate policy restrict the [=0x0027=]lunch hour[=0x0027=] to exactly thirty-two minutes, which means that no one has time to go out. Instead, you and your coworkers eat here, in the company[=0x0027=]s very own themed lunch room.[=0x0022=][=0x000A=][=0x000A=]The plural of potato is potatoes. A potato is a kind of thing. A potato is edible.[=0x000A=][=0x000A=]Temperature is a kind of value. The temperatures are hot and cold. A potato has a temperature. A potato is usually cold.[=0x000A=][=0x000A=]Understand the temperature property as describing a potato. Before printing the name of a potato (called subject): say [=0x0022=][temperature of subject] [=0x0022=]. Before printing the plural name of a potato (called subject): say [=0x0022=][temperature of subject] [=0x0022=].[=0x000A=][=0x000A=]Does the player mean dropping a hot potato which is carried by the player: it is very likely.[=0x000A=][=0x000A=]Does the player mean taking a cold potato which is not carried by the player: it is very likely.[=0x000A=][=0x000A=]The player carries three potatoes.[=0x000A=][=0x000A=]After dropping a hot potato:[=0x000A=][=0x0009=]say [=0x0022=]The guy from Cube B sneers at your lack of potato-holding stamina.[=0x0022=][=0x000A=][=0x000A=]When play begins: now a random potato is hot.[=0x000A=][=0x000A=]Test me with [=0x0022=]inventory / drop potato / g / g / get potato / g / i / get potato[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Masochism Deli&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6121_217" -->
<a id="c6121_217"></a><blockquote class="code"><p class="quoted">
The Masochism Deli is a room. &quot;Recent restructurings of corporate policy restrict the 'lunch hour' to exactly thirty-two minutes, which means that no one has time to go out. Instead, you and your coworkers eat here, in the company's very own themed lunch room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6122_217" -->
<a id="c6122_217"></a><blockquote class="code"><p class="quoted">
The plural of potato is potatoes. A potato is a kind of thing. A potato is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6123_217" -->
<a id="c6123_217"></a><blockquote class="code"><p class="quoted">
Temperature is a kind of value. The temperatures are hot and cold. A potato has a temperature. A potato is usually cold.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6124_217" -->
<a id="c6124_217"></a><blockquote class="code"><p class="quoted">
Understand the temperature property as describing a potato. Before printing the name of a potato (called subject): say &quot;[temperature of subject] &quot;. Before printing the plural name of a potato (called subject): say &quot;[temperature of subject] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6125_217" -->
<a id="c6125_217"></a><blockquote class="code"><p class="quoted">
Does the player mean dropping a hot potato which is carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6126_217" -->
<a id="c6126_217"></a><blockquote class="code"><p class="quoted">
Does the player mean taking a cold potato which is not carried by the player: it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6127_217" -->
<a id="c6127_217"></a><blockquote class="code"><p class="quoted">
The player carries three potatoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6128_217" -->
<a id="c6128_217"></a><blockquote class="code"><p class="quoted">
After dropping a hot potato:
<br />&#160;&#160;&#160;&#160;say &quot;The guy from Cube B sneers at your lack of potato-holding stamina.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6129_217" -->
<a id="c6129_217"></a><blockquote class="code"><p class="quoted">
When play begins: now a random potato is hot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c6130_217" -->
<a id="c6130_217"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / drop potato / g / g / get potato / g / i / get potato&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc282.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc284.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
