<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>7.5. After rules</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "After rules" -->
<!-- SEARCH SECTION "7.5" -->
<!-- SEARCH SORT "000-007-005-000" -->
<!-- START IGNORE 101 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc101.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 7: Basic Actions</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc103.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง7.5. After rules</p>
<p>There is pleasantly little to be said about &quot;after&quot; rules. If an action has survived all the rules in its way, and has actually succeeded, then we need to give the player a response which acknowledges this. Inform's normal rules will be sufficient to say something undramatic: for instance, if &quot;taking the napkin&quot; has succeeded then it will reply &quot;Taken.&quot; to the player.</p>
<p>An after rule is an opportunity to say something more interesting:</p>
<!-- START CODE "c1349" -->
<a id="c1349"></a><blockquote class="code"><p class="quoted">
After taking the diamonds, say &quot;Taken!&quot;
</p></blockquote>
<!-- END CODE -->
<p>(Well, slightly more interesting.) After rules automatically end the action (as a success), which is what we would want in the above case. Allowing it to continue would simply result in &quot;Taken.&quot; being printed as well. However, should we really need to do something and then carry on:</p>
<!-- START CODE "c1350" -->
<a id="c1350"></a><blockquote class="code"><p class="quoted">
After taking the diamonds: say &quot;(Mr Beebe looks up sharply.) &quot;; continue the action.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "90: Morning After" "e309" -->
<a id="e309"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example309'); return false;"><b>90</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example309'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Morning After</span></b></a><br />When the player picks something up which he hasn't already examined, the object is described.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc36.html#e309"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example309" style="display: none;">
<p>Suppose we want to make the player's life slightly easier by examining everything he picks up, if he hasn't already examined it.</p>
<!-- START CODE "c1351_309" -->
<a id="c1351_309"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Morning After[=0x0022=][=0x000A=][=0x000A=]A thing can be examined or unexamined.[=0x000A=][=0x000A=]After taking something unexamined:[=0x000A=][=0x0009=]say [=0x0022=]Taken. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=]try examining the noun.[=0x000A=][=0x000A=]Carry out examining something:[=0x000A=][=0x0009=]now the noun is examined.[=0x000A=][=0x000A=][Carry out rules are explained in more detail in the chapter on advanced action handling. For now, it may be enough to know that what we put into this carry out rule for examining will happen any time anything is examined, but that it will not interfere with the rest of the predefined behavior of the action. The player will still see the object description and so on, as usual.][=0x000A=][=0x000A=]The Red Door Saloon is a room. [=0x0022=]This old place is in pretty bad shape since the mine shut down. Now there[=0x0027=]s not much to see but the pair of deep gouges in the floorboards where they dragged away the Sheriff[=0x0027=]s corpse with the spurs still on.[=0x0022=][=0x000A=][=0x000A=]Jed is a man in the Red Door Saloon. [=0x0022=]At 8:30 AM the only person around is old Jed, collecting his hangover cure.[=0x0022=][=0x000A=][=0x000A=]The pistol is a thing in the Red Door Saloon. The description of the pistol is [=0x0022=]It ain[=0x0027=]t too accurate, but for two dollars you can[=0x0027=]t expect much.[=0x0022=][=0x000A=][=0x000A=]The hangover cure is a thing in the Red Door Saloon. The description of the hangover cure is [=0x0022=]Two yellow egg-yolks unbroken in a red-brown liquid. Yep.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x pistol / get all[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Morning After&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1352_309" -->
<a id="c1352_309"></a><blockquote class="code"><p class="quoted">
A thing can be examined or unexamined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1353_309" -->
<a id="c1353_309"></a><blockquote class="code"><p class="quoted">
After taking something unexamined:
<br />&#160;&#160;&#160;&#160;say &quot;Taken. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;try examining the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1354_309" -->
<a id="c1354_309"></a><blockquote class="code"><p class="quoted">
Carry out examining something:
<br />&#160;&#160;&#160;&#160;now the noun is examined.
</p></blockquote>
<!-- END CODE -->
<p>Carry out rules are explained in more detail in the chapter on advanced action handling. For now, it may be enough to know that what we put into this carry out rule for examining will happen any time anything is examined, but that it will not interfere with the rest of the predefined behavior of the action. The player will still see the object description and so on, as usual.</p>
<!-- START CODE "c1355_309" -->
<a id="c1355_309"></a><blockquote class="code"><p class="quoted">
The Red Door Saloon is a room. &quot;This old place is in pretty bad shape since the mine shut down. Now there's not much to see but the pair of deep gouges in the floorboards where they dragged away the Sheriff's corpse with the spurs still on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1356_309" -->
<a id="c1356_309"></a><blockquote class="code"><p class="quoted">
Jed is a man in the Red Door Saloon. &quot;At 8:30 AM the only person around is old Jed, collecting his hangover cure.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1357_309" -->
<a id="c1357_309"></a><blockquote class="code"><p class="quoted">
The pistol is a thing in the Red Door Saloon. The description of the pistol is &quot;It ain't too accurate, but for two dollars you can't expect much.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1358_309" -->
<a id="c1358_309"></a><blockquote class="code"><p class="quoted">
The hangover cure is a thing in the Red Door Saloon. The description of the hangover cure is &quot;Two yellow egg-yolks unbroken in a red-brown liquid. Yep.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1359_309" -->
<a id="c1359_309"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x pistol / get all&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc101.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc103.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
