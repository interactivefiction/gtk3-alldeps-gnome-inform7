<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>16.19. Table amendments</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Table amendments" -->
<!-- SEARCH SECTION "16.19" -->
<!-- SEARCH SORT "000-016-019-000" -->
<!-- START IGNORE 263 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc263.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 16: Tables</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc265.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง16.19. Table amendments</p>
<p>Tables can have amendments as well as continuations. The arrangement is much the same: a supplementary table supplies new rows for the original table. But instead of adding the new rows at the end of the original, as a continuation would, an amendment replaces matching rows in the original. (So the original stays the same size.)</p>
<p>The amendment table must have exactly the columns of the original and in the same order. Moreover, each row in the amended table must match exactly one row in the original. For instance:</p>
<!-- START CODE "c5477" -->
<a id="c5477"></a><blockquote class="code"><p class="quoted">
Table of Plans
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">moment</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;takeover of Mars&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:30 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;canals reflooded&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:45 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;chocolate bar production doubled&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5478" -->
<a id="c5478"></a><blockquote class="code"><p class="quoted">
Table of Plans (amended)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">moment</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:45 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;volcanic cave production doubled&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>creates a three-row Table of Plans, with reference to the chocolate bars struck out.</p>
<p>Amendment rows may be given in any order. The process of matching a row begins at the left-most column: Inform tries to see if any single row in the original table has a matching entry. If none does, a Problem is issued. If more than one do, Inform then looks at the second column, and so on. For instance:</p>
<!-- START CODE "c5479" -->
<a id="c5479"></a><blockquote class="code"><p class="quoted">
Enthusiasm is a kind of value. The enthusiasms are pumped, wired and languid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5480" -->
<a id="c5480"></a><blockquote class="code"><p class="quoted">
Table of Mental States
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">feeling</p></td><td class="quotedtablecell"><p class="quoted">extent</p></td><td class="quotedtablecell"><p class="quoted">consequence</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for your life&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for President&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">wired</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">languid</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5481" -->
<a id="c5481"></a><blockquote class="code"><p class="quoted">
Table of Mental States (amended)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">feeling</p></td><td class="quotedtablecell"><p class="quoted">extent</p></td><td class="quotedtablecell"><p class="quoted">consequence</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for the Nebraska State Legislature&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Here the amendment is made to the second row of the original table. The value in the leftmost column, &quot;pumped&quot;, matches two rows in the original, so Inform moves on to the next column, reads &quot;2&quot;, and finds that only one row in the original still qualifies - so that is the one replaced.</p>
<p>For the present, at least, the columns used for matching may only contain: numbers, times, objects, action names, activities, figure names, sound names, truth states and any new kinds of value or units which have been declared.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "285: Trieste" "e298" -->
<a id="e298"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example298'); return false;"><b>285</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example298'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Trieste</span></b></a><br />Table amendment to adjust HELP commands provided for the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc93.html#e298"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example298" style="display: none;">
<p>Suppose we are using an extension in which another author has defined some help topics for the player, and we want to amend them for our game.</p>
<p>We'll start with the portion of the text that we have inherited from the extension:</p>
<!-- START CODE "c5482_298" -->
<a id="c5482_298"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Trieste[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A help-topic is a kind of value. Some help-topics are defined by the Table of Standard Instructions.[=0x000A=][=0x000A=]Table of Standard Instructions[=0x000A=]help-topic[=0x0009=]reply[=0x000A=]commands[=0x0009=][=0x0022=]This game recognizes 150 common commands for forms of military attack. These include...[=0x0022=][=0x000A=]saving[=0x0009=][=0x0022=]To save the game, type SAVE. You will be prompted to supply a file-name for your saved game. If you[=0x0027=]d like to return to play at that point again later, RESTORE the saved game.[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]help [help-topic][=0x0022=] as asking for help about. Asking for help about is an action out of world, applying to one help-topic.[=0x000A=]Understand [=0x0022=]help[=0x0022=] or [=0x0022=]help [text][=0x0022=] as a mistake ([=0x0022=]Help is available on the following topics: [help-topics list][=0x0022=]).[=0x000A=][=0x000A=]To say help-topics list:[=0x000A=][=0x0009=]repeat through the Table of Standard Instructions:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][line break]  [help-topic entry][=0x0022=];[=0x000A=][=0x000A=]Carry out asking for help about:[=0x000A=][=0x0009=]repeat through the Table of Standard Instructions:[=0x000A=][=0x0009=][=0x0009=]if the help-topic understood is the help-topic entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]break.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=][Now, let[=0x0027=]s imagine our game is a special one in which only a very limited supply of moves are allowed. In that case, we[=0x0027=]ll want to replace the information on commands:][=0x000A=][=0x000A=]Table of Standard Instructions (amended)[=0x000A=]help-topic[=0x0009=]reply[=0x000A=]commands[=0x0009=][=0x0022=]The only commands this game recognizes are HOLD, MOVE, CONVOY, SUPPORT MOVE, and SUPPORT HOLD. No others are necessary.[=0x0022=][=0x000A=][=0x000A=]Board Room is a room. Mark is a man in the Board Room. [=0x0022=]Russia (played by Mark) is also hovering over the board.[=0x0022=][=0x000A=][=0x000A=]Guest Bathroom is south of Board Room. Lena and Rob are in the Guest Bathroom. Lena is a woman. Rob is a man.[=0x000A=][=0x000A=]Rule for writing a paragraph about Lena when Lena is in the Guest Bathroom and Rob is in the Guest Bathroom:[=0x000A=][=0x0009=]say [=0x0022=][Lena] (Italy) and [Rob] (Great Britain) are having a hushed conversation while leaning against your good towels. They stop and stare at you when you come in.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]help / help commands / help saving[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Trieste&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5483_298" -->
<a id="c5483_298"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5484_298" -->
<a id="c5484_298"></a><blockquote class="code"><p class="quoted">
A help-topic is a kind of value. Some help-topics are defined by the Table of Standard Instructions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5485_298" -->
<a id="c5485_298"></a><blockquote class="code"><p class="quoted">
Table of Standard Instructions
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">help-topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">commands</p></td><td class="quotedtablecell"><p class="quoted">&quot;This game recognizes 150 common commands for forms of military attack. These include...&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">saving</p></td><td class="quotedtablecell"><p class="quoted">&quot;To save the game, type SAVE. You will be prompted to supply a file-name for your saved game. If you'd like to return to play at that point again later, RESTORE the saved game.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5486_298" -->
<a id="c5486_298"></a><blockquote class="code"><p class="quoted">
Understand &quot;help [help-topic]&quot; as asking for help about. Asking for help about is an action out of world, applying to one help-topic.
<br />Understand &quot;help&quot; or &quot;help [text]&quot; as a mistake (&quot;Help is available on the following topics: [help-topics list]&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5487_298" -->
<a id="c5487_298"></a><blockquote class="code"><p class="quoted">
To say help-topics list:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Standard Instructions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]  [help-topic entry]&quot;;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5488_298" -->
<a id="c5488_298"></a><blockquote class="code"><p class="quoted">
Carry out asking for help about:
<br />&#160;&#160;&#160;&#160;repeat through the Table of Standard Instructions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the help-topic understood is the help-topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5489_298" -->
<a id="c5489_298"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<p>Now, let's imagine our game is a special one in which only a very limited supply of moves are allowed. In that case, we'll want to replace the information on commands:</p>
<!-- START CODE "c5490_298" -->
<a id="c5490_298"></a><blockquote class="code"><p class="quoted">
Table of Standard Instructions (amended)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">help-topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">commands</p></td><td class="quotedtablecell"><p class="quoted">&quot;The only commands this game recognizes are HOLD, MOVE, CONVOY, SUPPORT MOVE, and SUPPORT HOLD. No others are necessary.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5491_298" -->
<a id="c5491_298"></a><blockquote class="code"><p class="quoted">
Board Room is a room. Mark is a man in the Board Room. &quot;Russia (played by Mark) is also hovering over the board.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5492_298" -->
<a id="c5492_298"></a><blockquote class="code"><p class="quoted">
Guest Bathroom is south of Board Room. Lena and Rob are in the Guest Bathroom. Lena is a woman. Rob is a man.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5493_298" -->
<a id="c5493_298"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about Lena when Lena is in the Guest Bathroom and Rob is in the Guest Bathroom:
<br />&#160;&#160;&#160;&#160;say &quot;[Lena] (Italy) and [Rob] (Great Britain) are having a hushed conversation while leaning against your good towels. They stop and stare at you when you come in.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5494_298" -->
<a id="c5494_298"></a><blockquote class="code"><p class="quoted">
Test me with &quot;help / help commands / help saving&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc263.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc265.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
