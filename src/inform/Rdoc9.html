<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>3.2. Map</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Map" -->
<!-- SEARCH SECTION "3.2" -->
<!-- SEARCH SORT "001-003-002-000" -->
<!-- START IGNORE 8 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc8.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 3: Place</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc10.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง3.2. Map</p>
<p>A work of IF contains many spectacles and activities, and these must not all present themselves at once, or the player will be overwhelmed. One way to spread them out is in time, by having them available only as a plot develops, but another is to spread them out literally in space. The player has to walk between the Library and the Swimming Pool, and thus bookish and athletic tasks are not both presenting themselves at once. There have been valiant &quot;one-room&quot; IFs, and it forms a respectable sub-genre of the art, but most works of any size need a map.</p>
<p>Inform, following IF conventions, divides the world up into locations called &quot;rooms&quot;, connected together by so-called &quot;map connections&quot; along compass bearings. Thus:</p>
<!-- START CODE "c9902" -->
<a id="c9902"></a><blockquote class="code"><p class="quoted">
The Library is east of the Swimming Pool.
</p></blockquote>
<!-- END CODE -->
<p>The example <span class="boldface">Port Royal 1</span> develops a medium-sized map from such sentences. This develops in <span class="boldface">Port Royal 2</span> to include connections which bend around, allowing the rooms not to lie on an imaginary square grid.</p>
<p>Because it is useful to group rooms together under names describing whole areas, Inform also allows rooms to be placed in &quot;regions&quot;. Thus:</p>
<!-- START CODE "c9903" -->
<a id="c9903"></a><blockquote class="code"><p class="quoted">
The Campus Area is a region. The Library and the Swimming Pool are in the Campus Area.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Port Royal 3</span> demonstrates this further. <span class="boldface">A&amp;E</span> shows how regions can be used to write simple rules which regulate access to and from whole areas of the map.</p>
<p>Many old-school IF puzzles involve journeys through the map which are confused, randomised or otherwise frustrated: see <span class="boldface">Bee Chambers</span> for a typical maze, <span class="boldface">Zork II</span> for a randomised connection, <span class="boldface">Prisoner's Dilemma</span> for a change in the map occurring during play. A completely random map takes us away from traditional IF and more towards a different sort of old-school game, the computerised role-playing game with its endless quests through dungeons with randomly generated treasures and monsters. This style of map - building itself one step at a time, as the player explores - can sometimes be useful to provide an illusion of infinite expanse: see <span class="boldface">All Roads Lead To Mars</span>.</p>
<p>While the standard compass directions are conventional in IF, there are times when we may want to replace them without other forms of directional relationship. <span class="boldface">Indirection</span> renames the compass directions to correspond to primary colors, as in Mayan thinking. <span class="boldface">The World of Charles S. Roberts</span> substitutes new ones, instead, introducing a hex-grid map in place of the usual one.</p>
<p class="crossreference"><a href="Rdoc37.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Going, Pushing Things in Directions</b></a><i> for ways to add more relative directions, such as context-sensitive understanding of OUT and IN</i></p><p class="crossreference"><a href="Rdoc8.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for ways to modify the room description printed</i></p><p class="crossreference"><a href="Rdoc64.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Ships, Trains and Elevators</b></a><i> for rooms which move around in the map and for directions aboard a ship</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "5: Port Royal 1" "e57" -->
<a id="e57"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example57'); return false;"><b>5</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example57'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 1</span></b></a><br />A partial implementation of Port Royal, Jamaica, set before the earthquake of 1692 demolished large portions of the city.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc27.html#e57"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example57" style="display: none;">
<!-- START CODE "c9904_57" -->
<a id="c9904_57"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]1691[=0x0022=][=0x000A=][=0x000A=]Fort James is a room. [=0x0022=]The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.[=0x0022=][=0x000A=][=0x000A=][Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.][=0x000A=][=0x000A=][For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:][=0x000A=][=0x000A=]Thames Street End is south of Fort James. [=0x0022=]The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.[=0x0022=][=0x000A=][=0x000A=]Water Lane is east of Thames Street End. [=0x0022=]Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.[=0x000A=][=0x000A=]Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.[=0x0022=][=0x000A=][=0x000A=][If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using [=0x0022=]called[=0x0022=]:][=0x000A=][=0x000A=]East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description [=0x0022=]To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.[=0x0022=][=0x000A=][=0x000A=]The Private Alley is south of Thames Street at the Wherry Bridge. [=0x0022=]You[=0x0027=]re just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.[=0x0022=][=0x000A=][=0x000A=][And now we get [=0x0022=]inside[=0x0022=], which generates a space treated as its own area on the map.][=0x000A=][=0x000A=]The Feathers is inside from the Private Alley.  [=0x0022=]Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There[=0x0027=]s a room upstairs for those wanting to stay the night.[=0x0022=] The Feathers Bedroom is above the Feathers.[=0x000A=][=0x000A=][And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.][=0x000A=][=0x000A=]Lime Street is south of Thames Street End.[=0x000A=][=0x000A=][For efficiency, we can also write multiple sets of connections at once:][=0x000A=][=0x000A=]Queen Street East is east of Queen Street Middle and south of Private Alley.[=0x000A=][=0x000A=][Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author[=0x0027=]s benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)][=0x000A=][=0x000A=][The following Test command allows us to type TEST ME and explore the map we just devised:][=0x000A=][=0x000A=]Test me with [=0x0022=]s / e / e / s / in[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9905_57" -->
<a id="c9905_57"></a><blockquote class="code"><p class="quoted">
Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.</p>
<p>For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:</p>
<!-- START CODE "c9906_57" -->
<a id="c9906_57"></a><blockquote class="code"><p class="quoted">
Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9907_57" -->
<a id="c9907_57"></a><blockquote class="code"><p class="quoted">
Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9908_57" -->
<a id="c9908_57"></a><blockquote class="code"><p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using &quot;called&quot;:</p>
<!-- START CODE "c9909_57" -->
<a id="c9909_57"></a><blockquote class="code"><p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9910_57" -->
<a id="c9910_57"></a><blockquote class="code"><p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now we get &quot;inside&quot;, which generates a space treated as its own area on the map.</p>
<!-- START CODE "c9911_57" -->
<a id="c9911_57"></a><blockquote class="code"><p class="quoted">
The Feathers is inside from the Private Alley.  &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.
</p></blockquote>
<!-- END CODE -->
<p>And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.</p>
<!-- START CODE "c9912_57" -->
<a id="c9912_57"></a><blockquote class="code"><p class="quoted">
Lime Street is south of Thames Street End.
</p></blockquote>
<!-- END CODE -->
<p>For efficiency, we can also write multiple sets of connections at once:</p>
<!-- START CODE "c9913_57" -->
<a id="c9913_57"></a><blockquote class="code"><p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p></blockquote>
<!-- END CODE -->
<p>Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author's benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)</p>
<p>The following Test command allows us to type TEST ME and explore the map we just devised:</p>
<!-- START CODE "c9914_57" -->
<a id="c9914_57"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / e / e / s / in&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "9: Port Royal 2" "e262" -->
<a id="e262"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example262'); return false;"><b>9</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example262'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 2</span></b></a><br />Another part of Port Royal, with less typical map connections.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc28.html#e262"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example262" style="display: none;">
<!-- START CODE "c9915_262" -->
<a id="c9915_262"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]1691[=0x0022=][=0x000A=][=0x000A=]Thames Street End is a room.[=0x000A=][=0x000A=][If we check out a map of historic Port Royal, we find that Thames Street End bends around the northwest tip of the peninsula and becomes the (very) roughly north/south Fisher[=0x0027=]s Row. We can[=0x0027=]t put Fisher[=0x0027=]s Row south of Thames Street End, though, because Lime Street is already going that way. So instead, let[=0x0027=]s have a map connection that bends around from west to north:][=0x000A=][=0x000A=]West of Thames Street End is north of Fisher[=0x0027=]s Row.[=0x000A=][=0x000A=][Now continuing west along Thames Street, or north along Fisher[=0x0027=]s Row, will bring us around the corner in question. Asymmetric map connections should be used carefully. They[=0x0027=]re good for representing the layout of the real world, which tends not to be laid out on a convenient square matrix, but if exits are not described clearly they can be disorienting for the player. So let[=0x0027=]s be sure to make things clear:][=0x000A=][=0x000A=]The description of Fisher[=0x0027=]s Row is [=0x0022=]A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.[=0x0022=][=0x000A=][=0x000A=][Meanwhile, suppose Fort James is in a prominent position, raised a bit from its surroundings; maybe the player should be able to go down from there, as well as south, to get to Thames Street End.][=0x000A=][=0x000A=]Thames Street End is down from Fort James. Thames Street End is south from Fort James.[=0x000A=][=0x000A=][But we don[=0x0027=]t want the upward direction to work:][=0x000A=][=0x000A=]Up from Thames Street End is nowhere.[=0x000A=][=0x000A=]Test me with [=0x0022=]n / d / u / w / e / n / s[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9916_262" -->
<a id="c9916_262"></a><blockquote class="code"><p class="quoted">
Thames Street End is a room.
</p></blockquote>
<!-- END CODE -->
<p>If we check out a map of historic Port Royal, we find that Thames Street End bends around the northwest tip of the peninsula and becomes the (very) roughly north/south Fisher's Row. We can't put Fisher's Row south of Thames Street End, though, because Lime Street is already going that way. So instead, let's have a map connection that bends around from west to north:</p>
<!-- START CODE "c9917_262" -->
<a id="c9917_262"></a><blockquote class="code"><p class="quoted">
West of Thames Street End is north of Fisher's Row.
</p></blockquote>
<!-- END CODE -->
<p>Now continuing west along Thames Street, or north along Fisher's Row, will bring us around the corner in question. Asymmetric map connections should be used carefully. They're good for representing the layout of the real world, which tends not to be laid out on a convenient square matrix, but if exits are not described clearly they can be disorienting for the player. So let's be sure to make things clear:</p>
<!-- START CODE "c9918_262" -->
<a id="c9918_262"></a><blockquote class="code"><p class="quoted">
The description of Fisher's Row is &quot;A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Meanwhile, suppose Fort James is in a prominent position, raised a bit from its surroundings; maybe the player should be able to go down from there, as well as south, to get to Thames Street End.</p>
<!-- START CODE "c9919_262" -->
<a id="c9919_262"></a><blockquote class="code"><p class="quoted">
Thames Street End is down from Fort James. Thames Street End is south from Fort James.
</p></blockquote>
<!-- END CODE -->
<p>But we don't want the upward direction to work:</p>
<!-- START CODE "c9920_262" -->
<a id="c9920_262"></a><blockquote class="code"><p class="quoted">
Up from Thames Street End is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9921_262" -->
<a id="c9921_262"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / d / u / w / e / n / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "10: Port Royal 3" "e450" -->
<a id="e450"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example450'); return false;"><b>10</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example450'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 3</span></b></a><br />Division of Port Royal into regions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc29.html#e450"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example450" style="display: none;">
<!-- START CODE "c9922_450" -->
<a id="c9922_450"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]1691[=0x0022=][=0x000A=][=0x000A=][We should go ahead and do all our room definitions first...][=0x000A=][=0x000A=]Fort James is a room. [=0x0022=]The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.[=0x0022=][=0x000A=][=0x000A=]Thames Street End is south of Fort James. [=0x0022=]The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond.  Most of that stretch is full of people at all hours.  Imported goods are moved off of ships and taken to distributors; exported goods are brought to be loaded; and there is one public house and brothel for every ten inhabitants.[=0x000A=][=0x000A=]Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.[=0x0022=][=0x000A=][=0x000A=]Lime Street is south of Thames Street End. West of Thames Street End is north of Fisher[=0x0027=]s Row. The description of Fisher[=0x0027=]s Row is [=0x0022=]A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.[=0x0022=][=0x000A=][=0x000A=]Thames Street End is down from Fort James. Up from Thames Street End is nowhere.[=0x000A=][=0x000A=]Water Lane is east of Thames Street End. [=0x0022=]Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.[=0x000A=][=0x000A=]Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.[=0x0022=][=0x000A=][=0x000A=][=0x000A=]East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description [=0x0022=]To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.[=0x0022=][=0x000A=][=0x000A=]The Fishmarket is southwest of Thames Street at the Wherry Bridge.[=0x000A=][=0x000A=]The Private Alley is south of Thames Street at the Wherry Bridge. [=0x0022=]You[=0x0027=]re just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.[=0x0022=][=0x000A=][=0x000A=]The Feathers is inside from the Private Alley.  [=0x0022=]Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There[=0x0027=]s a room upstairs for those wanting to stay the night.[=0x0022=] The Feathers Bedroom is above the Feathers.[=0x000A=][=0x000A=]Thames Street by the King[=0x0027=]s House is east of Thames Street at the Wherry Bridge.  [=0x0022=]The King[=0x0027=]s House is reserved for the use of the Governor, but he does not live in it, and it is frequently being rented out to some merchant so that the government will at least derive some value from it. It is nearly the least interesting establishment on Thames Street, and the crowd -- which, to the west, is extremely dense -- here thins out a bit.[=0x0022=][=0x000A=][=0x000A=]Thames Street before Fort Carlisle is east of Thames Street by the King[=0x0027=]s House. [=0x0022=]Here Thames Street, formerly a respectable width, narrows to a footpath in order to edge around the front of Fort Carlisle, underneath the mouths of the cannon.[=0x000A=][=0x000A=]There are no buildings on the harbour side of Thames Street at this point, which means that you have an unusually good view of the ships at dock, water beyond, and the Blue Mountains rising on the other side of the harbour.[=0x0022=][=0x000A=][=0x000A=][=0x000A=]South of Thames Street before Fort Carlisle is a room called Fort Carlisle. The description of Fort Carlisle is [=0x0022=]Handsomely arrayed with cannons which you could fire at any moment -- though of course there are ships at dock which might be in the way.[=0x0022=][=0x000A=][=0x000A=]Queen Street End is south of Lime Street.[=0x000A=][=0x000A=]Queen Street Middle is east of Queen Street End.[=0x000A=][=0x000A=][=0x000A=]Queen Street East is east of Queen Street Middle and south of Private Alley.[=0x000A=][=0x000A=]Queen Street at the Prison is east of Queen Street East.[=0x000A=][=0x000A=][Now, if we like, we can create regions to distinguish the coast from the portions of town that aren[=0x0027=]t on the water:][=0x000A=][=0x000A=]Inland is a region. Queen Street End, Queen Street Middle, Queen Street East, Private Alley, Lime Street, and Queen Street at the Prison are in Inland.[=0x000A=][=0x000A=]Waterfront is a region. Thames Street before Fort Carlisle, Thames Street by the King[=0x0027=]s House, Thames Street at the Wherry Bridge, Water Lane, Fishmarket, Fisher[=0x0027=]s Row, and Thames Street End are in Waterfront.[=0x000A=][=0x000A=][There[=0x0027=]s no rule that regions must be contiguous, so we could if we like make a region consisting just of the two forts:][=0x000A=][=0x000A=]Military Holdings is a region. Fort Carlisle and Fort James are in Military Holdings.[=0x000A=][=0x000A=][And we might make the Feathers Tavern part of the Inland area, but within its own subcategory:][=0x000A=][=0x000A=]Tavern is a region. It is in Inland. Feathers and Feathers Bedroom are in Tavern.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;1691&quot;
</p></blockquote>
<!-- END CODE -->
<p>We should go ahead and do all our room definitions first...</p>
<!-- START CODE "c9923_450" -->
<a id="c9923_450"></a><blockquote class="code"><p class="quoted">
Fort James is a room. &quot;The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9924_450" -->
<a id="c9924_450"></a><blockquote class="code"><p class="quoted">
Thames Street End is south of Fort James. &quot;The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond.  Most of that stretch is full of people at all hours.  Imported goods are moved off of ships and taken to distributors; exported goods are brought to be loaded; and there is one public house and brothel for every ten inhabitants.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9925_450" -->
<a id="c9925_450"></a><blockquote class="code"><p class="quoted">
Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9926_450" -->
<a id="c9926_450"></a><blockquote class="code"><p class="quoted">
Lime Street is south of Thames Street End. West of Thames Street End is north of Fisher's Row. The description of Fisher's Row is &quot;A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9927_450" -->
<a id="c9927_450"></a><blockquote class="code"><p class="quoted">
Thames Street End is down from Fort James. Up from Thames Street End is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9928_450" -->
<a id="c9928_450"></a><blockquote class="code"><p class="quoted">
Water Lane is east of Thames Street End. &quot;Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9929_450" -->
<a id="c9929_450"></a><blockquote class="code"><p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9930_450" -->
<a id="c9930_450"></a><blockquote class="code"><p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description &quot;To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9931_450" -->
<a id="c9931_450"></a><blockquote class="code"><p class="quoted">
The Fishmarket is southwest of Thames Street at the Wherry Bridge.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9932_450" -->
<a id="c9932_450"></a><blockquote class="code"><p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. &quot;You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9933_450" -->
<a id="c9933_450"></a><blockquote class="code"><p class="quoted">
The Feathers is inside from the Private Alley.  &quot;Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night.&quot; The Feathers Bedroom is above the Feathers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9934_450" -->
<a id="c9934_450"></a><blockquote class="code"><p class="quoted">
Thames Street by the King's House is east of Thames Street at the Wherry Bridge.  &quot;The King's House is reserved for the use of the Governor, but he does not live in it, and it is frequently being rented out to some merchant so that the government will at least derive some value from it. It is nearly the least interesting establishment on Thames Street, and the crowd -- which, to the west, is extremely dense -- here thins out a bit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9935_450" -->
<a id="c9935_450"></a><blockquote class="code"><p class="quoted">
Thames Street before Fort Carlisle is east of Thames Street by the King's House. &quot;Here Thames Street, formerly a respectable width, narrows to a footpath in order to edge around the front of Fort Carlisle, underneath the mouths of the cannon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9936_450" -->
<a id="c9936_450"></a><blockquote class="code"><p class="quoted">
There are no buildings on the harbour side of Thames Street at this point, which means that you have an unusually good view of the ships at dock, water beyond, and the Blue Mountains rising on the other side of the harbour.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9937_450" -->
<a id="c9937_450"></a><blockquote class="code"><p class="quoted">
South of Thames Street before Fort Carlisle is a room called Fort Carlisle. The description of Fort Carlisle is &quot;Handsomely arrayed with cannons which you could fire at any moment -- though of course there are ships at dock which might be in the way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9938_450" -->
<a id="c9938_450"></a><blockquote class="code"><p class="quoted">
Queen Street End is south of Lime Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9939_450" -->
<a id="c9939_450"></a><blockquote class="code"><p class="quoted">
Queen Street Middle is east of Queen Street End.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9940_450" -->
<a id="c9940_450"></a><blockquote class="code"><p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9941_450" -->
<a id="c9941_450"></a><blockquote class="code"><p class="quoted">
Queen Street at the Prison is east of Queen Street East.
</p></blockquote>
<!-- END CODE -->
<p>Now, if we like, we can create regions to distinguish the coast from the portions of town that aren't on the water:</p>
<!-- START CODE "c9942_450" -->
<a id="c9942_450"></a><blockquote class="code"><p class="quoted">
Inland is a region. Queen Street End, Queen Street Middle, Queen Street East, Private Alley, Lime Street, and Queen Street at the Prison are in Inland.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9943_450" -->
<a id="c9943_450"></a><blockquote class="code"><p class="quoted">
Waterfront is a region. Thames Street before Fort Carlisle, Thames Street by the King's House, Thames Street at the Wherry Bridge, Water Lane, Fishmarket, Fisher's Row, and Thames Street End are in Waterfront.
</p></blockquote>
<!-- END CODE -->
<p>There's no rule that regions must be contiguous, so we could if we like make a region consisting just of the two forts:</p>
<!-- START CODE "c9944_450" -->
<a id="c9944_450"></a><blockquote class="code"><p class="quoted">
Military Holdings is a region. Fort Carlisle and Fort James are in Military Holdings.
</p></blockquote>
<!-- END CODE -->
<p>And we might make the Feathers Tavern part of the Inland area, but within its own subcategory:</p>
<!-- START CODE "c9945_450" -->
<a id="c9945_450"></a><blockquote class="code"><p class="quoted">
Tavern is a region. It is in Inland. Feathers and Feathers Bedroom are in Tavern.
</p></blockquote>
<!-- END CODE -->
<p>Now the index map will be colored to reflect our regions, and later in the game development we would be able to make rules that affect just one region at a time.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "78: All Roads Lead to Mars" "e335" -->
<a id="e335"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example335'); return false;"><b>78</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example335'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">All Roads Lead to Mars</span></b></a><br />Layout where the player is allowed to wander any direction he likes, and the map will arrange itself in order so that he finds the correct "next" location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc95.html#e335"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example335" style="display: none;">
<p>Suppose we want to allow the player to wander freely in any direction, but ourselves maintain control over the order in which he encounters the rooms. This sort of effect emphasizes the order of the story-telling over any kind of rigorous simulation of space; on multiple play-throughs, the player might not find all the same rooms in the same locations.</p>
<!-- START CODE "c9946_335" -->
<a id="c9946_335"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]All Roads Lead to Mars[=0x0022=][=0x000A=][=0x000A=]Before going a direction (called way) when a room (called next location) is not visited:[=0x000A=][=0x0009=]let further place be the room the way from the location;[=0x000A=][=0x0009=]if further place is a room, continue the action;[=0x000A=][=0x0009=]change the way exit of the location to the next location;[=0x000A=][=0x0009=]let reverse be the opposite of the way;[=0x000A=][=0x0009=]change the reverse exit of the next location to the location.[=0x000A=][=0x000A=]The Open Plain is a room. [=0x0022=]A wide-open grassy expanse, from which you could really go any way at all.[=0x0022=][=0x000A=][=0x000A=]The Hilly Place is a room. [=0x0022=]The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.[=0x0022=][=0x000A=][=0x000A=]The Stream is a room. [=0x0022=]This is the third place you[=0x0027=]ve been today, and so the stream is welcome. How refreshing![=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]n / s / e / e[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;All Roads Lead to Mars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9947_335" -->
<a id="c9947_335"></a><blockquote class="code"><p class="quoted">
Before going a direction (called way) when a room (called next location) is not visited:
<br />&#160;&#160;&#160;&#160;let further place be the room the way from the location;
<br />&#160;&#160;&#160;&#160;if further place is a room, continue the action;
<br />&#160;&#160;&#160;&#160;change the way exit of the location to the next location;
<br />&#160;&#160;&#160;&#160;let reverse be the opposite of the way;
<br />&#160;&#160;&#160;&#160;change the reverse exit of the next location to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9948_335" -->
<a id="c9948_335"></a><blockquote class="code"><p class="quoted">
The Open Plain is a room. &quot;A wide-open grassy expanse, from which you could really go any way at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9949_335" -->
<a id="c9949_335"></a><blockquote class="code"><p class="quoted">
The Hilly Place is a room. &quot;The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9950_335" -->
<a id="c9950_335"></a><blockquote class="code"><p class="quoted">
The Stream is a room. &quot;This is the third place you've been today, and so the stream is welcome. How refreshing!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9951_335" -->
<a id="c9951_335"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / s / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted still to be able to find routes between places, we could define a relationship of connection between rooms, which we would add to as we went along.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "125: Bee Chambers" "e4" -->
<a id="e4"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example4'); return false;"><b>125</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example4'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bee Chambers</span></b></a><br />A maze with directions between rooms randomized at the start of play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc126.html#e4"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example4" style="display: none;">
<p>Mazes are a traditional element of interactive fiction, often consisting of apparently identical rooms with exits that do not work reciprocally and which cause confusion.</p>
<p>The methods of mapping mazes are now fairly well understood and mazes themselves tend to be regarded as tiresome rather than enjoyable by a large portion of the playing audience. However, if we did want to ignore the common wisdom and create a maze, randomly generated at the start of play, here would be one way to go about it:</p>
<!-- START CODE "c9952_4" -->
<a id="c9952_4"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Maze of Gloom[=0x0022=][=0x000A=][=0x000A=]A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually [=0x0022=]Hexagonal Room[=0x0022=]. The description of a Bee Chamber is usually [=0x0022=]Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners.[=0x0022=][=0x000A=][=0x000A=]Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now right hand status line is [=0x0022=][number of visited rooms]/[number of rooms][=0x0022=];[=0x000A=][=0x0009=]repeat with place running through Bee Chambers:[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped north of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped northwest of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped west of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped southwest of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped south of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped southeast of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped east of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped northeast of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped above place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped below place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped inside place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped outside place.[=0x000A=][=0x000A=]Test me with [=0x0022=]in / out / up / down / n / ne / nw / e / w / sw / se / s[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Maze of Gloom&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9953_4" -->
<a id="c9953_4"></a><blockquote class="code"><p class="quoted">
A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually &quot;Hexagonal Room&quot;. The description of a Bee Chamber is usually &quot;Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9954_4" -->
<a id="c9954_4"></a><blockquote class="code"><p class="quoted">
Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9955_4" -->
<a id="c9955_4"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;[number of visited rooms]/[number of rooms]&quot;;
<br />&#160;&#160;&#160;&#160;repeat with place running through Bee Chambers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped north of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped west of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped south of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped east of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped above place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped below place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped inside place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped outside place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9956_4" -->
<a id="c9956_4"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / up / down / n / ne / nw / e / w / sw / se / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "134: Zork II" "e295" -->
<a id="e295"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example295'); return false;"><b>134</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example295'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zork II</span></b></a><br />A "Carousel Room", as in Zork II, where moving in any direction from the room leads (at random) to one of the eight rooms nearby.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc134.html#e295"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example295" style="display: none;">
<p>All we need to do is select the player's destination for him at random:</p>
<!-- START CODE "c9957_295" -->
<a id="c9957_295"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zork II[=0x0022=][=0x000A=][=0x000A=]The Carousel Room is a room.[=0x000A=][=0x000A=]Instead of going from the Carousel Room:[=0x000A=][=0x0009=]move the player to a random adjacent room.[=0x000A=][=0x000A=][To avoid infringing the original game too much, let[=0x0027=]s try a somewhat different setting:][=0x000A=][=0x000A=]The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women[=0x0027=]s Toilet is southwest of the Carousel Room. The Men[=0x0027=]s Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.[=0x000A=][=0x000A=]Test me with [=0x0022=]s[=0x0022=].[=0x000A=][=0x000A=][And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.][=0x000A=][=0x000A=]When play begins, seed the random-number generator with 1234.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9958_295" -->
<a id="c9958_295"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9959_295" -->
<a id="c9959_295"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<p>To avoid infringing the original game too much, let's try a somewhat different setting:</p>
<!-- START CODE "c9960_295" -->
<a id="c9960_295"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9961_295" -->
<a id="c9961_295"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.</p>
<!-- START CODE "c9962_295" -->
<a id="c9962_295"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
<p>Or if we want to add the refinement that the Carousel Room can be switched off:</p>
<!-- START CODE "c9963_295" -->
<a id="c9963_295"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zork II[=0x0022=][=0x000A=][=0x000A=]The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.[=0x000A=][=0x000A=][And then][=0x000A=][=0x000A=]Instead of going from the Carousel Room when the spinning machine is switched on:[=0x000A=][=0x0009=]move the player to a random adjacent room.[=0x000A=][=0x000A=]The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women[=0x0027=]s Toilet is southwest of the Carousel Room. The Men[=0x0027=]s Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.[=0x000A=][=0x000A=]Test me with [=0x0022=]turn off machine / s / n / turn on machine / s[=0x0022=].[=0x000A=][=0x000A=]When play begins, seed the random-number generator with 1234.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9964_295" -->
<a id="c9964_295"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<p>And then</p>
<!-- START CODE "c9965_295" -->
<a id="c9965_295"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room when the spinning machine is switched on:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9966_295" -->
<a id="c9966_295"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9967_295" -->
<a id="c9967_295"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn off machine / s / n / turn on machine / s&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9968_295" -->
<a id="c9968_295"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "287: Indirection" "e412" -->
<a id="e412"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example412'); return false;"><b>287</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example412'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Indirection</span></b></a><br />Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc265.html#e412"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example412" style="display: none;">
<p>In Mayan culture, colours seem to have been used as names for the primary directions: for instance, &quot;red&quot; implies east as the colour of sunrise. So the following might be a stylish touch for a game in which the player has to get inside the Mayan world-view:</p>
<!-- START CODE "c9969_412" -->
<a id="c9969_412"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Indirection[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]white[=0x0022=] and [=0x0022=]sac[=0x0022=] as north. Understand [=0x0022=]red[=0x0022=] and [=0x0022=]chac[=0x0022=] as east. Understand [=0x0022=]yellow[=0x0022=] and [=0x0022=]kan[=0x0022=] as south. Understand [=0x0022=]black[=0x0022=] and [=0x0022=]chikin[=0x0022=] as west.[=0x000A=][=0x000A=][We could also use a colour as a verb:][=0x000A=][=0x000A=]Understand [=0x0022=]turquoise[=0x0022=] and [=0x0022=]yax[=0x0022=] as looking.[=0x000A=][=0x000A=][And now a few extra rooms to try it out in:][=0x000A=][=0x000A=]The Square Chamber is a room. [=0x0022=]A sunken, gloomy stone chamber, ten yards across. A shaft of sunlight cuts in from the steps above, giving the chamber a diffuse light, but in the shadows low lintelled doorways to east and south lead into the deeper darkness of the Temple.[=0x0022=][=0x000A=][=0x000A=]The Wormcast is east of the Square Chamber. The Corridor is south of the Square Chamber.[=0x000A=][=0x000A=]Test me with [=0x0022=]kan / white / chac / black[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Indirection&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9970_412" -->
<a id="c9970_412"></a><blockquote class="code"><p class="quoted">
Understand &quot;white&quot; and &quot;sac&quot; as north. Understand &quot;red&quot; and &quot;chac&quot; as east. Understand &quot;yellow&quot; and &quot;kan&quot; as south. Understand &quot;black&quot; and &quot;chikin&quot; as west.
</p></blockquote>
<!-- END CODE -->
<p>We could also use a colour as a verb:</p>
<!-- START CODE "c9971_412" -->
<a id="c9971_412"></a><blockquote class="code"><p class="quoted">
Understand &quot;turquoise&quot; and &quot;yax&quot; as looking.
</p></blockquote>
<!-- END CODE -->
<p>And now a few extra rooms to try it out in:</p>
<!-- START CODE "c9972_412" -->
<a id="c9972_412"></a><blockquote class="code"><p class="quoted">
The Square Chamber is a room. &quot;A sunken, gloomy stone chamber, ten yards across. A shaft of sunlight cuts in from the steps above, giving the chamber a diffuse light, but in the shadows low lintelled doorways to east and south lead into the deeper darkness of the Temple.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9973_412" -->
<a id="c9973_412"></a><blockquote class="code"><p class="quoted">
The Wormcast is east of the Square Chamber. The Corridor is south of the Square Chamber.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9974_412" -->
<a id="c9974_412"></a><blockquote class="code"><p class="quoted">
Test me with &quot;kan / white / chac / black&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "40: Prisoner's Dilemma" "e39" -->
<a id="e39"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example39'); return false;"><b>40</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example39'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Prisoner's Dilemma</span></b></a><br />A button that causes a previously non-existent exit to come into being.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc51.html#e39"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example39" style="display: none;">
<p>We can change the directions in the map in mid-game, though in practice this is rarely necessary. But suppose we do not want a door or any sign of a door to exist before the player takes some action, in this case pressing a button:</p>
<!-- START CODE "c9975_39" -->
<a id="c9975_39"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Prisoner[=0x0027=]s Dilemma[=0x0022=][=0x000A=][=0x000A=]Challenger[=0x0027=]s Waiting Room is a room. [=0x0022=]The challenge is this: to wait as long as you can endure to do so in a room with no features and no clock. If you wait longer than all the other contestants, you win.[=0x0022=][=0x000A=][=0x000A=]The button is fixed in place in the Challenger[=0x0027=]s Waiting Room. [=0x0022=]The only item in view is a black recessed button.[=0x0022=][=0x000A=][=0x000A=]Amid the Cheering Throng is a room.[=0x000A=][=0x000A=]Instead of pushing the button for the first time:[=0x000A=][=0x0009=]change the east exit of the Challenger[=0x0027=]s Waiting Room to Amid the Cheering Throng;[=0x000A=][=0x0009=]change the west exit of the Cheering Throng to the Challenger[=0x0027=]s Waiting Room;[=0x000A=][=0x0009=]say [=0x0022=]With a groan of gears, the east wall swings open! If you[=0x0027=]ve lost now, well, you[=0x0027=]ve lost...[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]e / push button / e / w[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Prisoner's Dilemma&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9976_39" -->
<a id="c9976_39"></a><blockquote class="code"><p class="quoted">
Challenger's Waiting Room is a room. &quot;The challenge is this: to wait as long as you can endure to do so in a room with no features and no clock. If you wait longer than all the other contestants, you win.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9977_39" -->
<a id="c9977_39"></a><blockquote class="code"><p class="quoted">
The button is fixed in place in the Challenger's Waiting Room. &quot;The only item in view is a black recessed button.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9978_39" -->
<a id="c9978_39"></a><blockquote class="code"><p class="quoted">
Amid the Cheering Throng is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9979_39" -->
<a id="c9979_39"></a><blockquote class="code"><p class="quoted">
Instead of pushing the button for the first time:
<br />&#160;&#160;&#160;&#160;change the east exit of the Challenger's Waiting Room to Amid the Cheering Throng;
<br />&#160;&#160;&#160;&#160;change the west exit of the Cheering Throng to the Challenger's Waiting Room;
<br />&#160;&#160;&#160;&#160;say &quot;With a groan of gears, the east wall swings open! If you've lost now, well, you've lost...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9980_39" -->
<a id="c9980_39"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / push button / e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Our instructions about pushing the button will be further explained in the chapter on Actions, but the thing to note here is that we can &quot;change (whatever) exit&quot; in order to set or re-set map directions. Notice that we have to set both directions explicitly: changing the east exit of the Waiting Room does not automatically also change the west exit of Amid the Cheering Throng.</p>
<p>This allows greater flexibility in our games but does require an extra line or so of work.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "41: The World of Charles S. Roberts" "e310" -->
<a id="e310"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example310'); return false;"><b>41</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example310'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The World of Charles S. Roberts</span></b></a><br />Replacing the ordinary compass bearings with a set of six directions to impose a hexagonal rather than square grid on the landscape.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc51.html#e310"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example310" style="display: none;">
<p>Wargaming is an ancient pursuit, but its modern form began as a professional training exercise in 19th-century Prussian staff colleges; since at least as early as H. G. Wells's &quot;Little Wars&quot; (1913) it has been a hobby of &quot;boys from twelve years of age to one hundred and fifty and for that more intelligent sort of girl who likes boys' games and books.&quot; The free-form tabletop game used miniature figures and tape-measured movements, and remains the dominant form today. But in the mid-20th century, map grids on printed sheets gave the hobby a sudden new lease of life. They were easier to set up, more interesting to look at, cheaper to sell by mail-order. 1970s sales figures for &quot;Strategy and Tactics&quot;, the leading US subscription-based wargame distributor, were very similar to those of Infocom's IF games in the 1980s. And like classical IF, the grid-based wargame parceled up a continuous world into locations.</p>
<p>Grids were initially square, as on a chessboard, but square cells have several disadvantages. Four directions of movement (N, E, S, W) is too few, yet allowing movement in the diagonal directions means allowing tanks to travel about 1.4 times faster northeast than they do north. Square grids also only conform cleanly to man-made landscape features such as buildings in one orientation, and they never fit hills well. (A compromise measure to fix this, cutting the squares into octagons to leave smaller diamond squares at corner intersections, has never caught on.)</p>
<p><img alt="hexes.jpg" src="inform:/doc_images/hexes.jpg" /></p>
<p>But following Charles S. Roberts's American Civil War designs for Avalon Hill of 1958-61 (notably &quot;Chancellorsville&quot; and the second edition of &quot;Gettysburg&quot;), a hexagonal grid became the new standard. Each hexagon is the same distance from the centre of all six of its neighbours, which are at equal angular spacings; and clumps of hexagons fit the shape of lakes, contoured hills, and so forth, much more naturally than clumps of squares do. Hexes also have a certain mystique - an air of &quot;I don't belong in the children's department&quot;.</p>
<p>But hexes are tricky for IF, not least because English lacks words for &quot;the direction 60 degrees around from front&quot;. Our cognitive view of the world tends to be square, perhaps because our two eyes both face front, in a direction at right angles to the plane of our arms, legs, pelvis and eyes. We reach out sideways at right angles to our walking. Even early hex-grid wargames called the cells &quot;squares&quot;, though &quot;hexes&quot; eventually caught on. Still and all:</p>
<!-- START CODE "c9981_310" -->
<a id="c9981_310"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The World of Charles S. Roberts[=0x0022=][=0x000A=][=0x000A=]Forward is a direction. Forward has opposite backward. Understand [=0x0022=]f[=0x0022=] as forward.[=0x000A=]Backward is a direction. Backward has opposite forward. Understand [=0x0022=]b[=0x0022=] and [=0x0022=]back[=0x0022=] as backward.[=0x000A=]Forward left is a direction. Forward left has opposite backward right. Understand [=0x0022=]fl[=0x0022=] as forward left.[=0x000A=]Forward right is a direction. Forward right has opposite backward left. Understand [=0x0022=]fr[=0x0022=] as forward right.[=0x000A=]Backward left is a direction. Backward left has opposite forward right. Understand [=0x0022=]bl[=0x0022=] as backward left.[=0x000A=]Backward right is a direction. Backward right has opposite forward left. Understand [=0x0022=]br[=0x0022=] as backward right.[=0x000A=][=0x000A=][Now to forbid the use of the compass directions:][=0x000A=][=0x000A=]A direction can be hexagonal or squared-off. A direction is usually squared-off. Forward, backward, forward left, forward right, backward left and backward right are hexagonal.[=0x000A=][=0x000A=]Before going a squared-off direction, say [=0x0022=]In this hexagonally-divided landscape, squared-off directions are not allowed.[=0x0022=] instead.[=0x000A=][=0x000A=][A slight nuisance is that, with things as they are above, typing BACKWARD produces the response [=0x0022=]Which do you mean, backward, backward left or backward right?[=0x0022=] To avoid that silly question, we write:][=0x000A=][=0x000A=]Does the player mean going backward: it is very likely. Does the player mean going forward: it is very likely.[=0x000A=][=0x000A=][And now a clump of 37 hexes, in six columns of six or seven rooms each. There are many ingenious ways we could put this map together automatically, but instead we will take a deep breath and write:][=0x000A=][=0x000A=]E1 is forward of E2. [=0x0022=]Open farmland.[=0x0022=] E2 is forward of E3. [=0x0022=]The edge of woods.[=0x0022=] E3 is forward of E4. [=0x0022=]Deep woodland.[=0x0022=] E4 is forward of E5. [=0x0022=]Deep woodland.[=0x0022=] E5 is forward of E6. [=0x0022=]The rear edge of woods.[=0x0022=] E6 is forward of E7. [=0x0022=]The start of a road leading forward right.[=0x0022=] E7 is a room. [=0x0022=]Grassland.[=0x0022=][=0x000A=][=0x000A=]F1 is forward of F2. [=0x0022=]The edge of farmland.[=0x0022=] F2 is forward of F3. [=0x0022=]The edge of woods.[=0x0022=] F3 is forward of F4. [=0x0022=]Clearing in woods.[=0x0022=] F4 is forward of F5. [=0x0022=]Deep woodland.[=0x0022=] F5 is forward of F6. [=0x0022=]A road runs backward left to forward right.[=0x0022=] F6 is a room. [=0x0022=]The edge of grassland.[=0x0022=][=0x000A=][=0x000A=]G1 is forward of G2. [=0x0022=]Grassland.[=0x0022=] G2 is forward of G3. [=0x0022=]The edge of farmland.[=0x0022=] G3 is forward of G4. [=0x0022=]A copse of trees.[=0x0022=] G4 is forward of G5. [=0x0022=]The backward edge of woodland.[=0x0022=] G5 is forward of G6. [=0x0022=]A bend in the road, from backward left to backward right.[=0x0022=] G6 is forward of G7. [=0x0022=]Open farmland.[=0x0022=] G7 is a room. [=0x0022=]Open farmland.[=0x0022=][=0x000A=][=0x000A=]H1 is forward of H2. [=0x0022=]Grassland, bordered by a hedge to the right.[=0x0022=] H2 is forward of H3. [=0x0022=]The edge of farmland, with a hedge to forward right.[=0x0022=] H3 is forward of H4. [=0x0022=]A copse of trees.[=0x0022=] H4 is forward of H5. [=0x0022=]Open farmland.[=0x0022=] H5 is forward of H6. [=0x0022=]A passing place on the road, which bends forward left to forward right.[=0x0022=] H6 is a room. [=0x0022=]Open farmland.[=0x0022=][=0x000A=][=0x000A=]I1 is forward of I2. [=0x0022=]The end of a forward road, blocked by hedges on all sides except backward.[=0x0022=] I2 is forward of I3.  [=0x0022=]A straight road runs forward to backward, with long hedges to left and right.[=0x0022=] I3 is forward of I4.  [=0x0022=]A straight road runs forward to backward, alongside a long hedge to right.[=0x0022=] I4 is forward of I5.  [=0x0022=]A straight road runs forward to backward, alongside a long hedge to right.[=0x0022=] I5 is forward of I6. [=0x0022=]Where three roads, forward, backward left and backward right, meet. Forward right is a thick hedge.[=0x0022=] I6 is forward of I7. [=0x0022=]Open farmland.[=0x0022=] I7 is a room. [=0x0022=]Open farmland.[=0x0022=][=0x000A=][=0x000A=]J1 is forward of J2. [=0x0022=]Dense woodland, with a hedge to left.[=0x0022=] J2 is forward of J3. [=0x0022=]Grassland, with a hedge to left.[=0x0022=] J3 is forward of J4. [=0x0022=]The edge of farmland, with a hedge to left.[=0x0022=] J4 is a room. [=0x0022=]Open farmland, with a long hedge blocking movement forward left, backward left or backward.[=0x0022=] J5 is forward of J6. [=0x0022=]A road running forward left to backward right, alongside a hedge.[=0x0022=] J6 is a room. [=0x0022=]Open farmland.[=0x0022=][=0x000A=][=0x000A=]F1 is forward right of E2 and backward right of E1. F2 is forward right of E3 and backward right of E2. F3 is forward right of E4 and backward right of E3. F4 is forward right of E5 and backward right of E4. F5 is forward right of E6 and backward right of E5. F6 is forward right of E7 and backward right of E6.[=0x000A=][=0x000A=]G1 is forward right of F1. G2 is forward right of F2 and backward right of F1. G3 is forward right of F3 and backward right of F2. G4 is forward right of F4 and backward right of F3. G5 is forward right of F5 and backward right of F4. G6 is forward right of F6 and backward right of F5.[=0x000A=][=0x000A=]H1 is forward right of G2 and backward right of G1. H2 is forward right of G3 and backward right of G2. H3 is forward right of G4 and backward right of G3. H4 is forward right of G5 and backward right of G4. H5 is forward right of G6 and backward right of G5. H6 is forward right of G7 and backward right of G6.[=0x000A=][=0x000A=]I3 is forward right of H3 and backward right of H2. I4 is forward right of H4 and backward right of H3. I5 is forward right of H5 and backward right of H4. I6 is forward right of H6 and backward right of H5.[=0x000A=][=0x000A=]J5 is forward right of I6 and backward right of I5. J6 is forward right of I7 and backward right of I6.[=0x000A=][=0x000A=][And now we have a hexagonally-gridded world. Route-finding will work; prepositional forms like [=0x0022=]to be mapped backward left of[=0x0022=] exist, just as they should; and in general these directions are just as good as the square ones. (The only thing which doesn[=0x0027=]t look good is the Index map, where Inform is just unable to draw a picture because it assumes a square grid. But that has no effect on play.)][=0x000A=][=0x000A=][The landscape is much easier to navigate with a little diagram:][=0x000A=][=0x000A=]To say legend (D - direction):[=0x000A=][=0x0009=]let destination hex be the room D from the location;[=0x000A=][=0x0009=]if the destination hex is nothing, say [=0x0022=]  [=0x0022=];[=0x000A=][=0x0009=]otherwise say the destination hex.[=0x000A=][=0x000A=]Carry out looking:[=0x000A=][=0x0009=]say [=0x0022=][fixed letter spacing]   [=0x005C=] [legend forward] /[line break][legend forward left]  ----  [legend forward right][line break]   /    [=0x005C=][line break]--[=0x003C=]  [location]  [=0x003E=]--[line break]   [=0x005C=]    /[line break][legend backward left]  ----  [legend backward right][line break]   / [legend backward] [=0x005C=][variable letter spacing][line break][=0x0022=].[=0x000A=][=0x000A=][And finally:][=0x000A=][=0x000A=]The player is in I5.[=0x000A=][=0x000A=]Test me with [=0x0022=]f / forward / backward left / bl / br / br / f[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;The World of Charles S. Roberts&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9982_310" -->
<a id="c9982_310"></a><blockquote class="code"><p class="quoted">
Forward is a direction. Forward has opposite backward. Understand &quot;f&quot; as forward.
<br />Backward is a direction. Backward has opposite forward. Understand &quot;b&quot; and &quot;back&quot; as backward.
<br />Forward left is a direction. Forward left has opposite backward right. Understand &quot;fl&quot; as forward left.
<br />Forward right is a direction. Forward right has opposite backward left. Understand &quot;fr&quot; as forward right.
<br />Backward left is a direction. Backward left has opposite forward right. Understand &quot;bl&quot; as backward left.
<br />Backward right is a direction. Backward right has opposite forward left. Understand &quot;br&quot; as backward right.
</p></blockquote>
<!-- END CODE -->
<p>Now to forbid the use of the compass directions:</p>
<!-- START CODE "c9983_310" -->
<a id="c9983_310"></a><blockquote class="code"><p class="quoted">
A direction can be hexagonal or squared-off. A direction is usually squared-off. Forward, backward, forward left, forward right, backward left and backward right are hexagonal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9984_310" -->
<a id="c9984_310"></a><blockquote class="code"><p class="quoted">
Before going a squared-off direction, say &quot;In this hexagonally-divided landscape, squared-off directions are not allowed.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>A slight nuisance is that, with things as they are above, typing BACKWARD produces the response &quot;Which do you mean, backward, backward left or backward right?&quot; To avoid that silly question, we write:</p>
<!-- START CODE "c9985_310" -->
<a id="c9985_310"></a><blockquote class="code"><p class="quoted">
Does the player mean going backward: it is very likely. Does the player mean going forward: it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>And now a clump of 37 hexes, in six columns of six or seven rooms each. There are many ingenious ways we could put this map together automatically, but instead we will take a deep breath and write:</p>
<!-- START CODE "c9986_310" -->
<a id="c9986_310"></a><blockquote class="code"><p class="quoted">
E1 is forward of E2. &quot;Open farmland.&quot; E2 is forward of E3. &quot;The edge of woods.&quot; E3 is forward of E4. &quot;Deep woodland.&quot; E4 is forward of E5. &quot;Deep woodland.&quot; E5 is forward of E6. &quot;The rear edge of woods.&quot; E6 is forward of E7. &quot;The start of a road leading forward right.&quot; E7 is a room. &quot;Grassland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9987_310" -->
<a id="c9987_310"></a><blockquote class="code"><p class="quoted">
F1 is forward of F2. &quot;The edge of farmland.&quot; F2 is forward of F3. &quot;The edge of woods.&quot; F3 is forward of F4. &quot;Clearing in woods.&quot; F4 is forward of F5. &quot;Deep woodland.&quot; F5 is forward of F6. &quot;A road runs backward left to forward right.&quot; F6 is a room. &quot;The edge of grassland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9988_310" -->
<a id="c9988_310"></a><blockquote class="code"><p class="quoted">
G1 is forward of G2. &quot;Grassland.&quot; G2 is forward of G3. &quot;The edge of farmland.&quot; G3 is forward of G4. &quot;A copse of trees.&quot; G4 is forward of G5. &quot;The backward edge of woodland.&quot; G5 is forward of G6. &quot;A bend in the road, from backward left to backward right.&quot; G6 is forward of G7. &quot;Open farmland.&quot; G7 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9989_310" -->
<a id="c9989_310"></a><blockquote class="code"><p class="quoted">
H1 is forward of H2. &quot;Grassland, bordered by a hedge to the right.&quot; H2 is forward of H3. &quot;The edge of farmland, with a hedge to forward right.&quot; H3 is forward of H4. &quot;A copse of trees.&quot; H4 is forward of H5. &quot;Open farmland.&quot; H5 is forward of H6. &quot;A passing place on the road, which bends forward left to forward right.&quot; H6 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9990_310" -->
<a id="c9990_310"></a><blockquote class="code"><p class="quoted">
I1 is forward of I2. &quot;The end of a forward road, blocked by hedges on all sides except backward.&quot; I2 is forward of I3.  &quot;A straight road runs forward to backward, with long hedges to left and right.&quot; I3 is forward of I4.  &quot;A straight road runs forward to backward, alongside a long hedge to right.&quot; I4 is forward of I5.  &quot;A straight road runs forward to backward, alongside a long hedge to right.&quot; I5 is forward of I6. &quot;Where three roads, forward, backward left and backward right, meet. Forward right is a thick hedge.&quot; I6 is forward of I7. &quot;Open farmland.&quot; I7 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9991_310" -->
<a id="c9991_310"></a><blockquote class="code"><p class="quoted">
J1 is forward of J2. &quot;Dense woodland, with a hedge to left.&quot; J2 is forward of J3. &quot;Grassland, with a hedge to left.&quot; J3 is forward of J4. &quot;The edge of farmland, with a hedge to left.&quot; J4 is a room. &quot;Open farmland, with a long hedge blocking movement forward left, backward left or backward.&quot; J5 is forward of J6. &quot;A road running forward left to backward right, alongside a hedge.&quot; J6 is a room. &quot;Open farmland.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9992_310" -->
<a id="c9992_310"></a><blockquote class="code"><p class="quoted">
F1 is forward right of E2 and backward right of E1. F2 is forward right of E3 and backward right of E2. F3 is forward right of E4 and backward right of E3. F4 is forward right of E5 and backward right of E4. F5 is forward right of E6 and backward right of E5. F6 is forward right of E7 and backward right of E6.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9993_310" -->
<a id="c9993_310"></a><blockquote class="code"><p class="quoted">
G1 is forward right of F1. G2 is forward right of F2 and backward right of F1. G3 is forward right of F3 and backward right of F2. G4 is forward right of F4 and backward right of F3. G5 is forward right of F5 and backward right of F4. G6 is forward right of F6 and backward right of F5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9994_310" -->
<a id="c9994_310"></a><blockquote class="code"><p class="quoted">
H1 is forward right of G2 and backward right of G1. H2 is forward right of G3 and backward right of G2. H3 is forward right of G4 and backward right of G3. H4 is forward right of G5 and backward right of G4. H5 is forward right of G6 and backward right of G5. H6 is forward right of G7 and backward right of G6.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9995_310" -->
<a id="c9995_310"></a><blockquote class="code"><p class="quoted">
I3 is forward right of H3 and backward right of H2. I4 is forward right of H4 and backward right of H3. I5 is forward right of H5 and backward right of H4. I6 is forward right of H6 and backward right of H5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9996_310" -->
<a id="c9996_310"></a><blockquote class="code"><p class="quoted">
J5 is forward right of I6 and backward right of I5. J6 is forward right of I7 and backward right of I6.
</p></blockquote>
<!-- END CODE -->
<p>And now we have a hexagonally-gridded world. Route-finding will work; prepositional forms like &quot;to be mapped backward left of&quot; exist, just as they should; and in general these directions are just as good as the square ones. (The only thing which doesn't look good is the Index map, where Inform is just unable to draw a picture because it assumes a square grid. But that has no effect on play.)</p>
<p>The landscape is much easier to navigate with a little diagram:</p>
<!-- START CODE "c9997_310" -->
<a id="c9997_310"></a><blockquote class="code"><p class="quoted">
To say legend (D - direction):
<br />&#160;&#160;&#160;&#160;let destination hex be the room D from the location;
<br />&#160;&#160;&#160;&#160;if the destination hex is nothing, say &quot;  &quot;;
<br />&#160;&#160;&#160;&#160;otherwise say the destination hex.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9998_310" -->
<a id="c9998_310"></a><blockquote class="code"><p class="quoted">
Carry out looking:
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing]   \ [legend forward] /[line break][legend forward left]  ----  [legend forward right][line break]   /    \[line break]--&lt;  [location]  &gt;--[line break]   \    /[line break][legend backward left]  ----  [legend backward right][line break]   / [legend backward] \[variable letter spacing][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And finally:</p>
<!-- START CODE "c9999_310" -->
<a id="c9999_310"></a><blockquote class="code"><p class="quoted">
The player is in I5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10000_310" -->
<a id="c10000_310"></a><blockquote class="code"><p class="quoted">
Test me with &quot;f / forward / backward left / bl / br / br / f&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "101: A&E" "e373" -->
<a id="e373"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example373'); return false;"><b>101</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example373'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A&amp;E</span></b></a><br />Using regions to block access to an entire area when the player does not carry a pass, regardless of which entrance he uses.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc110.html#e373"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example373" style="display: none;">
<p>Rules about going to regions make it easy to exclude the player from a large portion of the map, even if there are many connecting paths to the region. For instance, in this story it would be annoying to have to write a rule about all four exits by which the player could reach the film set area:</p>
<!-- START CODE "c10001_373" -->
<a id="c10001_373"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]A[=0x0026=]E[=0x0022=][=0x000A=][=0x000A=]Winding Street is a room. Winding Street is west of Duck Pond. Sloping Street is north of Winding Street, northwest of Duck Pond, west of Stately Lawn, and southwest of Stately Home. Stately Lawn is north of Duck Pond. Stately Home is north of Stately Lawn.[=0x000A=][=0x000A=]Film Set is a region. Duck Pond, Stately Lawn, and Stately Home are in Film Set.[=0x000A=][=0x000A=]Instead of going to Film Set when the player does not carry the VIP Pass: say [=0x0022=]A burly studio guard materializes in your path, convincing you that you would prefer to be elsewhere.[=0x0022=][=0x000A=][=0x000A=]The VIP Pass is in the garbage can. The garbage can is in Sloping Street.[=0x000A=][=0x000A=]After going to the Film Set:[=0x000A=][=0x0009=]say [=0x0022=]Success! At last you are inside the set of [=0x0027=]Prouder and More Prejudiced[=0x0027=]. Next step: locating Mr Firth.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]e / n / e / get pass / e[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;A&amp;E&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10002_373" -->
<a id="c10002_373"></a><blockquote class="code"><p class="quoted">
Winding Street is a room. Winding Street is west of Duck Pond. Sloping Street is north of Winding Street, northwest of Duck Pond, west of Stately Lawn, and southwest of Stately Home. Stately Lawn is north of Duck Pond. Stately Home is north of Stately Lawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10003_373" -->
<a id="c10003_373"></a><blockquote class="code"><p class="quoted">
Film Set is a region. Duck Pond, Stately Lawn, and Stately Home are in Film Set.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10004_373" -->
<a id="c10004_373"></a><blockquote class="code"><p class="quoted">
Instead of going to Film Set when the player does not carry the VIP Pass: say &quot;A burly studio guard materializes in your path, convincing you that you would prefer to be elsewhere.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10005_373" -->
<a id="c10005_373"></a><blockquote class="code"><p class="quoted">
The VIP Pass is in the garbage can. The garbage can is in Sloping Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10006_373" -->
<a id="c10006_373"></a><blockquote class="code"><p class="quoted">
After going to the Film Set:
<br />&#160;&#160;&#160;&#160;say &quot;Success! At last you are inside the set of 'Prouder and More Prejudiced'. Next step: locating Mr Firth.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10007_373" -->
<a id="c10007_373"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / n / e / get pass / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc8.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc10.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
