<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>7.12. In the presence of, and when</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "In the presence of, and when" -->
<!-- SEARCH SECTION "7.12" -->
<!-- SEARCH SORT "000-007-012-000" -->
<!-- START IGNORE 108 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc108.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 7: Basic Actions</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc110.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง7.12. In the presence of, and when</p>
<p>Relative location can also be important: relative to other people, that is -</p>
<!-- START CODE "c1459" -->
<a id="c1459"></a><blockquote class="code"><p class="quoted">
Instead of eating something in the presence of Lady Bracknell, say &quot;Lady Bracknell disapproves thoroughly of gentlemen who snack between meals, and there are few disapprovals in this world quite so thorough as Lady Bracknell's.&quot;
</p></blockquote>
<!-- END CODE -->
<p>As might be guessed, this applies when the action takes place in the same location as the person named: and of course that person can also be described more vaguely (&quot;... in the presence of a woman&quot;, say), and can just as easily be an inanimate thing (&quot;... in the presence of the radio set&quot;).</p>
<p>Lady Bracknell is a pushover compared to some matriarchs:</p>
<!-- START CODE "c1460" -->
<a id="c1460"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than looking, examining or waiting in the presence of the Queen: say &quot;I'm afraid they take what you might call a zero tolerance approach to breaches of court etiquette here.&quot;; end the story saying &quot;You have been summarily beheaded&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The last of the optional clauses we can tack on to the description of an action is the most general of all. We can add &quot;when&quot; and then any condition at all, as in:</p>
<!-- START CODE "c1461" -->
<a id="c1461"></a><blockquote class="code"><p class="quoted">
Instead of eating something when the radio set is switched on, say &quot;Something about the howling short-wave static puts you right off luncheon.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This supposes that the radio is so loud that it can be heard from any room: we could muffle it so that it's only audible from the room it is in like so:</p>
<!-- START CODE "c1462" -->
<a id="c1462"></a><blockquote class="code"><p class="quoted">
Instead of eating something in the presence of the radio set when the radio set is switched on, say &quot;Something about the howling short-wave static puts you right off luncheon.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "98: Beachfront" "e173" -->
<a id="e173"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example173'); return false;"><b>98</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example173'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Beachfront</span></b></a><br />An item that the player can't interact with until he has found it by searching the scenery.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc34.html#e173"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example173" style="display: none;">
<p>Suppose we have our player, a detective, searching for evidence; we don't want him to be able to use this evidence until he has performed the action that reveals it, but after that it should be visible in the room when he looks.</p>
<p>A simple way to do this is to start the object -- an envelope, in this scenario -- out of play, and only move it into the location when the player looks for it:</p>
<!-- START CODE "c1463_173" -->
<a id="c1463_173"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Beachfront[=0x0022=][=0x000A=][=0x000A=]The Stuffy Office is a room. [=0x0022=]The windows are closed, making the sultry air even more unbearable. A narrow slice of Caribbean blue is visible between the scuba gear rental shop and the recreated 17th century pirate tavern.[=0x000A=][=0x000A=]The office is cheerfully furnished with wicker chairs and white curtains, but the tropical decorating scheme stopped at the desk, which is heavy oak and absolutely covered with papers.[=0x0022=][=0x000A=][=0x000A=]The heavy oak desk is a supporter in the stuffy office. It is scenery. Understand [=0x0022=]paperwork[=0x0022=] as the desk.[=0x000A=][=0x000A=]The creamy envelope is an openable container. The description is [=0x0022=]There is no return address on the outside of the envelope, just the address of the Doctor[=0x0027=]s office -- but the legs of the capital A are rubbed down in a characteristic way, and the top of every R is open. There[=0x0027=]s no question that it comes from the same typewriter as the blackmail note.[=0x0022=] In the envelope is a letter. The envelope can be found or lost. The envelope is lost.[=0x000A=][=0x000A=]Instead of searching the desk when the envelope is lost:[=0x000A=][=0x0009=]now the envelope is found;[=0x000A=][=0x0009=]say [=0x0022=]You rifle through the piles of bills and notices; invitations to conventions; advertisements for high-end prescription drugs; pink carbon sheets bearing patients[[=0x0027=]] names and medical identification numbers in spidery, elderly handwriting. Almost at the bottom of the heap, you find what you were looking for: a creamy envelope with the address typed.[=0x0022=];[=0x000A=][=0x0009=]move the envelope to the desk.[=0x000A=][=0x000A=][Here we[=0x0027=]ve changed the property of the envelope to keep track of the fact that it has been found, so that if the player tries again, he won[=0x0027=]t find anything more.][=0x000A=][=0x000A=]Instead of searching the desk:[=0x000A=][=0x0009=]say [=0x0022=]Further investigation of the desk reveals nothing else suspicious.[=0x0022=][=0x000A=][=0x000A=][Notice that we have two rules that apply to [=0x0022=]searching the desk[=0x0022=], but one of them has a more specific set of parameters ([=0x0022=]when the envelope is lost[=0x0022=]). This means that Inform will consult that rule first and use it if it applies; it will only carry out our plain vanilla [=0x0022=]instead of searching the desk[=0x0022=] rule when the more restricted rule is not relevant.][=0x000A=][=0x000A=]Test me with [=0x0022=]x envelope / x desk / search desk / look / get envelope / x envelope[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Beachfront&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1464_173" -->
<a id="c1464_173"></a><blockquote class="code"><p class="quoted">
The Stuffy Office is a room. &quot;The windows are closed, making the sultry air even more unbearable. A narrow slice of Caribbean blue is visible between the scuba gear rental shop and the recreated 17th century pirate tavern.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1465_173" -->
<a id="c1465_173"></a><blockquote class="code"><p class="quoted">
The office is cheerfully furnished with wicker chairs and white curtains, but the tropical decorating scheme stopped at the desk, which is heavy oak and absolutely covered with papers.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1466_173" -->
<a id="c1466_173"></a><blockquote class="code"><p class="quoted">
The heavy oak desk is a supporter in the stuffy office. It is scenery. Understand &quot;paperwork&quot; as the desk.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1467_173" -->
<a id="c1467_173"></a><blockquote class="code"><p class="quoted">
The creamy envelope is an openable container. The description is &quot;There is no return address on the outside of the envelope, just the address of the Doctor's office -- but the legs of the capital A are rubbed down in a characteristic way, and the top of every R is open. There's no question that it comes from the same typewriter as the blackmail note.&quot; In the envelope is a letter. The envelope can be found or lost. The envelope is lost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1468_173" -->
<a id="c1468_173"></a><blockquote class="code"><p class="quoted">
Instead of searching the desk when the envelope is lost:
<br />&#160;&#160;&#160;&#160;now the envelope is found;
<br />&#160;&#160;&#160;&#160;say &quot;You rifle through the piles of bills and notices; invitations to conventions; advertisements for high-end prescription drugs; pink carbon sheets bearing patients['] names and medical identification numbers in spidery, elderly handwriting. Almost at the bottom of the heap, you find what you were looking for: a creamy envelope with the address typed.&quot;;
<br />&#160;&#160;&#160;&#160;move the envelope to the desk.
</p></blockquote>
<!-- END CODE -->
<p>Here we've changed the property of the envelope to keep track of the fact that it has been found, so that if the player tries again, he won't find anything more.</p>
<!-- START CODE "c1469_173" -->
<a id="c1469_173"></a><blockquote class="code"><p class="quoted">
Instead of searching the desk:
<br />&#160;&#160;&#160;&#160;say &quot;Further investigation of the desk reveals nothing else suspicious.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Notice that we have two rules that apply to &quot;searching the desk&quot;, but one of them has a more specific set of parameters (&quot;when the envelope is lost&quot;). This means that Inform will consult that rule first and use it if it applies; it will only carry out our plain vanilla &quot;instead of searching the desk&quot; rule when the more restricted rule is not relevant.</p>
<!-- START CODE "c1470_173" -->
<a id="c1470_173"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x envelope / x desk / search desk / look / get envelope / x envelope&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "99: Today Tomorrow" "e261" -->
<a id="e261"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example261'); return false;"><b>99</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example261'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Today Tomorrow</span></b></a><br />A few notes on "In the presence of" and how it interacts with concealed objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc65.html#e261"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example261" style="display: none;">
<p>Rules about concealment will affect &quot;in the presence of&quot;, too. For instance, suppose we have a man with a pocket pet:</p>
<!-- START CODE "c1471_261" -->
<a id="c1471_261"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Today Tomorrow[=0x0022=][=0x000A=][=0x000A=]The Temporary Employment Office is a room. [=0x0022=][=0x0027=]Tomorrow[=0x0027=]s Temporary Workers - Today![=0x0027=] proclaims the logo over the door. The office is divided into two areas, the inner sanctum where you take calls and fiddle with the computer, and the outer area where workers take skill exams and watch inspirational videos ([=0x0027=]Earn your way to partial benefits![=0x0027=], [=0x0027=]Vacation days and you![=0x0027=], [=0x0027=]Temping the Tomorrow Way[=0x0027=], etc.).[=0x0022=][=0x000A=][=0x000A=]Maya is a woman in the Office. [=0x0022=]Your coworker Maya sits at her own computer, diligently modifying all the [one of]pay rates in the database down from $9.00 an hour to $8.96[or]billing rates in the database up from $25.00 an hour to $25.04[purely at random].[=0x0022=] She wears a trenchcoat. She carries a chihuahua. The description of Maya is [=0x0022=][if Maya is wearing the trenchcoat]She[=0x0027=]s wearing a trenchcoat, in a bizarre bid to keep your boss unaware of the chihuahua in her pocket. [=0x0027=]Because petsitters are really expensive![=0x0027=] she explained to you in an urgent hiss this morning over the coffeemaker. [otherwise]She looks cold. [end if]To all appearances, she is carrying [a list of unconcealed things carried by Maya].[=0x0022=][=0x000A=][=0x000A=]Maya[=0x0027=]s computer is scenery in the Employment Office. The description is [=0x0022=]You can[=0x0027=]t see the screen from here, but she was perfectly happy to tell you what she was doing.[=0x0022=][=0x000A=][=0x000A=]Rule for deciding the concealed possessions of someone (called carrier):[=0x000A=][=0x0009=]if the particular possession is the chihuahua and the carrier wears the trenchcoat, yes;[=0x000A=][=0x0009=]otherwise no.[=0x000A=][=0x000A=]Instead of eating something in the presence of the chihuahua:[=0x000A=][=0x0009=]say [=0x0022=][The chihuahua] yips at you! Maya looks despairingly at [the noun], which is obviously inciting it.[=0x0022=][=0x000A=][=0x000A=]The desk is scenery in the Office. On the desk are a multi-line telephone and a printer. The description of the printer is [=0x0022=]Every morning, this instrument of torture spits out a list of the assignments you have to fill - professional, attractive receptionist with level three Excel certification, at $7.05 an hour; that sort of thing. You spend the ensuing three hours trying to meet its tyrannical demands.[=0x0022=] The description of the multi-line telephone is [=0x0022=]Line three blinks urgently at you. You[=0x0027=]ll pick it up again as soon as you can remember who it was you put on hold.[=0x0022=][=0x000A=][=0x000A=]The player carries a double bacon cheeseburger and a chocolate shake. Understand [=0x0022=]milkshake[=0x0022=] or [=0x0022=]beverage[=0x0022=] as the shake. The description of the cheeseburger is [=0x0022=]A minor self-indulgence to make up for the fact that you have to work through lunch.[=0x0022=] The cheeseburger is edible. The shake is edible. The description of the shake is [=0x0022=]It has the consistency of spackle and is no longer cold, but there is some chocolatey goodness in it still.[=0x0022=] Understand [=0x0022=]burger[=0x0022=] or [=0x0022=]hamburger[=0x0022=] as the cheeseburger. Instead of drinking the chocolate shake: try eating the shake instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]x maya / x cheeseburger / drink shake / eat cheeseburger[=0x0022=].[=0x000A=][=0x000A=][Unless we somehow get the trenchcoat away from Maya, the chihuahua will not be in view, and will not intervene in our lunch. All very well for the player character, but not so interesting to the story... To this end, we might add an unfortunate event, courtesy of later chapters:][=0x000A=][=0x000A=]The time of day is 11:45 AM.[=0x000A=][=0x000A=]At 11:47 AM: say [=0x0022=]Your boss pokes his head in, temporarily free of the round of conference calls that occupy all his days. [=0x0027=]Maya,[=0x0027=] he says. [=0x0027=]Your coat?[=0x0027=] He shakes his head, clucking sadly. [=0x0027=]It doesn[=0x0027=]t say professional![=0x0027=] But mercifully Maya manages to take it off so slowly that he doesn[=0x0027=]t glimpse her pet before her phone rings again.[=0x0022=];[=0x000A=][=0x0009=]now Maya carries the trenchcoat.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Today Tomorrow&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1472_261" -->
<a id="c1472_261"></a><blockquote class="code"><p class="quoted">
The Temporary Employment Office is a room. &quot;'Tomorrow's Temporary Workers - Today!' proclaims the logo over the door. The office is divided into two areas, the inner sanctum where you take calls and fiddle with the computer, and the outer area where workers take skill exams and watch inspirational videos ('Earn your way to partial benefits!', 'Vacation days and you!', 'Temping the Tomorrow Way', etc.).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1473_261" -->
<a id="c1473_261"></a><blockquote class="code"><p class="quoted">
Maya is a woman in the Office. &quot;Your coworker Maya sits at her own computer, diligently modifying all the [one of]pay rates in the database down from $9.00 an hour to $8.96[or]billing rates in the database up from $25.00 an hour to $25.04[purely at random].&quot; She wears a trenchcoat. She carries a chihuahua. The description of Maya is &quot;[if Maya is wearing the trenchcoat]She's wearing a trenchcoat, in a bizarre bid to keep your boss unaware of the chihuahua in her pocket. 'Because petsitters are really expensive!' she explained to you in an urgent hiss this morning over the coffeemaker. [otherwise]She looks cold. [end if]To all appearances, she is carrying [a list of unconcealed things carried by Maya].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1474_261" -->
<a id="c1474_261"></a><blockquote class="code"><p class="quoted">
Maya's computer is scenery in the Employment Office. The description is &quot;You can't see the screen from here, but she was perfectly happy to tell you what she was doing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1475_261" -->
<a id="c1475_261"></a><blockquote class="code"><p class="quoted">
Rule for deciding the concealed possessions of someone (called carrier):
<br />&#160;&#160;&#160;&#160;if the particular possession is the chihuahua and the carrier wears the trenchcoat, yes;
<br />&#160;&#160;&#160;&#160;otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1476_261" -->
<a id="c1476_261"></a><blockquote class="code"><p class="quoted">
Instead of eating something in the presence of the chihuahua:
<br />&#160;&#160;&#160;&#160;say &quot;[The chihuahua] yips at you! Maya looks despairingly at [the noun], which is obviously inciting it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1477_261" -->
<a id="c1477_261"></a><blockquote class="code"><p class="quoted">
The desk is scenery in the Office. On the desk are a multi-line telephone and a printer. The description of the printer is &quot;Every morning, this instrument of torture spits out a list of the assignments you have to fill - professional, attractive receptionist with level three Excel certification, at $7.05 an hour; that sort of thing. You spend the ensuing three hours trying to meet its tyrannical demands.&quot; The description of the multi-line telephone is &quot;Line three blinks urgently at you. You'll pick it up again as soon as you can remember who it was you put on hold.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1478_261" -->
<a id="c1478_261"></a><blockquote class="code"><p class="quoted">
The player carries a double bacon cheeseburger and a chocolate shake. Understand &quot;milkshake&quot; or &quot;beverage&quot; as the shake. The description of the cheeseburger is &quot;A minor self-indulgence to make up for the fact that you have to work through lunch.&quot; The cheeseburger is edible. The shake is edible. The description of the shake is &quot;It has the consistency of spackle and is no longer cold, but there is some chocolatey goodness in it still.&quot; Understand &quot;burger&quot; or &quot;hamburger&quot; as the cheeseburger. Instead of drinking the chocolate shake: try eating the shake instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1479_261" -->
<a id="c1479_261"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x maya / x cheeseburger / drink shake / eat cheeseburger&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Unless we somehow get the trenchcoat away from Maya, the chihuahua will not be in view, and will not intervene in our lunch. All very well for the player character, but not so interesting to the story... To this end, we might add an unfortunate event, courtesy of later chapters:</p>
<!-- START CODE "c1480_261" -->
<a id="c1480_261"></a><blockquote class="code"><p class="quoted">
The time of day is 11:45 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1481_261" -->
<a id="c1481_261"></a><blockquote class="code"><p class="quoted">
At 11:47 AM: say &quot;Your boss pokes his head in, temporarily free of the round of conference calls that occupy all his days. 'Maya,' he says. 'Your coat?' He shakes his head, clucking sadly. 'It doesn't say professional!' But mercifully Maya manages to take it off so slowly that he doesn't glimpse her pet before her phone rings again.&quot;;
<br />&#160;&#160;&#160;&#160;now Maya carries the trenchcoat.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc108.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc110.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
