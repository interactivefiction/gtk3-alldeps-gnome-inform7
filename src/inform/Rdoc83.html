<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.4. Glass and Other Damage-Prone Substances</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Glass and Other Damage-Prone Substances" -->
<!-- SEARCH SECTION "10.4" -->
<!-- SEARCH SORT "001-010-004-000" -->
<!-- START IGNORE 82 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc82.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 10: Physics: Substances, Ropes, Energy and Weight</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc84.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง10.4. Glass and Other Damage-Prone Substances</p>
<p>Just as Inform normally assumes everything is solid, it also assumes that these solid objects will not buckle, crack, break or deform under pressure, and cannot be fragmented. But breakability adds realism, and breakage need not be negative: sometimes we want the player to break her way in to something.</p>
<p>In IF the word DROP is more often used to mean &quot;put down&quot; or &quot;leave behind&quot; than &quot;let go from a height&quot;: so it is perhaps unfair that in <span class="boldface">Ming Vase</span> something fragile, when dropped, shatters (into nothing). In <span class="boldface">Spring Cleaning</span>, fragile objects must be explicitly attacked by the player in order to break, and although they leave no tangible debris behind, their loss is at least remembered. <span class="boldface">Kyoto</span> provides a general-purpose model for things being thrown at other things, with consequences including things moving (even between rooms) as well as breaking each other.</p>
<p>Debris from breakages is to be avoided if possible because it means keeping track of increasing numbers of objects. But we can increase realism by allowing something to have a visibly &quot;broken&quot; state, which it changes to when it breaks, rather than simply vanishing. <span class="boldface">Terracottissima</span> provides for broken and unbroken flowerpots in this way.</p>
<p>Since &quot;part of&quot; allows us to have two objects joined together into what the player sees as one, it also gives us a natural seam which allows the whole to be broken back down into its component parts, and this is the neatest way of providing a breakage into pieces. <span class="boldface">Paddington</span> demonstrates a cutting action which allows component parts to be cut away from their holders but will only make small surface gashes in any individual thing: so the player can cut something up, but only into the pieces we specifically choose to allow. Cutting also forces an opening into containers.</p>
<p class="crossreference"><a href="Rdoc51.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Combat and Death</b></a><i> for a robot that breaks into its component limbs when shot with a blaster</i></p><p class="crossreference"><a href="Rdoc61.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Goal-Seeking Characters</b></a><i> for a character who eats donuts, leaving crumbs on the floor</i></p><p class="crossreference"><a href="Rdoc84.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Volume, Height, Weight</b></a><i> for containers breaking under the weight of their contents</i></p><p class="crossreference"><a href="Rdoc85.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Ropes</b></a><i> for cutting up string into up to 35 different pieces of different lengths - a limit the player is unlikely to find out about, but a limit all the same, and an expensive solution since we need 35 different things for the &quot;debris&quot; when string is &quot;broken&quot;</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "97: Ming Vase" "e15" -->
<a id="e15"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example15'); return false;"><b>97</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example15'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ming Vase</span></b></a><br />ATTACK or DROP break and remove fragile items from play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc107.html#e15"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example15" style="display: none;">
<p>In emulation of a certain annoying aspect of the original Adventure, in which there is a Ming vase that cannot safely be dropped:</p>
<!-- START CODE "c15377_15" -->
<a id="c15377_15"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Ming Vase[=0x0022=][=0x000A=][=0x000A=]A thing can be strong or fragile. A thing is usually strong.[=0x000A=][=0x000A=]Instead of attacking or dropping a fragile thing:[=0x000A=][=0x0009=]now the noun is nowhere;[=0x000A=][=0x0009=]say [=0x0022=][The noun] breaks into thousands of pieces![=0x0022=][=0x000A=][=0x000A=]The Cave is a room. The Ming vase is carried by the player. The vase is fragile.[=0x000A=][=0x000A=][We could also implement an additional refinement from Adventure, that a fragile thing is safe if dropped when there is a cushion nearby.][=0x000A=][=0x000A=]The pillow is a portable supporter. It is carried by the player.[=0x000A=][=0x000A=]Instead of dropping a fragile thing when the pillow is in the location: try putting the noun on the pillow instead.[=0x000A=][=0x000A=]After putting a fragile thing on the pillow:[=0x000A=][=0x0009=]say [=0x0022=]You set [the noun] down gently on the pillow.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]drop pillow / drop vase / get vase / get pillow / drop vase[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Ming Vase&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15378_15" -->
<a id="c15378_15"></a><blockquote class="code"><p class="quoted">
A thing can be strong or fragile. A thing is usually strong.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15379_15" -->
<a id="c15379_15"></a><blockquote class="code"><p class="quoted">
Instead of attacking or dropping a fragile thing:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] breaks into thousands of pieces!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15380_15" -->
<a id="c15380_15"></a><blockquote class="code"><p class="quoted">
The Cave is a room. The Ming vase is carried by the player. The vase is fragile.
</p></blockquote>
<!-- END CODE -->
<p>We could also implement an additional refinement from Adventure, that a fragile thing is safe if dropped when there is a cushion nearby.</p>
<!-- START CODE "c15381_15" -->
<a id="c15381_15"></a><blockquote class="code"><p class="quoted">
The pillow is a portable supporter. It is carried by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15382_15" -->
<a id="c15382_15"></a><blockquote class="code"><p class="quoted">
Instead of dropping a fragile thing when the pillow is in the location: try putting the noun on the pillow instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15383_15" -->
<a id="c15383_15"></a><blockquote class="code"><p class="quoted">
After putting a fragile thing on the pillow:
<br />&#160;&#160;&#160;&#160;say &quot;You set [the noun] down gently on the pillow.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15384_15" -->
<a id="c15384_15"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop pillow / drop vase / get vase / get pillow / drop vase&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In this rule, the pillow is the second noun; if we had a general rule about setting fragile things on soft things, we could say &quot;You set [the noun] down gently on [the second noun].&quot; for the same effect.</p>
<p>If we wanted to be more refined, we would provide extra code so that breaking a container or a supporter would leave behind their contents. We will see how to do that later.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "122: Spring Cleaning" "e42" -->
<a id="e42"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example42'); return false;"><b>122</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example42'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Spring Cleaning</span></b></a><br />A character who sulks over objects that the player has broken (and which are now off-stage).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc125.html#e42"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example42" style="display: none;">
<p>Here we have a destruction action that allows the player to break any fragile items. Once destroyed, these things are removed from play, but we can still refer to them: they are now off-stage. This makes it easy for our sulking character to list the ones that have been destroyed:</p>
<!-- START CODE "c15385_42" -->
<a id="c15385_42"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Spring Cleaning[=0x0022=][=0x000A=][=0x000A=]A thing can be tough or fragile. A thing is usually tough.[=0x000A=][=0x000A=]Instead of attacking something fragile:[=0x000A=][=0x0009=]say [=0x0022=]You smash [the noun] to smithereens![=0x0022=];[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]A knick-knack is a kind of thing which is fragile.[=0x000A=][=0x000A=]Every turn when a knick-knack is off-stage and Granny Blue can see the player:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Ohh,[=0x0027=] whimpers Granny to herself softly. [=0x0027=]How I will miss [the list of off-stage knick-knacks]![=0x0027=][=0x0022=][=0x000A=][=0x000A=]The Parlor is a room. Granny Blue is a woman in the Parlor. A china lamb, a porcelain milkmaid, a frolicking Dutch cow, and a crystal unicorn are knick-knacks in the Parlor.[=0x000A=][=0x000A=]Test me with [=0x0022=]break lamb / break milkmaid / break cow / break unicorn[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Spring Cleaning&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15386_42" -->
<a id="c15386_42"></a><blockquote class="code"><p class="quoted">
A thing can be tough or fragile. A thing is usually tough.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15387_42" -->
<a id="c15387_42"></a><blockquote class="code"><p class="quoted">
Instead of attacking something fragile:
<br />&#160;&#160;&#160;&#160;say &quot;You smash [the noun] to smithereens!&quot;;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15388_42" -->
<a id="c15388_42"></a><blockquote class="code"><p class="quoted">
A knick-knack is a kind of thing which is fragile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15389_42" -->
<a id="c15389_42"></a><blockquote class="code"><p class="quoted">
Every turn when a knick-knack is off-stage and Granny Blue can see the player:
<br />&#160;&#160;&#160;&#160;say &quot;'Ohh,' whimpers Granny to herself softly. 'How I will miss [the list of off-stage knick-knacks]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15390_42" -->
<a id="c15390_42"></a><blockquote class="code"><p class="quoted">
The Parlor is a room. Granny Blue is a woman in the Parlor. A china lamb, a porcelain milkmaid, a frolicking Dutch cow, and a crystal unicorn are knick-knacks in the Parlor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15391_42" -->
<a id="c15391_42"></a><blockquote class="code"><p class="quoted">
Test me with &quot;break lamb / break milkmaid / break cow / break unicorn&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "195: Paddington" "e228" -->
<a id="e228"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example228'); return false;"><b>195</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example228'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Paddington</span></b></a><br />A CUT [something] WITH [something] command which acts differently on different types of objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc185.html#e228"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example228" style="display: none;">
<p>Suppose we intend a game in which the player needs to cut things open on a regular basis. We'll want to check whether he has the proper tools handy, and deal graciously with commands such as CUT [something] when no tool is specified. So:</p>
<!-- START CODE "c15392_228" -->
<a id="c15392_228"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Paddington[=0x0022=][=0x000A=][=0x000A=]A blade is a kind of thing.[=0x000A=][=0x000A=]Understand [=0x0022=]cut [something] with [something][=0x0022=] as cutting it with.[=0x000A=][=0x000A=]Instead of cutting something:[=0x000A=][=0x0009=]if a blade (called the edge) is held by the player,[=0x000A=][=0x0009=][=0x0009=]try cutting the noun with the edge;[=0x000A=][=0x0009=]otherwise say [=0x0022=]Your fingernails are not sharp enough.[=0x0022=][=0x000A=][=0x000A=]Cutting it with is an action applying to two things.[=0x000A=][=0x000A=]Check cutting it with:[=0x000A=][=0x0009=]if the noun is a person, say [=0x0022=]That would hurt.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not a blade, say [=0x0022=][The second noun] has not got enough of a blade.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out cutting it with:[=0x000A=][=0x0009=]increment the count of rips of the noun.[=0x000A=][=0x000A=]Report cutting it with:[=0x000A=][=0x0009=]say [=0x0022=]You slash [the noun] with [the second noun].[=0x0022=][=0x000A=][=0x000A=][We[=0x0027=]ll need a way to account for all these cuts and rips.][=0x000A=][=0x000A=]Definition: a thing is ripped if the count of rips of it [=0x003E=] 0.  A thing has a number called the count of rips. After examining something ripped, say [=0x0022=]You see [the count of rips of the noun in words] rip[s] in [the noun][if something is in the noun], revealing [a list of things in the noun][end if].[=0x0022=][=0x000A=][=0x000A=][Moreover, because open containers normally list their contents when examined but we[=0x0027=]d prefer Paddington[=0x0027=]s to be mentioned in the ripping paragraph:][=0x000A=][=0x000A=]The examine containers rule does nothing when examining the teddy bear.[=0x000A=][=0x000A=][So far, so good. But suppose that we[=0x0027=]d like cutting also to make containers be permanently open and impossible to close again. We could write an [=0x0022=]instead[=0x0022=] rule, but that would mean that only our instead instructions would take effect, overriding the normal cutting it with rules entirely. Better would be to add a second carry out rule:][=0x000A=][=0x000A=]Carry out cutting a container with something:[=0x000A=][=0x0009=]now the noun is open;[=0x000A=][=0x0009=]now the noun is unopenable.[=0x000A=][=0x000A=][Now our rule will occur whenever a container is cut, but play will still go on to the reporting stage. And indeed we can add more of these, of varying degrees of specificity:][=0x000A=][=0x000A=]Carry out cutting something which is part of something with something:[=0x000A=][=0x0009=]move the noun to the player.[=0x000A=][=0x000A=]Carry out cutting the quilt with something:[=0x000A=][=0x0009=]now the description of the quilt is [=0x0022=]Horribly tattered.[=0x0022=][=0x000A=][=0x000A=][For that matter, we might want to add a report rule as well, to occur after the [=0x0022=]You slash...[=0x0022=] rule, so that every time the player cuts something open which has contents, the contents will be listed.][=0x000A=][=0x000A=]Report cutting it with:[=0x000A=][=0x0009=]if the noun is open and the noun contains something,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Visible within [is-are a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=][This time we do not add the condition to the rule (i.e., Report cutting an open noun...) If we did, this report rule would be more specific than the general report rule, and would occur first.][=0x000A=][=0x000A=]The Safehouse is a room.[=0x000A=][=0x000A=]The teddy bear is a closed thing in the Safehouse. The description is [=0x0022=]Fluffy[if the head is part of the bear], with an outsized head[otherwise], but headless[end if].[=0x0022=] The head is a closed part of the teddy bear. In the bear is a large wad of stuffing. In the head are a small wad of stuffing and a packet of smuggled diamonds.[=0x000A=][=0x000A=]The quilt is in the Safehouse. The description is [=0x0022=]An old but comforting quilt.[=0x0022=][=0x000A=][=0x000A=]The player carries a blade called a switchblade.[=0x000A=][=0x000A=][Here is a final nicety to get rid of the [=0x0022=]which is closed[=0x0022=] statement on our closed unopenable teddy bear, using an [=0x0022=]activity[=0x0022=] rule:][=0x000A=][=0x000A=]After printing the name of a closed unopenable container:[=0x000A=][=0x0009=]omit contents in listing.[=0x000A=][=0x000A=]Test me with [=0x0022=]cut quilt with bear / cut quilt with switchblade / examine quilt / cut bear with switchblade / again / examine bear / cut head with switchblade / get diamonds / mourn loss of innocence[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Paddington&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15393_228" -->
<a id="c15393_228"></a><blockquote class="code"><p class="quoted">
A blade is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15394_228" -->
<a id="c15394_228"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] with [something]&quot; as cutting it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15395_228" -->
<a id="c15395_228"></a><blockquote class="code"><p class="quoted">
Instead of cutting something:
<br />&#160;&#160;&#160;&#160;if a blade (called the edge) is held by the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try cutting the noun with the edge;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Your fingernails are not sharp enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15396_228" -->
<a id="c15396_228"></a><blockquote class="code"><p class="quoted">
Cutting it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15397_228" -->
<a id="c15397_228"></a><blockquote class="code"><p class="quoted">
Check cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is a person, say &quot;That would hurt.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a blade, say &quot;[The second noun] has not got enough of a blade.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15398_228" -->
<a id="c15398_228"></a><blockquote class="code"><p class="quoted">
Carry out cutting it with:
<br />&#160;&#160;&#160;&#160;increment the count of rips of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15399_228" -->
<a id="c15399_228"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;say &quot;You slash [the noun] with [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We'll need a way to account for all these cuts and rips.</p>
<!-- START CODE "c15400_228" -->
<a id="c15400_228"></a><blockquote class="code"><p class="quoted">
Definition: a thing is ripped if the count of rips of it &gt; 0.  A thing has a number called the count of rips. After examining something ripped, say &quot;You see [the count of rips of the noun in words] rip[s] in [the noun][if something is in the noun], revealing [a list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Moreover, because open containers normally list their contents when examined but we'd prefer Paddington's to be mentioned in the ripping paragraph:</p>
<!-- START CODE "c15401_228" -->
<a id="c15401_228"></a><blockquote class="code"><p class="quoted">
The examine containers rule does nothing when examining the teddy bear.
</p></blockquote>
<!-- END CODE -->
<p>So far, so good. But suppose that we'd like cutting also to make containers be permanently open and impossible to close again. We could write an &quot;instead&quot; rule, but that would mean that only our instead instructions would take effect, overriding the normal cutting it with rules entirely. Better would be to add a second carry out rule:</p>
<!-- START CODE "c15402_228" -->
<a id="c15402_228"></a><blockquote class="code"><p class="quoted">
Carry out cutting a container with something:
<br />&#160;&#160;&#160;&#160;now the noun is open;
<br />&#160;&#160;&#160;&#160;now the noun is unopenable.
</p></blockquote>
<!-- END CODE -->
<p>Now our rule will occur whenever a container is cut, but play will still go on to the reporting stage. And indeed we can add more of these, of varying degrees of specificity:</p>
<!-- START CODE "c15403_228" -->
<a id="c15403_228"></a><blockquote class="code"><p class="quoted">
Carry out cutting something which is part of something with something:
<br />&#160;&#160;&#160;&#160;move the noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15404_228" -->
<a id="c15404_228"></a><blockquote class="code"><p class="quoted">
Carry out cutting the quilt with something:
<br />&#160;&#160;&#160;&#160;now the description of the quilt is &quot;Horribly tattered.&quot;
</p></blockquote>
<!-- END CODE -->
<p>For that matter, we might want to add a report rule as well, to occur after the &quot;You slash...&quot; rule, so that every time the player cuts something open which has contents, the contents will be listed.</p>
<!-- START CODE "c15405_228" -->
<a id="c15405_228"></a><blockquote class="code"><p class="quoted">
Report cutting it with:
<br />&#160;&#160;&#160;&#160;if the noun is open and the noun contains something,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Visible within [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This time we do not add the condition to the rule (i.e., Report cutting an open noun...) If we did, this report rule would be more specific than the general report rule, and would occur first.</p>
<!-- START CODE "c15406_228" -->
<a id="c15406_228"></a><blockquote class="code"><p class="quoted">
The Safehouse is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15407_228" -->
<a id="c15407_228"></a><blockquote class="code"><p class="quoted">
The teddy bear is a closed thing in the Safehouse. The description is &quot;Fluffy[if the head is part of the bear], with an outsized head[otherwise], but headless[end if].&quot; The head is a closed part of the teddy bear. In the bear is a large wad of stuffing. In the head are a small wad of stuffing and a packet of smuggled diamonds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15408_228" -->
<a id="c15408_228"></a><blockquote class="code"><p class="quoted">
The quilt is in the Safehouse. The description is &quot;An old but comforting quilt.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15409_228" -->
<a id="c15409_228"></a><blockquote class="code"><p class="quoted">
The player carries a blade called a switchblade.
</p></blockquote>
<!-- END CODE -->
<p>Here is a final nicety to get rid of the &quot;which is closed&quot; statement on our closed unopenable teddy bear, using an &quot;activity&quot; rule:</p>
<!-- START CODE "c15410_228" -->
<a id="c15410_228"></a><blockquote class="code"><p class="quoted">
After printing the name of a closed unopenable container:
<br />&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15411_228" -->
<a id="c15411_228"></a><blockquote class="code"><p class="quoted">
Test me with &quot;cut quilt with bear / cut quilt with switchblade / examine quilt / cut bear with switchblade / again / examine bear / cut head with switchblade / get diamonds / mourn loss of innocence&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "315: Terracottissima" "e348" -->
<a id="e348"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example348'); return false;"><b>315</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example348'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Terracottissima</span></b></a><br />The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc279.html#e348"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example348" style="display: none;">
<p>This easiest way to do this uses the &quot;printing the name of&quot; activity, which will come up in the following chapter:</p>
<!-- START CODE "c15412_348" -->
<a id="c15412_348"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Terracottissima[=0x0022=][=0x000A=][=0x000A=]A flowerpot is a kind of thing. Understand [=0x0022=]pot[=0x0022=] as a flowerpot.[=0x000A=][=0x000A=]A flowerpot can be unbroken or broken. After dropping an unbroken flowerpot: say [=0x0022=]Crack![=0x0022=]; now the noun is broken. Understand the broken property as describing a flowerpot.[=0x000A=][=0x000A=]Before printing the name of a broken flowerpot, say [=0x0022=]broken [=0x0022=]. Before printing the name of an unbroken flowerpot: if a flowerpot is broken, say [=0x0022=]unbroken [=0x0022=].[=0x000A=][=0x000A=]Before printing the plural name of a broken flowerpot, say [=0x0022=]broken [=0x0022=]. Before printing the plural name of an unbroken flowerpot: if a flowerpot is broken, say [=0x0022=]unbroken [=0x0022=].[=0x000A=][=0x000A=]The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.[=0x000A=][=0x000A=]Test me with [=0x0022=]get three flowerpots / drop all / look[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Terracottissima&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15413_348" -->
<a id="c15413_348"></a><blockquote class="code"><p class="quoted">
A flowerpot is a kind of thing. Understand &quot;pot&quot; as a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15414_348" -->
<a id="c15414_348"></a><blockquote class="code"><p class="quoted">
A flowerpot can be unbroken or broken. After dropping an unbroken flowerpot: say &quot;Crack!&quot;; now the noun is broken. Understand the broken property as describing a flowerpot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15415_348" -->
<a id="c15415_348"></a><blockquote class="code"><p class="quoted">
Before printing the name of a broken flowerpot, say &quot;broken &quot;. Before printing the name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15416_348" -->
<a id="c15416_348"></a><blockquote class="code"><p class="quoted">
Before printing the plural name of a broken flowerpot, say &quot;broken &quot;. Before printing the plural name of an unbroken flowerpot: if a flowerpot is broken, say &quot;unbroken &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15417_348" -->
<a id="c15417_348"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15418_348" -->
<a id="c15418_348"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get three flowerpots / drop all / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "404: Kyoto" "e278" -->
<a id="e278"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example278'); return false;"><b>404</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example278'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Kyoto</span></b></a><br />Expanding the effects of the THROW something AT something command so that objects do make contact with one another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc337.html#e278"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example278" style="display: none;">
<p>Suppose we want to expand the function of the existing THROW SOMETHING AT command so that a thrown object actually does make contact most of the time. A glance at the Actions index tells us that the Throwing it at rulebook currently looks like this:</p>
<!-- START CODE "c15419_278" -->
<a id="c15419_278"></a><blockquote class="code"><p class="quoted">
Throwing something at something (past tense thrown it at)
<br />&#160;&#160;&#160;&#160;&quot;drop [something held] at/against/on/onto [something]&quot;
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">implicitly remove thrown clothing rule</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">futile to throw things at inanimate objects rule</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">check</p></td><td class="quotedtablecell"><p class="quoted">an actor throwing something at</p></td><td class="quotedtablecell"><p class="quoted">block throwing at rule</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Some of those still look useful. We want to leave the &quot;implicitly remove thrown clothing&quot; rule, for instance -- no fair having the player throw a hat that's on his head. On the other hand, the &quot;futile to throw things at inanimate objects rule&quot; is going to have to go, because that would prevent us from ever being able to complete the throwing command. So let's get rid of that:</p>
<!-- START CODE "c15420_278" -->
<a id="c15420_278"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Kyoto[=0x0022=][=0x000A=][=0x000A=]Part 1 - Throwing Rules[=0x000A=][=0x000A=]The futile to throw things at inanimate objects rule is not listed in the check throwing it at rules.[=0x000A=][=0x000A=][That [=0x0022=]block throwing at[=0x0022=] rule also looks sinister: any [=0x0022=]block...[=0x0022=] rule in the standard actions library is there to print a message telling the player he can[=0x0027=]t do what he[=0x0027=]s asked to do.][=0x000A=][=0x000A=][But it[=0x0027=]s not enough to ignore it, the way we did the [=0x0022=]futile[=0x0022=] rule. Since we are only expanding the command to affect inanimate objects, let[=0x0027=]s replace the [=0x0022=]block throwing at[=0x0022=] rule with a different one which will only prevent the player throwing things at people:][=0x000A=][=0x000A=]The block throwing at people rule is listed instead of the block throwing at rule in the check throwing it at rules.[=0x000A=][=0x000A=]This is the block throwing at people rule:[=0x000A=][=0x0009=]if the second noun is a person, say [=0x0022=]That might be construed as an attack.[=0x0022=] instead.[=0x000A=][=0x000A=][Now we[=0x0027=]ve changed the command so that some action can sometimes be carried out here -- but we don[=0x0027=]t have any rules for what happens. It[=0x0027=]s time to create some rules for our model world.][=0x000A=][=0x000A=]A thing can be hard or soft. A thing can be fragile or strong. Shape is a kind of value. The shapes are round, flat, and linear. A thing has shape.[=0x000A=][=0x000A=][If we[=0x0027=]re actually going to allow throwing, we might want to add a couple of extra checks to the rulebook to make sure that this happens when it ought:][=0x000A=][=0x000A=]Check throwing it at (this is the block juggling rule):[=0x000A=][=0x0009=]if the player is carrying the second noun, say [=0x0022=]It would be difficult to throw at something you are yourself holding.[=0x0022=] instead.[=0x000A=][=0x000A=]Check throwing it at (this is the avoid throwing things into themselves rule):[=0x000A=][=0x0009=]if the second noun is within the noun, say [=0x0022=]That would be a nice magic trick.[=0x0022=] instead.[=0x000A=][=0x000A=][And then the rules for the action itself:][=0x000A=][=0x000A=]Carry out throwing it at (this is the check aerodynamics rule):[=0x000A=][=0x0009=]if the noun is flat:[=0x000A=][=0x0009=][=0x0009=]move noun to location;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun], unwieldy, flutters to the ground.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=][That [=0x0022=]rule succeeds[=0x0022=] ends the action here, if the noun is flat. If not, Inform goes on to the next rule in the carry out throwing it at rulebook:][=0x000A=][=0x000A=]Carry out throwing it at (this is the contact rule):[=0x000A=][=0x0009=]say [=0x0022=][The noun] hits [the second noun].[paragraph break][=0x0022=];[=0x000A=][=0x0009=]if the second noun is fragile and the noun is hard:[=0x000A=][=0x0009=][=0x0009=]destroy the second noun.[=0x000A=][=0x000A=]Carry out throwing it at (this is the landing rule):[=0x000A=][=0x0009=]let destination be the location;[=0x000A=][=0x0009=]if the second noun is on a supporter (called endtable), let destination be the endtable;[=0x000A=][=0x0009=]if the second noun is a supporter, let destination be the second noun;[=0x000A=][=0x0009=]move the noun to the destination;[=0x000A=][=0x0009=]if the noun is fragile and the second noun is hard:[=0x000A=][=0x0009=][=0x0009=]destroy the noun;[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]say [=0x0022=][The noun] lands [if the destination is the location]nearby[otherwise]on [the destination][end if].[=0x0022=][=0x000A=][=0x000A=][These rules are assuming some backup information, so let[=0x0027=]s provide that as well:][=0x000A=][=0x000A=]Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.[=0x000A=][=0x000A=]To destroy (item - a thing):[=0x000A=][=0x0009=]let home be the holder of the item;[=0x000A=][=0x0009=]if the item is part of something (called the superstructure), let home be the holder of the superstructure;[=0x000A=][=0x0009=]if the item is visible:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The item] breaks[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if].[=0x0022=];[=0x000A=][=0x0009=]if something is relying on the item,[=0x000A=][=0x0009=][=0x0009=]now all the things which are relying on the item are in the home;[=0x000A=][=0x0009=]now the item is nowhere.[=0x000A=][=0x000A=][Now suppose we[=0x0027=]d like to add some further cases for what happens if the player breaks a fragile door this way:][=0x000A=][=0x000A=]To destroy (item - a door):[=0x000A=][=0x0009=]now the item is open;[=0x000A=][=0x0009=]now the item is unopenable;[=0x000A=][=0x0009=]say [=0x0022=][The item] smashes.[=0x0022=][=0x000A=][=0x000A=]Rule for printing the name of an unopenable open door while not throwing something at something:[=0x000A=][=0x0009=]say [=0x0022=]open doorway[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]door[=0x0022=] or [=0x0022=]doorway[=0x0022=] as a door.[=0x000A=][=0x000A=][This works, except that objects will continue to [=0x0022=]strike[=0x0022=] open, unopenable doors, with the result that the player can smash the same door over and over. What we need is another rule, after the aerodynamics rule and before the contact rule, that tells Inform how to handle throwing things at open doors.][=0x000A=][=0x000A=]This is the flying through doorways rule:[=0x000A=][=0x0009=]if the second noun is an open door:[=0x000A=][=0x0009=][=0x0009=]let the distant room be the other side of the second noun;[=0x000A=][=0x0009=][=0x0009=]move the noun to the distant room;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] flies out of sight into [the distant room].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=][If the original rulebook is one we wrote ourselves, we could just add that rule in the proper spot in order. If we got it from an extension, though, we might need to put it in the right place explicitly:][=0x000A=][=0x000A=]The flying through doorways rule is listed before the contact rule in the carry out throwing it at rules.[=0x000A=][=0x000A=][The magic of rulebooks is that they allow authors to amend each other[=0x0027=]s work (or the Standard Rules) with a fair amount of freedom. A well-written extension will give individual names to its rules, to allow subsequent authors to modify the function of the extension without too much trouble.][=0x000A=][=0x000A=][Now for an actual scenario with which to test this:][=0x000A=][=0x000A=] Part 2 - The Study[=0x000A=][=0x000A=]The sliding paper screen is a door. It is north of the Moss Garden and south of the Study. The paper screen is fragile.[=0x000A=][=0x000A=]The player carries a netsuke and a shamisen. The description of the netsuke is [=0x0022=]A weight for the cord on which you wear your purse or your medicine box. This particular one has the shape of a bullfrog, carved from green stone.[=0x0022=] The netsuke is round, hard, and strong. Understand [=0x0022=]green[=0x0022=] or [=0x0022=]stone[=0x0022=] or [=0x0022=]bullfrog[=0x0022=] as the netsuke.[=0x000A=][=0x000A=]The description of the shamisen is [=0x0022=]An instrument you have only begun to learn to play.[=0x0022=] The shamisen is linear, soft, and fragile. A neck is part of the shamisen. The neck is linear, strong, and hard. A body is part of the shamisen. The body is round, fragile, and soft. A string is part of the shamisen. The string is linear, soft, and strong. The printed name of the body is [=0x0022=][if the body is not part of the shamisen]shamisen [end if]body[=0x0022=]. The printed name of the neck is [=0x0022=][if the neck is not part of the shamisen]shamisen [end if]neck[=0x0022=]. Understand [=0x0022=]shamisen[=0x0022=] as the body when the body is not part of the shamisen. Understand [=0x0022=]shamisen[=0x0022=] as the neck when the neck is not part of the shamisen.[=0x000A=][=0x000A=]The description of the Study is [=0x0022=]A restful three-tatami room.[=0x0022=] The Study contains a calligraphy box and a hanging scroll. The initial appearance of the hanging scroll is [=0x0022=]A handsome scroll depicts two women in kimonos crossing a bridge; Mount Fuji is in the background.[=0x0022=] The calligraphy box contains a brush. The box is openable and closed. The brush is hard, linear, and strong. The calligraphy box is round, soft, and strong. The hanging scroll is flat, soft, and strong.[=0x000A=][=0x000A=]The description of the Moss Garden is [=0x0022=]Earlier today, you arranged three leaves on the moss in imitation of autumn. They must not be disturbed.[=0x0022=] The leaves are scenery in the Moss Garden. Instead of throwing something at the leaves: say [=0x0022=]You spent too long over their placement.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]test one / test two[=0x0022=].[=0x000A=][=0x000A=]Test one with [=0x0022=]open screen / throw netsuke at screen / n / get netsuke / close screen / get scroll / throw scroll at screen / throw netsuke at scroll / get netsuke / throw netsuke at shamisen / drop netsuke[=0x0022=].[=0x000A=][=0x000A=]Test two with [=0x0022=]throw shamisen at netsuke / get all / throw netsuke at screen / get netsuke / throw netsuke at door / s / get netsuke[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Kyoto&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15421_278" -->
<a id="c15421_278"></a><blockquote class="code"><p class="quoted">
Part 1 - Throwing Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15422_278" -->
<a id="c15422_278"></a><blockquote class="code"><p class="quoted">
The futile to throw things at inanimate objects rule is not listed in the check throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<p>That &quot;block throwing at&quot; rule also looks sinister: any &quot;block...&quot; rule in the standard actions library is there to print a message telling the player he can't do what he's asked to do.</p>
<p>But it's not enough to ignore it, the way we did the &quot;futile&quot; rule. Since we are only expanding the command to affect inanimate objects, let's replace the &quot;block throwing at&quot; rule with a different one which will only prevent the player throwing things at people:</p>
<!-- START CODE "c15423_278" -->
<a id="c15423_278"></a><blockquote class="code"><p class="quoted">
The block throwing at people rule is listed instead of the block throwing at rule in the check throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15424_278" -->
<a id="c15424_278"></a><blockquote class="code"><p class="quoted">
This is the block throwing at people rule:
<br />&#160;&#160;&#160;&#160;if the second noun is a person, say &quot;That might be construed as an attack.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Now we've changed the command so that some action can sometimes be carried out here -- but we don't have any rules for what happens. It's time to create some rules for our model world.</p>
<!-- START CODE "c15425_278" -->
<a id="c15425_278"></a><blockquote class="code"><p class="quoted">
A thing can be hard or soft. A thing can be fragile or strong. Shape is a kind of value. The shapes are round, flat, and linear. A thing has shape.
</p></blockquote>
<!-- END CODE -->
<p>If we're actually going to allow throwing, we might want to add a couple of extra checks to the rulebook to make sure that this happens when it ought:</p>
<!-- START CODE "c15426_278" -->
<a id="c15426_278"></a><blockquote class="code"><p class="quoted">
Check throwing it at (this is the block juggling rule):
<br />&#160;&#160;&#160;&#160;if the player is carrying the second noun, say &quot;It would be difficult to throw at something you are yourself holding.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15427_278" -->
<a id="c15427_278"></a><blockquote class="code"><p class="quoted">
Check throwing it at (this is the avoid throwing things into themselves rule):
<br />&#160;&#160;&#160;&#160;if the second noun is within the noun, say &quot;That would be a nice magic trick.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>And then the rules for the action itself:</p>
<!-- START CODE "c15428_278" -->
<a id="c15428_278"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the check aerodynamics rule):
<br />&#160;&#160;&#160;&#160;if the noun is flat:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move noun to location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun], unwieldy, flutters to the ground.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>That &quot;rule succeeds&quot; ends the action here, if the noun is flat. If not, Inform goes on to the next rule in the carry out throwing it at rulebook:</p>
<!-- START CODE "c15429_278" -->
<a id="c15429_278"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the contact rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] hits [the second noun].[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;if the second noun is fragile and the noun is hard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;destroy the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15430_278" -->
<a id="c15430_278"></a><blockquote class="code"><p class="quoted">
Carry out throwing it at (this is the landing rule):
<br />&#160;&#160;&#160;&#160;let destination be the location;
<br />&#160;&#160;&#160;&#160;if the second noun is on a supporter (called endtable), let destination be the endtable;
<br />&#160;&#160;&#160;&#160;if the second noun is a supporter, let destination be the second noun;
<br />&#160;&#160;&#160;&#160;move the noun to the destination;
<br />&#160;&#160;&#160;&#160;if the noun is fragile and the second noun is hard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;destroy the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] lands [if the destination is the location]nearby[otherwise]on [the destination][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>These rules are assuming some backup information, so let's provide that as well:</p>
<!-- START CODE "c15431_278" -->
<a id="c15431_278"></a><blockquote class="code"><p class="quoted">
Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15432_278" -->
<a id="c15432_278"></a><blockquote class="code"><p class="quoted">
To destroy (item - a thing):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the item is part of something (called the superstructure), let home be the holder of the superstructure;
<br />&#160;&#160;&#160;&#160;if the item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] breaks[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if].&quot;;
<br />&#160;&#160;&#160;&#160;if something is relying on the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the things which are relying on the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>Now suppose we'd like to add some further cases for what happens if the player breaks a fragile door this way:</p>
<!-- START CODE "c15433_278" -->
<a id="c15433_278"></a><blockquote class="code"><p class="quoted">
To destroy (item - a door):
<br />&#160;&#160;&#160;&#160;now the item is open;
<br />&#160;&#160;&#160;&#160;now the item is unopenable;
<br />&#160;&#160;&#160;&#160;say &quot;[The item] smashes.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15434_278" -->
<a id="c15434_278"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unopenable open door while not throwing something at something:
<br />&#160;&#160;&#160;&#160;say &quot;open doorway&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15435_278" -->
<a id="c15435_278"></a><blockquote class="code"><p class="quoted">
Understand &quot;door&quot; or &quot;doorway&quot; as a door.
</p></blockquote>
<!-- END CODE -->
<p>This works, except that objects will continue to &quot;strike&quot; open, unopenable doors, with the result that the player can smash the same door over and over. What we need is another rule, after the aerodynamics rule and before the contact rule, that tells Inform how to handle throwing things at open doors.</p>
<!-- START CODE "c15436_278" -->
<a id="c15436_278"></a><blockquote class="code"><p class="quoted">
This is the flying through doorways rule:
<br />&#160;&#160;&#160;&#160;if the second noun is an open door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the distant room be the other side of the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the distant room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] flies out of sight into [the distant room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>If the original rulebook is one we wrote ourselves, we could just add that rule in the proper spot in order. If we got it from an extension, though, we might need to put it in the right place explicitly:</p>
<!-- START CODE "c15437_278" -->
<a id="c15437_278"></a><blockquote class="code"><p class="quoted">
The flying through doorways rule is listed before the contact rule in the carry out throwing it at rules.
</p></blockquote>
<!-- END CODE -->
<p>The magic of rulebooks is that they allow authors to amend each other's work (or the Standard Rules) with a fair amount of freedom. A well-written extension will give individual names to its rules, to allow subsequent authors to modify the function of the extension without too much trouble.</p>
<p>Now for an actual scenario with which to test this:</p>
<!-- START CODE "c15438_278" -->
<a id="c15438_278"></a><blockquote class="code"><p class="quoted">
 Part 2 - The Study
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15439_278" -->
<a id="c15439_278"></a><blockquote class="code"><p class="quoted">
The sliding paper screen is a door. It is north of the Moss Garden and south of the Study. The paper screen is fragile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15440_278" -->
<a id="c15440_278"></a><blockquote class="code"><p class="quoted">
The player carries a netsuke and a shamisen. The description of the netsuke is &quot;A weight for the cord on which you wear your purse or your medicine box. This particular one has the shape of a bullfrog, carved from green stone.&quot; The netsuke is round, hard, and strong. Understand &quot;green&quot; or &quot;stone&quot; or &quot;bullfrog&quot; as the netsuke.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15441_278" -->
<a id="c15441_278"></a><blockquote class="code"><p class="quoted">
The description of the shamisen is &quot;An instrument you have only begun to learn to play.&quot; The shamisen is linear, soft, and fragile. A neck is part of the shamisen. The neck is linear, strong, and hard. A body is part of the shamisen. The body is round, fragile, and soft. A string is part of the shamisen. The string is linear, soft, and strong. The printed name of the body is &quot;[if the body is not part of the shamisen]shamisen [end if]body&quot;. The printed name of the neck is &quot;[if the neck is not part of the shamisen]shamisen [end if]neck&quot;. Understand &quot;shamisen&quot; as the body when the body is not part of the shamisen. Understand &quot;shamisen&quot; as the neck when the neck is not part of the shamisen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15442_278" -->
<a id="c15442_278"></a><blockquote class="code"><p class="quoted">
The description of the Study is &quot;A restful three-tatami room.&quot; The Study contains a calligraphy box and a hanging scroll. The initial appearance of the hanging scroll is &quot;A handsome scroll depicts two women in kimonos crossing a bridge; Mount Fuji is in the background.&quot; The calligraphy box contains a brush. The box is openable and closed. The brush is hard, linear, and strong. The calligraphy box is round, soft, and strong. The hanging scroll is flat, soft, and strong.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15443_278" -->
<a id="c15443_278"></a><blockquote class="code"><p class="quoted">
The description of the Moss Garden is &quot;Earlier today, you arranged three leaves on the moss in imitation of autumn. They must not be disturbed.&quot; The leaves are scenery in the Moss Garden. Instead of throwing something at the leaves: say &quot;You spent too long over their placement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15444_278" -->
<a id="c15444_278"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15445_278" -->
<a id="c15445_278"></a><blockquote class="code"><p class="quoted">
Test one with &quot;open screen / throw netsuke at screen / n / get netsuke / close screen / get scroll / throw scroll at screen / throw netsuke at scroll / get netsuke / throw netsuke at shamisen / drop netsuke&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15446_278" -->
<a id="c15446_278"></a><blockquote class="code"><p class="quoted">
Test two with &quot;throw shamisen at netsuke / get all / throw netsuke at screen / get netsuke / throw netsuke at door / s / get netsuke&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc82.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc84.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
