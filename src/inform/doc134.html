<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>8.19. Random choices of things</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Random choices of things" -->
<!-- SEARCH SECTION "8.19" -->
<!-- SEARCH SORT "000-008-019-000" -->
<!-- START IGNORE 133 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc133.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 8: Change</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc135.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง8.19. Random choices of things</p>
<p>Writing &quot;a random number&quot; is not allowed, because the possible range is too large, but that was the only reason why not.</p>
<!-- START PHRASE "defn89" -->
<div class="definition"><a id="defn89"></a><p class="defnprototype"><b>a</b>/--<b> random </b>(description of values)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_randomdesc -->

<p>This phrase makes a uniformly random choice from values satisfying the description given. Example:</p>
<!-- START CODE "c2035" -->
<a id="c2035"></a><blockquote class="code"><p class="quoted">
a random visited room
<br />a random scene
</p></blockquote>
<!-- END CODE -->
<p>A problem message is issued if the range is too large (for instance, &quot;a random text&quot;). Unexpected results may follow if no value fits the description, unless we are describing objects, in which case the result is the special value &quot;nothing&quot;.</p>

<!-- end definition -->
</div>

<p>For instance:</p>
<!-- START CODE "c2036" -->
<a id="c2036"></a><blockquote class="code"><p class="quoted">
say &quot;You can see [number of adjacent rooms] way[s] from here; how about [random adjacent room]?&quot;
</p></blockquote>
<!-- END CODE -->
<p>But it's important to worry about the possibility that nothing qualifies - here, that no adjacent rooms exist. The above would then say:</p>
<!-- START CODE "c2037" -->
<a id="c2037"></a><blockquote class="code"><p class="quoted">
You can see 0 ways from here; how about nothing?
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "133: Candy" "e77" -->
<a id="e77"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example77'); return false;"><b>133</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example77'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Candy</span></b></a><br />One of several identical candies chosen at the start of play to be poisonous.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc68.html#e77"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example77" style="display: none;">
<p>Suppose we want to give the player a bag of candies, of which a random one is poisonous. We can pick which one should be poisoned at the start of play, like this:</p>
<!-- START CODE "c2038_77" -->
<a id="c2038_77"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Candy[=0x0022=][=0x000A=][=0x000A=]The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.[=0x000A=][=0x000A=]Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.[=0x000A=][=0x000A=]The Porch is a room. The player carries the Halloween bag.[=0x000A=][=0x000A=]After eating a poisonous piece of candy:[=0x000A=][=0x0009=]say [=0x0022=]Oh, that didn[=0x0027=]t taste right at all. Oh well![=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now a random piece of candy is poisonous.[=0x000A=][=0x000A=]Test me with [=0x0022=]eat candy / g / g / g[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Candy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2039_77" -->
<a id="c2039_77"></a><blockquote class="code"><p class="quoted">
The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2040_77" -->
<a id="c2040_77"></a><blockquote class="code"><p class="quoted">
Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2041_77" -->
<a id="c2041_77"></a><blockquote class="code"><p class="quoted">
The Porch is a room. The player carries the Halloween bag.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2042_77" -->
<a id="c2042_77"></a><blockquote class="code"><p class="quoted">
After eating a poisonous piece of candy:
<br />&#160;&#160;&#160;&#160;say &quot;Oh, that didn't taste right at all. Oh well!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2043_77" -->
<a id="c2043_77"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now a random piece of candy is poisonous.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2044_77" -->
<a id="c2044_77"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat candy / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "134: Zork II" "e295" -->
<a id="e295"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example295'); return false;"><b>134</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example295'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zork II</span></b></a><br />A "Carousel Room", as in Zork II, where moving in any direction from the room leads (at random) to one of the eight rooms nearby.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc9.html#e295"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example295" style="display: none;">
<p>All we need to do is select the player's destination for him at random:</p>
<!-- START CODE "c2045_295" -->
<a id="c2045_295"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zork II[=0x0022=][=0x000A=][=0x000A=]The Carousel Room is a room.[=0x000A=][=0x000A=]Instead of going from the Carousel Room:[=0x000A=][=0x0009=]move the player to a random adjacent room.[=0x000A=][=0x000A=][To avoid infringing the original game too much, let[=0x0027=]s try a somewhat different setting:][=0x000A=][=0x000A=]The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women[=0x0027=]s Toilet is southwest of the Carousel Room. The Men[=0x0027=]s Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.[=0x000A=][=0x000A=]Test me with [=0x0022=]s[=0x0022=].[=0x000A=][=0x000A=][And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.][=0x000A=][=0x000A=]When play begins, seed the random-number generator with 1234.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2046_295" -->
<a id="c2046_295"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2047_295" -->
<a id="c2047_295"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<p>To avoid infringing the original game too much, let's try a somewhat different setting:</p>
<!-- START CODE "c2048_295" -->
<a id="c2048_295"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2049_295" -->
<a id="c2049_295"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.</p>
<!-- START CODE "c2050_295" -->
<a id="c2050_295"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
<p>Or if we want to add the refinement that the Carousel Room can be switched off:</p>
<!-- START CODE "c2051_295" -->
<a id="c2051_295"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zork II[=0x0022=][=0x000A=][=0x000A=]The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.[=0x000A=][=0x000A=][And then][=0x000A=][=0x000A=]Instead of going from the Carousel Room when the spinning machine is switched on:[=0x000A=][=0x0009=]move the player to a random adjacent room.[=0x000A=][=0x000A=]The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women[=0x0027=]s Toilet is southwest of the Carousel Room. The Men[=0x0027=]s Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.[=0x000A=][=0x000A=]Test me with [=0x0022=]turn off machine / s / n / turn on machine / s[=0x0022=].[=0x000A=][=0x000A=]When play begins, seed the random-number generator with 1234.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zork II&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2052_295" -->
<a id="c2052_295"></a><blockquote class="code"><p class="quoted">
The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<p>And then</p>
<!-- START CODE "c2053_295" -->
<a id="c2053_295"></a><blockquote class="code"><p class="quoted">
Instead of going from the Carousel Room when the spinning machine is switched on:
<br />&#160;&#160;&#160;&#160;move the player to a random adjacent room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2054_295" -->
<a id="c2054_295"></a><blockquote class="code"><p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2055_295" -->
<a id="c2055_295"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn off machine / s / n / turn on machine / s&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2056_295" -->
<a id="c2056_295"></a><blockquote class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc133.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc135.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
