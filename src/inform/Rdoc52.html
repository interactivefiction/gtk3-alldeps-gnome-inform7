<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>7.6. Getting Started with Conversation</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Getting Started with Conversation" -->
<!-- SEARCH SECTION "7.6" -->
<!-- SEARCH SORT "001-007-006-000" -->
<!-- START IGNORE 51 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc51.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 7: Other Characters</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc53.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง7.6. Getting Started with Conversation</p>
<p>Traditionally, conversation is one of the most difficult things to program in interactive fiction, because of the number of factors affecting the outcome of everything the player does. While it's acceptable for &gt;EXAMINE POT to produce the same response every time the player types it, it's a bit less acceptable for ASK JOE ABOUT HIS ADULTERY to make Joe react the same way every time.</p>
<p>Conversation implementations often need to keep track of a lot of information: what else is going on in the model world, what the character knows, what plot phase we've reached, what mood the character is in, what else we've recently been talking about, whether we've said the same thing before (and how many times); and so on. Later in this chapter we will look at ways to model character knowledge and mood.</p>
<p>Then, too, we have the problem of how the player communicates his conversational intentions to the story. Technology has not yet advanced to the point where a player can simply type in remarks in full natural English and have the character detect the significance, emotional tone, and subtext, if any: so we can't have RACHEL, THIS DESSERT TASTES LIKE FEET or WILL, LOOK! OUR SINISTER METAL FOES ARE APPROACHING! or BOSS, I WOULD BE DELIGHTED TO FILE ANOTHER TPB REPORT.</p>
<p>The challenge is to create an interface that is both easy for the player to use and expressive enough to be interesting. We will look at some of the common solutions in &quot;Saying Complicated Things&quot;.</p>
<p>The examples in the following sections point out ways to approach common conversation problems. None of them will offer an adequate system if we want to write a very conversationally rich story, however. This is partly because a thorough conversation system requires quite a lot of code in its own right. It's also partly because there is no one right solution to the problem of conversation design. Different games will have quite different requirements. When making decisions about a new story we have planned, it may be useful to glance through the conversation extensions available for Inform: there are quite a few, offering a range of different interfaces. Even if none is exactly suited for our needs, they may suggest ways to solve particular implementation challenges.</p>
<p>At the other end of the scale, though, there are times when Inform's default implementation is too complicated for what we want to do: so we will start with ways to simplify conversation, before moving to all the exotic complexities.</p>
<p>Before we get into these details, though, we have a couple of examples that are literally about getting started with a conversation: <span class="boldface">Mimicry</span> introduces the feature that we must greet other characters before beginning to speak to them; <span class="boldface">The Gorge at George</span> corrects the player's attempts to use a TALK TO command where a different mode of interaction is appropriate instead.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "330: The Gorge at George" "e299" -->
<a id="e299"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example299'); return false;"><b>330</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example299'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Gorge at George</span></b></a><br />If the player tries to TALK TO a character, suggest alternative modes of conversation.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc285.html#e299"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example299" style="display: none;">
<!-- START CODE "c12611_299" -->
<a id="c12611_299"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Gorge at George[=0x0022=][=0x000A=][=0x000A=]The Dusty Lot is a room. [=0x0022=]A few miles up the road from the concert venue, but at least it[=0x0027=]s cheap to park here.[=0x0022=][=0x000A=][=0x000A=]The motorcyclist is a man in the Dusty Lot. [=0x0022=]A man clad in [a list of things worn by the motorcyclist] leans against his Harley and watches you without saying anything.[=0x0022=] The Harley is scenery in the Lot. The motorcyclist wears a black leather jacket and shades. Understand [=0x0022=]man[=0x0022=] or [=0x0022=]guy[=0x0022=] as the motorcyclist.[=0x000A=][=0x000A=]Understand [=0x0022=]talk to [someone][=0x0022=] as a mistake ([=0x0022=]To start a conversation, try to ASK [the noun] ABOUT something or TELL [the noun] ABOUT something.[=0x0022=]).[=0x000A=][=0x000A=]Instead of asking the motorcyclist about something:[=0x000A=][=0x0009=]say [=0x0022=]He smirks cryptically.[=0x0022=][=0x000A=][=0x000A=]Instead of telling the motorcyclist about something:[=0x000A=][=0x0009=]say [=0x0022=]This does not seem to interest him much.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]talk to motorcyclist / ask motorcyclist about himself / tell motorcyclist about me[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Gorge at George&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12612_299" -->
<a id="c12612_299"></a><blockquote class="code"><p class="quoted">
The Dusty Lot is a room. &quot;A few miles up the road from the concert venue, but at least it's cheap to park here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12613_299" -->
<a id="c12613_299"></a><blockquote class="code"><p class="quoted">
The motorcyclist is a man in the Dusty Lot. &quot;A man clad in [a list of things worn by the motorcyclist] leans against his Harley and watches you without saying anything.&quot; The Harley is scenery in the Lot. The motorcyclist wears a black leather jacket and shades. Understand &quot;man&quot; or &quot;guy&quot; as the motorcyclist.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12614_299" -->
<a id="c12614_299"></a><blockquote class="code"><p class="quoted">
Understand &quot;talk to [someone]&quot; as a mistake (&quot;To start a conversation, try to ASK [the noun] ABOUT something or TELL [the noun] ABOUT something.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12615_299" -->
<a id="c12615_299"></a><blockquote class="code"><p class="quoted">
Instead of asking the motorcyclist about something:
<br />&#160;&#160;&#160;&#160;say &quot;He smirks cryptically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12616_299" -->
<a id="c12616_299"></a><blockquote class="code"><p class="quoted">
Instead of telling the motorcyclist about something:
<br />&#160;&#160;&#160;&#160;say &quot;This does not seem to interest him much.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12617_299" -->
<a id="c12617_299"></a><blockquote class="code"><p class="quoted">
Test me with &quot;talk to motorcyclist / ask motorcyclist about himself / tell motorcyclist about me&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "110: Mimicry" "e18" -->
<a id="e18"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example18'); return false;"><b>110</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example18'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Mimicry</span></b></a><br />People who must be greeted before conversation can begin.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc112.html#e18"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example18" style="display: none;">
<p>Suppose we want to add a sense of some conversational flow, so that the player is forced to acknowledge the presence of people before beginning detailed conversations with them. We collect all speech actions into a single category:</p>
<!-- START CODE "c12618_18" -->
<a id="c12618_18"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Mimicry[=0x0022=][=0x000A=][=0x000A=]Asking someone about something is speech. Telling someone about something is speech. Answering someone that something is speech. Asking someone for something is speech.[=0x000A=][=0x000A=][And then write a general rule.][=0x000A=][=0x000A=]Before speech in the presence of an ungreeted person: try waving hands.[=0x000A=][=0x000A=][One complication is that [=0x0022=]asking someone to try doing something[=0x0022=], which describes commands such as FRED, GO SOUTH, cannot be made into a kind of action. This requires its own rule:][=0x000A=][=0x000A=]Before asking someone to try doing something in the presence of an ungreeted person: try waving hands.[=0x000A=][=0x000A=][Now we define what greetings are going to look like:][=0x000A=][=0x000A=]Check waving hands:[=0x000A=][=0x0009=]unless the player can see someone who is not the player, say [=0x0022=]You are alone.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out waving hands:[=0x000A=][=0x0009=]say [=0x0022=]You nod hello to [the list of ungreeted people who can be seen by the player].[=0x0022=];[=0x000A=][=0x0009=]now every ungreeted person who can be seen by the player is greeted.[=0x000A=][=0x000A=]The report waving hands rule is not listed in the report waving hands rulebook.[=0x000A=][=0x000A=][Because of the way we[=0x0027=]ve defined the command, this will now also work if the player waves.][=0x000A=][=0x000A=]A person can be greeted or ungreeted. A person is usually ungreeted. The player is greeted.[=0x000A=][=0x000A=][And now the scenario:][=0x000A=][=0x000A=]The International Convention of Mimes is a room. Lester, Harold, Geoff, Kwame, and Peter are men in the Convention. Elouise is a woman in the Convention. The Invisible Box is an enterable container in the Convention. [=0x0022=]You can detect, from the way people keep leaning on it, an invisible box in the middle of the room.[=0x0022=][=0x000A=][=0x000A=]Lester carries a bowler hat.[=0x000A=][=0x000A=]Instead of speech in the presence of someone:[=0x000A=][=0x0009=]describe poor reception.[=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]At 9:01 AM:[=0x000A=][=0x0009=]move Phineas to the location; say [=0x0022=]A mime called Phineas appears from the non-existent bathroom.[=0x0022=][=0x000A=][=0x000A=]Phineas is a man.[=0x000A=][=0x000A=]A persuasion rule:[=0x000A=][=0x0009=]describe poor reception;[=0x000A=][=0x0009=]persuasion fails.[=0x000A=][=0x000A=]To describe poor reception:[=0x000A=][=0x0009=]if the player is in the Invisible box,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Everyone convulses with silent laughter as you try to shout from within the invisible box.[=0x0022=];[=0x000A=][=0x0009=]otherwise[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You attempt to convey your meaning with gesture and interpretive dance, but [the list of visible other people] scorn[if the number of visible other people is 1]s[end if] your performance, refusing to respond.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]ask lester about work / lester, east / ask lester for bowler / lester, nice not talking to you / get in box / ask lester for hat / phineas, east[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Mimicry&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12619_18" -->
<a id="c12619_18"></a><blockquote class="code"><p class="quoted">
Asking someone about something is speech. Telling someone about something is speech. Answering someone that something is speech. Asking someone for something is speech.
</p></blockquote>
<!-- END CODE -->
<p>And then write a general rule.</p>
<!-- START CODE "c12620_18" -->
<a id="c12620_18"></a><blockquote class="code"><p class="quoted">
Before speech in the presence of an ungreeted person: try waving hands.
</p></blockquote>
<!-- END CODE -->
<p>One complication is that &quot;asking someone to try doing something&quot;, which describes commands such as FRED, GO SOUTH, cannot be made into a kind of action. This requires its own rule:</p>
<!-- START CODE "c12621_18" -->
<a id="c12621_18"></a><blockquote class="code"><p class="quoted">
Before asking someone to try doing something in the presence of an ungreeted person: try waving hands.
</p></blockquote>
<!-- END CODE -->
<p>Now we define what greetings are going to look like:</p>
<!-- START CODE "c12622_18" -->
<a id="c12622_18"></a><blockquote class="code"><p class="quoted">
Check waving hands:
<br />&#160;&#160;&#160;&#160;unless the player can see someone who is not the player, say &quot;You are alone.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12623_18" -->
<a id="c12623_18"></a><blockquote class="code"><p class="quoted">
Carry out waving hands:
<br />&#160;&#160;&#160;&#160;say &quot;You nod hello to [the list of ungreeted people who can be seen by the player].&quot;;
<br />&#160;&#160;&#160;&#160;now every ungreeted person who can be seen by the player is greeted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12624_18" -->
<a id="c12624_18"></a><blockquote class="code"><p class="quoted">
The report waving hands rule is not listed in the report waving hands rulebook.
</p></blockquote>
<!-- END CODE -->
<p>Because of the way we've defined the command, this will now also work if the player waves.</p>
<!-- START CODE "c12625_18" -->
<a id="c12625_18"></a><blockquote class="code"><p class="quoted">
A person can be greeted or ungreeted. A person is usually ungreeted. The player is greeted.
</p></blockquote>
<!-- END CODE -->
<p>And now the scenario:</p>
<!-- START CODE "c12626_18" -->
<a id="c12626_18"></a><blockquote class="code"><p class="quoted">
The International Convention of Mimes is a room. Lester, Harold, Geoff, Kwame, and Peter are men in the Convention. Elouise is a woman in the Convention. The Invisible Box is an enterable container in the Convention. &quot;You can detect, from the way people keep leaning on it, an invisible box in the middle of the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12627_18" -->
<a id="c12627_18"></a><blockquote class="code"><p class="quoted">
Lester carries a bowler hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12628_18" -->
<a id="c12628_18"></a><blockquote class="code"><p class="quoted">
Instead of speech in the presence of someone:
<br />&#160;&#160;&#160;&#160;describe poor reception.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12629_18" -->
<a id="c12629_18"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12630_18" -->
<a id="c12630_18"></a><blockquote class="code"><p class="quoted">
At 9:01 AM:
<br />&#160;&#160;&#160;&#160;move Phineas to the location; say &quot;A mime called Phineas appears from the non-existent bathroom.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12631_18" -->
<a id="c12631_18"></a><blockquote class="code"><p class="quoted">
Phineas is a man.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12632_18" -->
<a id="c12632_18"></a><blockquote class="code"><p class="quoted">
A persuasion rule:
<br />&#160;&#160;&#160;&#160;describe poor reception;
<br />&#160;&#160;&#160;&#160;persuasion fails.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12633_18" -->
<a id="c12633_18"></a><blockquote class="code"><p class="quoted">
To describe poor reception:
<br />&#160;&#160;&#160;&#160;if the player is in the Invisible box,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Everyone convulses with silent laughter as you try to shout from within the invisible box.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You attempt to convey your meaning with gesture and interpretive dance, but [the list of visible other people] scorn[if the number of visible other people is 1]s[end if] your performance, refusing to respond.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12634_18" -->
<a id="c12634_18"></a><blockquote class="code"><p class="quoted">
Test me with &quot;ask lester about work / lester, east / ask lester for bowler / lester, nice not talking to you / get in box / ask lester for hat / phineas, east&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc51.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc53.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
