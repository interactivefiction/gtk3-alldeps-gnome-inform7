<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.4. When play ends</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "When play ends" -->
<!-- SEARCH SECTION "9.4" -->
<!-- SEARCH SORT "000-009-004-000" -->
<!-- START IGNORE 137 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc137.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Time</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc139.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง9.4. When play ends</p>
<p>Short of something like a power cut, the story can only end when one of the two participants chooses to end it: either the player, by deciding that enough is enough, or us.</p>
<p>In story-telling, there are many kinds of ending: happy, sad, decisive, bittersweet, surprise. Inform doesn't try to interfere in that kind of artistic choice, but it does need to know one thing about the ending: is it final, or not? Many authors like to make additional menu items available if the player has completed the story right through, but not if she has reached an early or wrong ending. (See the activity &quot;amusing a victorious player&quot;, for example.)</p>
<!-- START PHRASE "defn90" -->
<div class="definition"><a id="defn90"></a><p class="defnprototype"><b>end the story</b></p>
<!-- END PHRASE -->
<!-- definition of ph_end -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message &quot;The End.&quot; The end is not considered final.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn91" -->
<div class="definition"><a id="defn91"></a><p class="defnprototype"><b>end the story finally</b></p>
<!-- END PHRASE -->
<!-- definition of ph_endfinally -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message &quot;The End.&quot; The end is considered final, and any hidden menu options will be revealed.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn92" -->
<div class="definition"><a id="defn92"></a><p class="defnprototype"><b>end the story saying </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_endsaying -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message given in the text. The end is not considered final. Example:</p>
<!-- START CODE "c2088" -->
<a id="c2088"></a><blockquote class="code"><p class="quoted">
end the story saying &quot;You have been stymied&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn93" -->
<div class="definition"><a id="defn93"></a><p class="defnprototype"><b>end the story finally saying </b>(text)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_endfinallysaying -->

<p>This phrase ends the story at the next opportunity (typically as soon as the current rule ends), with the closing message given in the text. The end is considered final, and any hidden menu options will be revealed. Example:</p>
<!-- START CODE "c2089" -->
<a id="c2089"></a><blockquote class="code"><p class="quoted">
end the story finally saying &quot;You have defeated Sauron&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The closing message is traditionally set out in asterisks:</p>
<!-- START CODE "c2090" -->
<a id="c2090"></a><blockquote class="code"><p class="quoted">
*** The End ***
</p></blockquote>
<!-- END CODE -->
<p>This style is traditional in IF, and goes back to 1980 if not earlier.</p>
<p>We can test the current state like so:</p>
<!-- START PHRASE "defn94" -->
<div class="definition"><a id="defn94"></a><p class="defnprototype"><b>if story has ended:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_ended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story...&quot; phrases.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn95" -->
<div class="definition"><a id="defn95"></a><p class="defnprototype"><b>if story has not ended:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_notended -->

<p>This condition is true if no end has been declared using one of the &quot;end the story...&quot; phrases.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn96" -->
<div class="definition"><a id="defn96"></a><p class="defnprototype"><b>if story has ended finally:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_finallyended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story finally...&quot; phrases, so that an ending has been reached which the author feels is a completion of the player's experience.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn97" -->
<div class="definition"><a id="defn97"></a><p class="defnprototype"><b>if story has not ended finally:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_notfinallyended -->

<p>This condition is true if an end has been declared using one of the &quot;end the story...&quot; phrases, but not &quot;finally&quot;, so the author feels that the player can get further experience by playing again and trying different approaches.</p>

<!-- end definition -->
</div>

<p>The rulebook &quot;when play ends&quot; is the matching bookend to &quot;when play begins&quot;. It is followed when the story decides to end (not when the player simply gives up and quits), and before any epitaph like</p>
<!-- START CODE "c2091" -->
<a id="c2091"></a><blockquote class="code"><p class="quoted">
*** You have been poisoned ***
</p></blockquote>
<!-- END CODE -->
<p>appears. For example:</p>
<!-- START CODE "c2092" -->
<a id="c2092"></a><blockquote class="code"><p class="quoted">
When play ends, say &quot;Oh dear.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Surprisingly, the end is not always the end:</p>
<!-- START PHRASE "defn98" -->
<div class="definition"><a id="defn98"></a><p class="defnprototype"><b>resume the story</b></p>
<!-- END PHRASE -->
<!-- definition of ph_resume -->

<p>This phrase causes an ended story to resume exactly as if no &quot;end the story...&quot; phrase had been used. Example:</p>
<!-- START CODE "c2093" -->
<a id="c2093"></a><blockquote class="code"><p class="quoted">
When play ends:
<br />&#160;&#160;&#160;&#160;if the story has not ended finally:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Oh dear. Still, here's another chance.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resume the story.
</p></blockquote>
<!-- END CODE -->
<p>The phrase is likely to be sensible only as part of a &quot;when play ends&quot; rule. Other traditional uses include giving the player three lives, as in an old-school arcade machine.</p>

<!-- end definition -->
</div>

<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "138: Big Sky Country" "e239" -->
<a id="e239"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example239'); return false;"><b>138</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example239'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Big Sky Country</span></b></a><br />Allowing the player to continue play after a fatal accident, but penalizing him by scattering his possessions around the game map.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc96.html#e239"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example239" style="display: none;">
<p>Some older games allowed the player to be resurrected after a death, but punished him by distributing his possessions far and wide. Here we emulate that effect.</p>
<!-- START CODE "c2094_239" -->
<a id="c2094_239"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Big Sky Country[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]When play begins: say [=0x0022=]There[=0x0027=]s a bit of a drive over from Anaconda, Montana, and then through a couple or three ghost towns, but finally you find what you[=0x0027=]re looking for, and strike out on foot...[=0x0022=][=0x000A=][=0x000A=]Entrance to Devil[=0x0027=]s Canyon is a room. [=0x0022=]You are at the top of a steep road, which proceeds down into the canyon proper.[=0x0022=] A sign is in Devil[=0x0027=]s Canyon. It is fixed in place. [=0x0022=]An ominous sign has been put up by the local sheriff[=0x0027=]s office.[=0x0022=] The description is [=0x0022=]PROCEED AT OWN RISK - NO RESCUES![=0x0022=][=0x000A=][=0x000A=]Instead of going down when a random chance of 1 in 3 succeeds:[=0x000A=][=0x0009=]say [=0x0022=]Whoooops, your footing is not as secure as you thought...[=0x0022=];[=0x000A=][=0x0009=]end the story.[=0x000A=][=0x000A=]Dusty Path is below Entrance. [=0x0022=]A dusty path, with grey-brown thorny bushes on either side. Immediately to your right is a sheer drop; far below you can see the rusting remains of a Model T that some fool tried to drive by here.[=0x0022=][=0x000A=][=0x000A=]Hairpin is below Dusty Path. [=0x0022=]A sharp bend in the road, doubling back down towards the bottom of the canyon. Just north of here there is also a small cavern of some kind[if the stick pin is in the cavern], which attracts your eye with some glittery thing[end if].[=0x0022=][=0x000A=][=0x000A=]The Cavern is north of Hairpin. [=0x0022=]Really not much more than a little hollow in the side of the canyon.[=0x0022=] In the cavern are a snake and a diamond stick pin. The snake is an animal. The description of the snake is [=0x0022=]You[=0x0027=]re no expert, but it looks like a rattler.[=0x0022=][=0x000A=][=0x000A=]Instead of taking the diamond stick pin in the presence of the snake: say [=0x0022=]Turns out the snake is partial to that there pin, and takes exception to your intending to make off with it.[=0x0022=]; end the story.[=0x000A=][=0x000A=][In a fuller implementation of this game, we might make it possible to get by the snake, but in this version, it[=0x0027=]s just going to remain troublesome.][=0x000A=][=0x000A=]Crooked Path is below Hairpin. [=0x0022=]You[=0x0027=]re about two thirds of the way down to the bottom of the cavern at this point.[=0x0022=][=0x000A=][=0x000A=]At the Spot is below Crooked Path. [=0x0022=]This[=0x0027=]ll be it: a bare patch of ground that might as well have an X painted right on it.[=0x0022=][=0x000A=][=0x000A=]Rule for supplying a missing noun while digging:[=0x000A=][=0x0009=]now noun is the location.[=0x000A=][=0x000A=]Understand [=0x0022=]dig[=0x0022=] or [=0x0022=]dig hole/here[=0x0022=] or [=0x0022=]dig in ground/dirt/earth[=0x0022=] as digging. Digging is an action applying to one thing.[=0x000A=][=0x000A=]Instead of digging at the spot:[=0x000A=][=0x0009=]say [=0x0022=]You dig and dig, and after a half hour or so, sure enough, you do turn up a big box of gold! You[=0x0027=]re going to be richer than God and Bill Gates put together.[=0x0022=];[=0x000A=][=0x0009=]increase the score by 5;[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Instead of digging at the spot when the player does not carry the shovel:[=0x000A=][=0x0009=]say [=0x0022=]What, without your shovel? That won[=0x0027=]t work too well.[=0x0022=][=0x000A=][=0x000A=]The player carries a walking stick. The player wears a hat, a whistle, and a daypack. The daypack contains a mylar blanket, a granola bar, a cellular phone, a water bottle, a folding shovel, and a photocopied map. The granola bar is edible. Instead of drinking the water, say [=0x0022=]You quench your thirst, for the time being.[=0x0022=] The description of the map is [=0x0022=]The map shows the winding path of Devil[=0x0027=]s Canyon, with a large X down by the south end. That would be where your uncle Jesse buried the gold from the train robbery.[=0x0022=][=0x000A=][=0x000A=]The maximum score is 5.[=0x000A=][=0x000A=]When play ends when the story has not ended finally:[=0x000A=][=0x0009=]say [=0x0022=]Oh dear, that ought to be fatal! However, if you like I can get you out of it...[=0x000A=][=0x000A=][=0x0009=]Shall I? [=0x003E=][=0x0022=];[=0x000A=][=0x0009=]if the player consents:[=0x000A=][=0x0009=][=0x0009=]repeat with item running through things had by the player:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]move the item to a random visited room;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]A strong wind picks you up and sets you back at [the location], though perhaps minus a few of your things.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]resume the story;[=0x000A=][=0x0009=][=0x0009=]try looking.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Big Sky Country&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2095_239" -->
<a id="c2095_239"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2096_239" -->
<a id="c2096_239"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;There's a bit of a drive over from Anaconda, Montana, and then through a couple or three ghost towns, but finally you find what you're looking for, and strike out on foot...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2097_239" -->
<a id="c2097_239"></a><blockquote class="code"><p class="quoted">
Entrance to Devil's Canyon is a room. &quot;You are at the top of a steep road, which proceeds down into the canyon proper.&quot; A sign is in Devil's Canyon. It is fixed in place. &quot;An ominous sign has been put up by the local sheriff's office.&quot; The description is &quot;PROCEED AT OWN RISK - NO RESCUES!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2098_239" -->
<a id="c2098_239"></a><blockquote class="code"><p class="quoted">
Instead of going down when a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Whoooops, your footing is not as secure as you thought...&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2099_239" -->
<a id="c2099_239"></a><blockquote class="code"><p class="quoted">
Dusty Path is below Entrance. &quot;A dusty path, with grey-brown thorny bushes on either side. Immediately to your right is a sheer drop; far below you can see the rusting remains of a Model T that some fool tried to drive by here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2100_239" -->
<a id="c2100_239"></a><blockquote class="code"><p class="quoted">
Hairpin is below Dusty Path. &quot;A sharp bend in the road, doubling back down towards the bottom of the canyon. Just north of here there is also a small cavern of some kind[if the stick pin is in the cavern], which attracts your eye with some glittery thing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2101_239" -->
<a id="c2101_239"></a><blockquote class="code"><p class="quoted">
The Cavern is north of Hairpin. &quot;Really not much more than a little hollow in the side of the canyon.&quot; In the cavern are a snake and a diamond stick pin. The snake is an animal. The description of the snake is &quot;You're no expert, but it looks like a rattler.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2102_239" -->
<a id="c2102_239"></a><blockquote class="code"><p class="quoted">
Instead of taking the diamond stick pin in the presence of the snake: say &quot;Turns out the snake is partial to that there pin, and takes exception to your intending to make off with it.&quot;; end the story.
</p></blockquote>
<!-- END CODE -->
<p>In a fuller implementation of this game, we might make it possible to get by the snake, but in this version, it's just going to remain troublesome.</p>
<!-- START CODE "c2103_239" -->
<a id="c2103_239"></a><blockquote class="code"><p class="quoted">
Crooked Path is below Hairpin. &quot;You're about two thirds of the way down to the bottom of the cavern at this point.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2104_239" -->
<a id="c2104_239"></a><blockquote class="code"><p class="quoted">
At the Spot is below Crooked Path. &quot;This'll be it: a bare patch of ground that might as well have an X painted right on it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2105_239" -->
<a id="c2105_239"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing noun while digging:
<br />&#160;&#160;&#160;&#160;now noun is the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2106_239" -->
<a id="c2106_239"></a><blockquote class="code"><p class="quoted">
Understand &quot;dig&quot; or &quot;dig hole/here&quot; or &quot;dig in ground/dirt/earth&quot; as digging. Digging is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2107_239" -->
<a id="c2107_239"></a><blockquote class="code"><p class="quoted">
Instead of digging at the spot:
<br />&#160;&#160;&#160;&#160;say &quot;You dig and dig, and after a half hour or so, sure enough, you do turn up a big box of gold! You're going to be richer than God and Bill Gates put together.&quot;;
<br />&#160;&#160;&#160;&#160;increase the score by 5;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2108_239" -->
<a id="c2108_239"></a><blockquote class="code"><p class="quoted">
Instead of digging at the spot when the player does not carry the shovel:
<br />&#160;&#160;&#160;&#160;say &quot;What, without your shovel? That won't work too well.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2109_239" -->
<a id="c2109_239"></a><blockquote class="code"><p class="quoted">
The player carries a walking stick. The player wears a hat, a whistle, and a daypack. The daypack contains a mylar blanket, a granola bar, a cellular phone, a water bottle, a folding shovel, and a photocopied map. The granola bar is edible. Instead of drinking the water, say &quot;You quench your thirst, for the time being.&quot; The description of the map is &quot;The map shows the winding path of Devil's Canyon, with a large X down by the south end. That would be where your uncle Jesse buried the gold from the train robbery.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2110_239" -->
<a id="c2110_239"></a><blockquote class="code"><p class="quoted">
The maximum score is 5.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2111_239" -->
<a id="c2111_239"></a><blockquote class="code"><p class="quoted">
When play ends when the story has not ended finally:
<br />&#160;&#160;&#160;&#160;say &quot;Oh dear, that ought to be fatal! However, if you like I can get you out of it...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2112_239" -->
<a id="c2112_239"></a><blockquote class="code"><p class="quoted">
&#160;&#160;&#160;&#160;Shall I? &gt;&quot;;
<br />&#160;&#160;&#160;&#160;if the player consents:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things had by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the item to a random visited room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A strong wind picks you up and sets you back at [the location], though perhaps minus a few of your things.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resume the story;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try looking.
</p></blockquote>
<!-- END CODE -->
<p>&quot;If the player consents&quot; is just a convenient way to ask a yes/no question that the player must answer before going on with the game.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc137.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc139.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
