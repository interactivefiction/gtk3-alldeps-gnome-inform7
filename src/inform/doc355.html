<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>21.4. Testing and iterating over lists</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Testing and iterating over lists" -->
<!-- SEARCH SECTION "21.4" -->
<!-- SEARCH SORT "000-021-004-000" -->
<!-- START IGNORE 354 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc354.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 21: Lists</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc356.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง21.4. Testing and iterating over lists</p>
<p>If L is a list, we can interrogate it to see whether it does or does not contain (at least one instance of) any compatible value V:</p>
<!-- START PHRASE "defn327" -->
<div class="definition"><a id="defn327"></a><p class="defnprototype"><b>if </b>(value)<b> is listed in </b>(list of values)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_islistedin -->

<p>This condition is true if the given value, which must be of a compatible kind, is one of those in the list. For instance, if L is our list of the numbers 2, 3, 5, 7 and 11 then 5 is listed in it but 6 is not.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn328" -->
<div class="definition"><a id="defn328"></a><p class="defnprototype"><b>if </b>(value)<b> is not listed in </b>(list of values)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_isnotlistedin -->

<p>This condition is true if the given value, which must be of a compatible kind, is not one of those in the list.</p>

<!-- end definition -->
</div>

<p>We can also repeat running through a list (just as we can with table rows). Thus:</p>
<!-- START PHRASE "defn329" -->
<div class="definition"><a id="defn329"></a><p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running through </b>(list of values)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_repeatlist -->

<p>This phrase causes the block of phrases following it to be repeated once for each item in the given list, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>
<!-- START CODE "c8382" -->
<a id="c8382"></a><blockquote class="code"><p class="quoted">
let L be {2, 3, 5, 7, 11, 13, 17, 19};
<br />repeat with prime running through L:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>If the list is empty, nothing happens: the &quot;...&quot; phrase(s) are never tried.</p>

<!-- end definition -->
</div>

<p>In the next sections, we shall see that it is possible to change, reorder and resize lists. But it's important never to change a list that's being repeated through. The following:</p>
<!-- START CODE "c8383" -->
<a id="c8383"></a><blockquote class="code"><p class="quoted">
let L1 be {1, 2, 3, 4};
<br />repeat with n running through L1:
<br />&#160;&#160;&#160;&#160;remove n from L1;
</p></blockquote>
<!-- END CODE -->
<p>leaves L1 containing {2, 4}, since the removals from the list cause it to shuffle back even while we repeat through it - a bad, bad idea.</p>
<hr />
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc354.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc356.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
