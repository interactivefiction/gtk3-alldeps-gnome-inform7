<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>8.5. Kitchen and Bathroom</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Kitchen and Bathroom" -->
<!-- SEARCH SECTION "8.5" -->
<!-- SEARCH SORT "001-008-005-000" -->
<!-- START IGNORE 66 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc66.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 8: Vehicles, Animals and Furniture</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc68.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง8.5. Kitchen and Bathroom</p>
<p>Before implementing elaborate mechanisms to handle plumbing, we should pause to ask ourselves: how much of this do we need? Is it really necessary to simulate the complete set of fixtures and fittings?</p>
<p>This turns out to be a little tricky to do, and also rather dull to set out. The example <span class="boldface">Modern Conveniences</span> was actually written as a demonstration of how an extension to Inform might be written to provide a general &quot;kitchens and bathrooms service&quot; for writers, but it contains a nice implementation well worth borrowing. The idea is to provide a &quot;kitchen&quot; kind of room and a &quot;bathroom&quot; kind of room. All kitchens created automatically contain standard kitchen appliances: fridge, freezer, sink with taps, counters, cabinets, and a stovetop with built-in oven. Similarly, all bathrooms will have sinks, baths, cabinets, and toilets, and respond to some standard interactions.</p>
<p>Another common feature of bathrooms is a mirror: <span class="boldface">Versailles</span> demonstrates how to create a simple one.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "75: Versailles" "e69" -->
<a id="e69"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example69'); return false;"><b>75</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example69'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Versailles</span></b></a><br />A mirror which will reflect some random object in the room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc90.html#e69"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example69" style="display: none;">
<p>One of the advantages of descriptions is that we can use them to pick an item randomly from a specified category. (For more on this possibility, see the Change chapter sections on randomness.)</p>
<p>For instance, suppose we wanted to create a mirror in which the player would see some item from the room reflected. We might write</p>
<!-- START CODE "c13882_69" -->
<a id="c13882_69"></a><blockquote class="code"><p class="quoted">
Instead of searching the mirror:
<br />&#160;&#160;&#160;&#160;say &quot;You see [a random thing in the location] reflected back at you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is the same as &quot;a random thing which is in the location&quot;: phrase &quot;in...&quot; can be used briefly in Inform as it can in English.</p>
<p>But, on a little more thought, we might want to expand on this: the mirror perhaps should reflect not only things that are in the room, but anything that the player can see (even if it's on a supporter or carried by someone). So then we might instead write</p>
<!-- START CODE "c13883_69" -->
<a id="c13883_69"></a><blockquote class="code"><p class="quoted">
Instead of searching the mirror:
<br />&#160;&#160;&#160;&#160;say &quot;You see [a random visible thing] reflected back at you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>There's still a risk, though, that this will produce the response</p>
<!-- START CODE "c13884_69" -->
<a id="c13884_69"></a><blockquote class="code"><p class="quoted">
You see the mirror reflected back at you.
</p></blockquote>
<!-- END CODE -->
<p>because, of course, the mirror is itself visible. So instead we might write</p>
<!-- START CODE "c13885_69" -->
<a id="c13885_69"></a><blockquote class="code"><p class="quoted">
Instead of searching the mirror:
<br />&#160;&#160;&#160;&#160;say &quot;You see [a random visible thing which is not the mirror] reflected back at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13886_69" -->
<a id="c13886_69"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Versailles[=0x0022=][=0x000A=][=0x000A=]The Hall of Plywood Boards is a room. [=0x0022=]The Hall of Mirrors is under reconstruction: it is currently a dank tunnel enlivened only by short placards about the history of the room.[=0x000A=][=0x000A=]As though to mock tourists such as yourself who bought their tickets without knowing this, the officials have left uncovered a single panel of mirror.[=0x0022=][=0x000A=][=0x000A=]The mirror is scenery in the Hall of Plywood Boards. Understand [=0x0022=]panel[=0x0022=] or [=0x0022=]panel of mirror[=0x0022=] as the mirror. The description is [=0x0022=]Lovingly restored to shimmering brilliance, it suggests how marvelous this room would be if you had had the good sense to arrive after the renovations were complete.[=0x0022=][=0x000A=][=0x000A=]Some tourists are a person in the Hall of Plywood Boards. The tourists are scenery.[=0x000A=][=0x000A=]Instead of searching the mirror:[=0x000A=][=0x0009=]say [=0x0022=]You see [a random visible thing which is not the mirror] reflected back at you.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x mirror / look in mirror / g[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Versailles&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13887_69" -->
<a id="c13887_69"></a><blockquote class="code"><p class="quoted">
The Hall of Plywood Boards is a room. &quot;The Hall of Mirrors is under reconstruction: it is currently a dank tunnel enlivened only by short placards about the history of the room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13888_69" -->
<a id="c13888_69"></a><blockquote class="code"><p class="quoted">
As though to mock tourists such as yourself who bought their tickets without knowing this, the officials have left uncovered a single panel of mirror.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13889_69" -->
<a id="c13889_69"></a><blockquote class="code"><p class="quoted">
The mirror is scenery in the Hall of Plywood Boards. Understand &quot;panel&quot; or &quot;panel of mirror&quot; as the mirror. The description is &quot;Lovingly restored to shimmering brilliance, it suggests how marvelous this room would be if you had had the good sense to arrive after the renovations were complete.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13890_69" -->
<a id="c13890_69"></a><blockquote class="code"><p class="quoted">
Some tourists are a person in the Hall of Plywood Boards. The tourists are scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13891_69" -->
<a id="c13891_69"></a><blockquote class="code"><p class="quoted">
Instead of searching the mirror:
<br />&#160;&#160;&#160;&#160;say &quot;You see [a random visible thing which is not the mirror] reflected back at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13892_69" -->
<a id="c13892_69"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x mirror / look in mirror / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>A final note: we use &quot;searching&quot; here because Inform understands both SEARCH THING and LOOK IN THING as the searching action, and the player is most likely to type LOOK IN MIRROR in order to see the reflection there. In the absence of an example, we can discover the relationship between actions and their command vocabulary in one of two ways. A complete list of actions and the vocabulary associated with them is available in the Actions index. Alternatively, we can type ACTIONS at a prompt, followed by LOOK IN MIRROR, and get the response</p>
<!-- START CODE "c13893_69" -->
<a id="c13893_69"></a><blockquote class="code"><p class="quoted">
[searching the mirror]
<br />You find nothing of interest.
<br />[searching the mirror - failed the can't search unless container or supporter rule]
</p></blockquote>
<!-- END CODE -->
<p>...which tells us that Inform is understanding the action as &quot;searching the mirror&quot;.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "449: Modern Conveniences" "e161" -->
<a id="e161"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example161'); return false;"><b>449</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example161'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Modern Conveniences</span></b></a><br />Exemplifying the kind of source we might use in writing extensions for kitchen and bathroom appliances.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc434.html#e161"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example161" style="display: none;">
<p>Suppose we want to write an extension or other portable code which defines a &quot;kitchen&quot; kind of room and a &quot;bathroom&quot; kind of room. All kitchen rooms we create in the future will automatically contain standard kitchen appliances: fridge, freezer, sink with taps, counters, cabinets, and a stovetop with built-in oven. Similarly, all bathrooms will have sinks, baths, cabinets, and toilets, and respond to some standard interactions.</p>
<p>We would do this with a standard assembly:</p>
<!-- START CODE "c13894_161" -->
<a id="c13894_161"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Modern Conveniences[=0x0022=][=0x000A=][=0x000A=]Section 1 - Kitchens[=0x000A=][=0x000A=]A kitchen is a kind of room.[=0x000A=][=0x000A=]A refrigerator is a kind of container. A refrigerator is usually closed and openable. A refrigerator is usually fixed in place. A refrigerator is usually scenery. Understand [=0x0022=]fridge[=0x0022=] as a refrigerator.[=0x000A=][=0x000A=]A freezer compartment is a kind of container. A freezer compartment is usually closed and openable. A freezer compartment is part of every refrigerator.[=0x000A=][=0x000A=][Now: we[=0x0027=]re going to want many of the items in our kitchen to have switches, and to handle input sensibly regardless of whether the player types TURN ON STOVE or TURN ON STOVE SWITCH. (This is apparently a stove with only one burner.) For convenience, we[=0x0027=]ll define an [=0x0022=]includes[=0x0022=] relation:][=0x000A=][=0x000A=]Inclusion relates a thing (called X) to a thing (called Y) when Y is part of X. The verb to include means the inclusion relation.[=0x000A=][=0x000A=]A stove is a kind of supporter. It is usually scenery.[=0x000A=]An oven is a kind of container. An oven is usually openable and closed. One oven is a part of every stove.[=0x000A=]A switch is a kind of device. A switch is part of every stove. A switch is part of every oven.[=0x000A=]Understand [=0x0022=][something related by reversed incorporation] switch[=0x0022=] as a switch.[=0x000A=][=0x000A=][What follows is fairly straightforward, but notice that we are somewhat obsessively naming every rule. This is much more important in extensions (where someone else may need to manipulate our code from within their own source) than it is when we are simply composing source text for ourselves.][=0x000A=][=0x000A=]Setting action variables for opening a stove (this is the stove-opening rule):[=0x000A=][=0x0009=]let relevant oven be a random oven which is part of the noun;[=0x000A=][=0x0009=]now the noun is the relevant oven.[=0x000A=][=0x000A=]Setting action variables for switching on something which includes a switch (this is the redirecting switches for switching on rule):[=0x000A=][=0x0009=]let relevant switch be a random switch which is part of the noun;[=0x000A=][=0x0009=]now the noun is the relevant switch.[=0x000A=][=0x000A=]Setting action variables for switching off something which includes a switch (this is the redirecting switches for switching off rule):[=0x000A=][=0x0009=]let relevant switch be a random switch which is part of the noun;[=0x000A=][=0x0009=]now the noun is the relevant switch.[=0x000A=][=0x000A=]Before printing the name of a switch (called target) (this is the switch identification rule):[=0x000A=][=0x0009=]say [=0x0022=][random thing which includes the target] [=0x0022=].[=0x000A=][=0x000A=]A sink is a kind of container. A sink is usually fixed in place and scenery. A tap is a kind of switch. A tap is part of every sink. Understand [=0x0022=]faucet[=0x0022=] or [=0x0022=]taps[=0x0022=] as a tap. Understand [=0x0022=][something related by reversed incorporation] tap/faucet/taps[=0x0022=] as a tap.[=0x000A=][=0x000A=]Instead of opening a tap, try switching on the noun. Instead of closing a tap, try switching off the noun.[=0x000A=][=0x000A=]Report switching on a tap (this is the standard report switching taps on rule):[=0x000A=][=0x0009=]say [=0x0022=]You turn on [the noun].[=0x0022=] instead. [since [=0x0022=]switch on[=0x0022=] sounds weird in this context.][=0x000A=][=0x000A=]Report switching off a tap (this is the standard report switching taps off rule):[=0x000A=][=0x0009=]say [=0x0022=]You turn off [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]After examining something which includes a switched on tap (called relevant tap) (this is the report flowing water rule):[=0x000A=][=0x0009=]say [=0x0022=]The water is flowing from [the relevant tap].[=0x0022=][=0x000A=][=0x000A=]A drain is a kind of container. A drain is part of every sink. Understand [=0x0022=]plughole[=0x0022=] as the drain. Understand [=0x0022=][something related by reversed incorporation] drain/plughole[=0x0022=] as a drain.[=0x000A=][=0x000A=] Instead of inserting something into a drain (this is the no clogging drains rule), say [=0x0022=]Pointless.[=0x0022=][=0x000A=][=0x000A=][This is probably about as far as we want to go in a generic simulation: it is tempting to code up water, drains down which the player can lose objects, sinks that get clogged and overflow, and so on; but the more we embellish in these ways, the more likely the end result would be disruptive to individual games. For right now what we[=0x0027=]re aiming for is something simple which provides the basic interactions a player might expect in this kind of room, but which does not have any significant implications for the surrounding world model.][=0x000A=][=0x000A=][A particularly conservative author might even want to make it turn out that the water has been shut off and nothing flows from the taps: in the extension documentation, we might want to include a line or two of example showing how this might be done by changing or removing the relevant rules of our extension.][=0x000A=][=0x000A=]A cabinet is a kind of container. A cabinet is usually openable and closed. It is scenery.[=0x000A=][=0x0009=]Understand [=0x0022=]cupboard[=0x0022=] or [=0x0022=]cupboards[=0x0022=] or [=0x0022=]cabinets[=0x0022=] as a cabinet.[=0x000A=][=0x000A=]A counter is a kind of supporter. It is scenery.[=0x000A=][=0x0009=]Understand [=0x0022=]countertop[=0x0022=] as a counter.[=0x000A=][=0x000A=]A cabinet is in every kitchen.[=0x000A=]A counter is in every kitchen.[=0x000A=]A refrigerator is in every kitchen.[=0x000A=]A sink is in every kitchen.[=0x000A=]A stove is in every kitchen.[=0x000A=][=0x000A=]Section 2 - Bathrooms[=0x000A=][=0x000A=]A bathroom is a kind of room.[=0x000A=][=0x000A=]A toilet is a kind of supporter. Understand [=0x0022=]john[=0x0022=] as a toilet. A toilet is usually fixed in place and enterable and scenery.[=0x000A=][=0x000A=]A bath is a kind of container. A bath is usually a fixed in place and enterable and scenery. A tap is part of every bath. A drain is part of every bath. Understand [=0x0022=]bathtub[=0x0022=] or [=0x0022=]shower[=0x0022=] as a bath.[=0x000A=][=0x000A=]A sink is in every bathroom.[=0x000A=]A toilet is in every bathroom.[=0x000A=]A bath is in every bathroom.[=0x000A=]A cabinet is in every bathroom.[=0x000A=][=0x000A=][If we were feeling particularly ambitious and inclined toward interior decoration, we could add bath mats, mirrors, plungers, toilet brushes, overhead lighting, towel racks, scented candles, boxes of facial tissue, shampoo bottles, scrubbing loofahs, etc. ad nauseam; but we[=0x0027=]ll keep it relatively simple for now. Of course, if we have a toilet, we pretty much have to accept that the player will try to make use of it:][=0x000A=][=0x000A=]Understand [=0x0022=]flush [toilet][=0x0022=] or [=0x0022=]use [toilet][=0x0022=] as a mistake ([=0x0022=]You have no need at the moment.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]take shower[=0x0022=] or [=0x0022=]take bath[=0x0022=] or [=0x0022=]bathe[=0x0022=] or [=0x0022=]wash[=0x0022=] as bathing. Bathing is an action applying to nothing.[=0x000A=][=0x000A=]Check bathing (this is the restrict baths to bathrooms rule):[=0x000A=][=0x0009=]if the location is not a bathroom, say [=0x0022=]This isn[=0x0027=]t the place.[=0x0022=] instead.[=0x000A=][=0x000A=]Check bathing (this is the block bathing rule):[=0x000A=][=0x0009=]say [=0x0022=]You haven[=0x0027=]t time for a bath.[=0x0022=] instead.[=0x000A=][=0x000A=]Washing is an action applying to one thing. Understand [=0x0022=]clean [something][=0x0022=] or [=0x0022=]wet [something][=0x0022=] or [=0x0022=]wash [something][=0x0022=] as washing.[=0x000A=][=0x000A=]Instead of washing the player, try bathing.[=0x000A=][=0x000A=]Check washing (this is the restrict washing to the proximity of sinks rule):[=0x000A=][=0x0009=]unless the player can touch a sink, say [=0x0022=]This isn[=0x0027=]t the place.[=0x0022=] instead.[=0x000A=][=0x000A=]Check washing (this is the block washing rule):[=0x000A=][=0x0009=]say [=0x0022=]It doesn[=0x0027=]t seem worth the bother.[=0x0022=] instead.[=0x000A=][=0x000A=][Now we might put this to work in a short example.][=0x000A=][=0x000A=][One slight challenge lies in giving these assembled pieces separate descriptions. When we have an assembly that adds parts to objects, we can then talk about (for instance) [=0x0022=]the stove[=0x0027=]s switch[=0x0022=] elsewhere in the code. But items that have been assigned rooms are not named in the same way, so we cannot talk about [=0x0022=]the Industrial Kitchen[=0x0027=]s stove[=0x0022=] in our code as a way to assign it a description or special behavior. In quite a simple example, we could make the descriptions of the kind simply be the descriptions we want for the individual items:][=0x000A=][=0x000A=]Section 3 - An Example We Might Offer[=0x000A=][=0x000A=]Our Household Kitchen is a kitchen.[=0x000A=][=0x000A=]The Tiny Bathroom is a bathroom. It is west of Our Household Kitchen.[=0x000A=][=0x000A=]The description of a stove is [=0x0022=]Scrupulously polished.[=0x0022=][=0x000A=][=0x000A=]The description of a refrigerator is [=0x0022=]It is baby blue and has the contours of a 50[[=0x0027=]]s chevy. One of these days it really will break down, but it[=0x0027=]s been serving your family faithfully since your grandmother[=0x0027=]s honeymoon.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x refrigerator / open fridge / x freezer / look in freezer / open freezer / turn on stove / turn on oven / x oven switch / turn off oven switch / turn off stove switch / turn on taps / x sink / w / x sink / turn on sink / take bath / use toilet[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Modern Conveniences&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13895_161" -->
<a id="c13895_161"></a><blockquote class="code"><p class="quoted">
Section 1 - Kitchens
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13896_161" -->
<a id="c13896_161"></a><blockquote class="code"><p class="quoted">
A kitchen is a kind of room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13897_161" -->
<a id="c13897_161"></a><blockquote class="code"><p class="quoted">
A refrigerator is a kind of container. A refrigerator is usually closed and openable. A refrigerator is usually fixed in place. A refrigerator is usually scenery. Understand &quot;fridge&quot; as a refrigerator.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13898_161" -->
<a id="c13898_161"></a><blockquote class="code"><p class="quoted">
A freezer compartment is a kind of container. A freezer compartment is usually closed and openable. A freezer compartment is part of every refrigerator.
</p></blockquote>
<!-- END CODE -->
<p>Now: we're going to want many of the items in our kitchen to have switches, and to handle input sensibly regardless of whether the player types TURN ON STOVE or TURN ON STOVE SWITCH. (This is apparently a stove with only one burner.) For convenience, we'll define an &quot;includes&quot; relation:</p>
<!-- START CODE "c13899_161" -->
<a id="c13899_161"></a><blockquote class="code"><p class="quoted">
Inclusion relates a thing (called X) to a thing (called Y) when Y is part of X. The verb to include means the inclusion relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13900_161" -->
<a id="c13900_161"></a><blockquote class="code"><p class="quoted">
A stove is a kind of supporter. It is usually scenery.
<br />An oven is a kind of container. An oven is usually openable and closed. One oven is a part of every stove.
<br />A switch is a kind of device. A switch is part of every stove. A switch is part of every oven.
<br />Understand &quot;[something related by reversed incorporation] switch&quot; as a switch.
</p></blockquote>
<!-- END CODE -->
<p>What follows is fairly straightforward, but notice that we are somewhat obsessively naming every rule. This is much more important in extensions (where someone else may need to manipulate our code from within their own source) than it is when we are simply composing source text for ourselves.</p>
<!-- START CODE "c13901_161" -->
<a id="c13901_161"></a><blockquote class="code"><p class="quoted">
Setting action variables for opening a stove (this is the stove-opening rule):
<br />&#160;&#160;&#160;&#160;let relevant oven be a random oven which is part of the noun;
<br />&#160;&#160;&#160;&#160;now the noun is the relevant oven.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13902_161" -->
<a id="c13902_161"></a><blockquote class="code"><p class="quoted">
Setting action variables for switching on something which includes a switch (this is the redirecting switches for switching on rule):
<br />&#160;&#160;&#160;&#160;let relevant switch be a random switch which is part of the noun;
<br />&#160;&#160;&#160;&#160;now the noun is the relevant switch.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13903_161" -->
<a id="c13903_161"></a><blockquote class="code"><p class="quoted">
Setting action variables for switching off something which includes a switch (this is the redirecting switches for switching off rule):
<br />&#160;&#160;&#160;&#160;let relevant switch be a random switch which is part of the noun;
<br />&#160;&#160;&#160;&#160;now the noun is the relevant switch.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13904_161" -->
<a id="c13904_161"></a><blockquote class="code"><p class="quoted">
Before printing the name of a switch (called target) (this is the switch identification rule):
<br />&#160;&#160;&#160;&#160;say &quot;[random thing which includes the target] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13905_161" -->
<a id="c13905_161"></a><blockquote class="code"><p class="quoted">
A sink is a kind of container. A sink is usually fixed in place and scenery. A tap is a kind of switch. A tap is part of every sink. Understand &quot;faucet&quot; or &quot;taps&quot; as a tap. Understand &quot;[something related by reversed incorporation] tap/faucet/taps&quot; as a tap.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13906_161" -->
<a id="c13906_161"></a><blockquote class="code"><p class="quoted">
Instead of opening a tap, try switching on the noun. Instead of closing a tap, try switching off the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13907_161" -->
<a id="c13907_161"></a><blockquote class="code"><p class="quoted">
Report switching on a tap (this is the standard report switching taps on rule):
<br />&#160;&#160;&#160;&#160;say &quot;You turn on [the noun].&quot; instead. [since &quot;switch on&quot; sounds weird in this context.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13908_161" -->
<a id="c13908_161"></a><blockquote class="code"><p class="quoted">
Report switching off a tap (this is the standard report switching taps off rule):
<br />&#160;&#160;&#160;&#160;say &quot;You turn off [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13909_161" -->
<a id="c13909_161"></a><blockquote class="code"><p class="quoted">
After examining something which includes a switched on tap (called relevant tap) (this is the report flowing water rule):
<br />&#160;&#160;&#160;&#160;say &quot;The water is flowing from [the relevant tap].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13910_161" -->
<a id="c13910_161"></a><blockquote class="code"><p class="quoted">
A drain is a kind of container. A drain is part of every sink. Understand &quot;plughole&quot; as the drain. Understand &quot;[something related by reversed incorporation] drain/plughole&quot; as a drain.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13911_161" -->
<a id="c13911_161"></a><blockquote class="code"><p class="quoted">
 Instead of inserting something into a drain (this is the no clogging drains rule), say &quot;Pointless.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is probably about as far as we want to go in a generic simulation: it is tempting to code up water, drains down which the player can lose objects, sinks that get clogged and overflow, and so on; but the more we embellish in these ways, the more likely the end result would be disruptive to individual games. For right now what we're aiming for is something simple which provides the basic interactions a player might expect in this kind of room, but which does not have any significant implications for the surrounding world model.</p>
<p>A particularly conservative author might even want to make it turn out that the water has been shut off and nothing flows from the taps: in the extension documentation, we might want to include a line or two of example showing how this might be done by changing or removing the relevant rules of our extension.</p>
<!-- START CODE "c13912_161" -->
<a id="c13912_161"></a><blockquote class="code"><p class="quoted">
A cabinet is a kind of container. A cabinet is usually openable and closed. It is scenery.
<br />&#160;&#160;&#160;&#160;Understand &quot;cupboard&quot; or &quot;cupboards&quot; or &quot;cabinets&quot; as a cabinet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13913_161" -->
<a id="c13913_161"></a><blockquote class="code"><p class="quoted">
A counter is a kind of supporter. It is scenery.
<br />&#160;&#160;&#160;&#160;Understand &quot;countertop&quot; as a counter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13914_161" -->
<a id="c13914_161"></a><blockquote class="code"><p class="quoted">
A cabinet is in every kitchen.
<br />A counter is in every kitchen.
<br />A refrigerator is in every kitchen.
<br />A sink is in every kitchen.
<br />A stove is in every kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13915_161" -->
<a id="c13915_161"></a><blockquote class="code"><p class="quoted">
Section 2 - Bathrooms
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13916_161" -->
<a id="c13916_161"></a><blockquote class="code"><p class="quoted">
A bathroom is a kind of room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13917_161" -->
<a id="c13917_161"></a><blockquote class="code"><p class="quoted">
A toilet is a kind of supporter. Understand &quot;john&quot; as a toilet. A toilet is usually fixed in place and enterable and scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13918_161" -->
<a id="c13918_161"></a><blockquote class="code"><p class="quoted">
A bath is a kind of container. A bath is usually a fixed in place and enterable and scenery. A tap is part of every bath. A drain is part of every bath. Understand &quot;bathtub&quot; or &quot;shower&quot; as a bath.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13919_161" -->
<a id="c13919_161"></a><blockquote class="code"><p class="quoted">
A sink is in every bathroom.
<br />A toilet is in every bathroom.
<br />A bath is in every bathroom.
<br />A cabinet is in every bathroom.
</p></blockquote>
<!-- END CODE -->
<p>If we were feeling particularly ambitious and inclined toward interior decoration, we could add bath mats, mirrors, plungers, toilet brushes, overhead lighting, towel racks, scented candles, boxes of facial tissue, shampoo bottles, scrubbing loofahs, etc. ad nauseam; but we'll keep it relatively simple for now. Of course, if we have a toilet, we pretty much have to accept that the player will try to make use of it:</p>
<!-- START CODE "c13920_161" -->
<a id="c13920_161"></a><blockquote class="code"><p class="quoted">
Understand &quot;flush [toilet]&quot; or &quot;use [toilet]&quot; as a mistake (&quot;You have no need at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13921_161" -->
<a id="c13921_161"></a><blockquote class="code"><p class="quoted">
Understand &quot;take shower&quot; or &quot;take bath&quot; or &quot;bathe&quot; or &quot;wash&quot; as bathing. Bathing is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13922_161" -->
<a id="c13922_161"></a><blockquote class="code"><p class="quoted">
Check bathing (this is the restrict baths to bathrooms rule):
<br />&#160;&#160;&#160;&#160;if the location is not a bathroom, say &quot;This isn't the place.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13923_161" -->
<a id="c13923_161"></a><blockquote class="code"><p class="quoted">
Check bathing (this is the block bathing rule):
<br />&#160;&#160;&#160;&#160;say &quot;You haven't time for a bath.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13924_161" -->
<a id="c13924_161"></a><blockquote class="code"><p class="quoted">
Washing is an action applying to one thing. Understand &quot;clean [something]&quot; or &quot;wet [something]&quot; or &quot;wash [something]&quot; as washing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13925_161" -->
<a id="c13925_161"></a><blockquote class="code"><p class="quoted">
Instead of washing the player, try bathing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13926_161" -->
<a id="c13926_161"></a><blockquote class="code"><p class="quoted">
Check washing (this is the restrict washing to the proximity of sinks rule):
<br />&#160;&#160;&#160;&#160;unless the player can touch a sink, say &quot;This isn't the place.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13927_161" -->
<a id="c13927_161"></a><blockquote class="code"><p class="quoted">
Check washing (this is the block washing rule):
<br />&#160;&#160;&#160;&#160;say &quot;It doesn't seem worth the bother.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Now we might put this to work in a short example.</p>
<p>One slight challenge lies in giving these assembled pieces separate descriptions. When we have an assembly that adds parts to objects, we can then talk about (for instance) &quot;the stove's switch&quot; elsewhere in the code. But items that have been assigned rooms are not named in the same way, so we cannot talk about &quot;the Industrial Kitchen's stove&quot; in our code as a way to assign it a description or special behavior. In quite a simple example, we could make the descriptions of the kind simply be the descriptions we want for the individual items:</p>
<!-- START CODE "c13928_161" -->
<a id="c13928_161"></a><blockquote class="code"><p class="quoted">
Section 3 - An Example We Might Offer
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13929_161" -->
<a id="c13929_161"></a><blockquote class="code"><p class="quoted">
Our Household Kitchen is a kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13930_161" -->
<a id="c13930_161"></a><blockquote class="code"><p class="quoted">
The Tiny Bathroom is a bathroom. It is west of Our Household Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13931_161" -->
<a id="c13931_161"></a><blockquote class="code"><p class="quoted">
The description of a stove is &quot;Scrupulously polished.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13932_161" -->
<a id="c13932_161"></a><blockquote class="code"><p class="quoted">
The description of a refrigerator is &quot;It is baby blue and has the contours of a 50[']s chevy. One of these days it really will break down, but it's been serving your family faithfully since your grandmother's honeymoon.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13933_161" -->
<a id="c13933_161"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x refrigerator / open fridge / x freezer / look in freezer / open freezer / turn on stove / turn on oven / x oven switch / turn off oven switch / turn off stove switch / turn on taps / x sink / w / x sink / turn on sink / take bath / use toilet&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In a game that featured multiple bathrooms and kitchens, this wouldn't be enough; our author might give the stove kind (say) a description that checked its location, as in</p>
<!-- START CODE "c13934_161" -->
<a id="c13934_161"></a><blockquote class="code"><p class="quoted">
The description of a stove is &quot;[if in Industrial Kitchen]A massive stainless steel stove-top with six burners[otherwise]Your standard four-burner item[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>or create an</p>
<!-- START CODE "c13935_161" -->
<a id="c13935_161"></a><blockquote class="code"><p class="quoted">
Instead of examining the stove in the Industrial Kitchen: ...
</p></blockquote>
<!-- END CODE -->
<p>sort of rule for those objects he wanted to describe specially; or he might use a when play begins rule to initialize a few things:</p>
<!-- START CODE "c13936_161" -->
<a id="c13936_161"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let N be a random stove in the Industrial Kitchen;
<br />&#160;&#160;&#160;&#160;move the boiling pot to N;
<br />&#160;&#160;&#160;&#160;change the description of N to...
</p></blockquote>
<!-- END CODE -->
<p>Or we might even (if we anticipate lots of these kinds of amendments) want to rig up something more complex that finds the descriptions of appliances in a table, rather than relying on their individual description properties. This can all be done, but it is only interesting as long as it remains genuinely labor-saving: that is, as long as the convenience of having the assembly is greater than the annoyance of writing special rules to cover for the automation. In the end, the &quot;kitchen&quot; and &quot;bathroom&quot; room types are likely to be most useful for authors who want to include the standard props but not actually make them a critical part of the game; if stoves and sinks have more of a starring role in the production, authors may be better off coding them or at the very least placing them by hand, as in</p>
<!-- START CODE "c13937_161" -->
<a id="c13937_161"></a><blockquote class="code"><p class="quoted">
The Industrial Kitchen is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13938_161" -->
<a id="c13938_161"></a><blockquote class="code"><p class="quoted">
Thor is a stove in the Industrial Kitchen. It supports a boiling pot.
</p></blockquote>
<!-- END CODE -->
<p>All these quirks are things that we (as the extension author) want to think out in advance: we should ideally warn authors about possible pitfalls in using our extension (if we can think of them) and point out ways of customizing the behavior (if there are interesting ways).</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc66.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc68.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
