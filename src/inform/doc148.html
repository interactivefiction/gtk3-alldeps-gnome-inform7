<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.14. How many times?</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "How many times?" -->
<!-- SEARCH SECTION "9.14" -->
<!-- SEARCH SORT "000-009-014-000" -->
<!-- START IGNORE 147 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc147.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Time</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc149.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง9.14. How many times?</p>
<p>There are two further ways to examine the historical record. Given any condition, we can say</p>
<!-- START CODE "c2341" -->
<a id="c2341"></a><blockquote class="code"><p class="quoted">
if (...condition...) for the second time ...
<br />if (...condition...) twice ...
<br />if (...condition...) 2 times...
<br />if (...condition...) two times...
</p></blockquote>
<!-- END CODE -->
<p>(all of which are synonymous: the words once, twice, thrice, one, two, three, four, five, six, seven, eight, nine, ten, first, second, third, fourth, fifth, sixth, seventh, eighth, ninth and tenth all mean what they obviously should). The result is true if the condition holds now and has held for only one previous spell in the past. A condition holding for, say, fifteen consecutive turns without a break counts as only one &quot;time&quot; - so what we mean by &quot;twice&quot; here is that it is true now, was previously false for a while, and was previously true for a while before that, but no more. In effect, then,</p>
<!-- START CODE "c2342" -->
<a id="c2342"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for the third time ...
</p></blockquote>
<!-- END CODE -->
<p>is true if this is the third visit to the Ballroom. We can also say</p>
<!-- START CODE "c2343" -->
<a id="c2343"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for more than the third time ...
</p></blockquote>
<!-- END CODE -->
<p>or similarly &quot;less than&quot;, &quot;at least&quot;, &quot;at most&quot;. It would be more natural, though, to say</p>
<!-- START CODE "c2344" -->
<a id="c2344"></a><blockquote class="code"><p class="quoted">
if the player has been in the Ballroom three times ...
</p></blockquote>
<!-- END CODE -->
<p>The adjective &quot;only&quot; (or equivalently &quot;exactly&quot;) can be added to obtain</p>
<!-- START CODE "c2345" -->
<a id="c2345"></a><blockquote class="code"><p class="quoted">
if the player has been in the Ballroom only three times ...
</p></blockquote>
<!-- END CODE -->
<p>To recap, this means there have been exactly three visits to the Ballroom in history, whereas</p>
<!-- START CODE "c2346" -->
<a id="c2346"></a><blockquote class="code"><p class="quoted">
if the player is in the Ballroom for the third time ...
</p></blockquote>
<!-- END CODE -->
<p>means there have been exactly three visits, the third of which is still going on - an important distinction.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "152: Infiltration" "e387" -->
<a id="e387"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example387'); return false;"><b>152</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example387'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Infiltration</span></b></a><br />A room whose description changes depending on the number of times the player has visited.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc8.html#e387"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example387" style="display: none;">
<p>Suppose we have a location that makes the player uncomfortable, and we want its description to change slightly each time he goes there, to reflect his increasing unease. We also want the door to that room to show whether he is going there for the first time, or whether this is a repeat visit.</p>
<p>We start with an ordinary room:</p>
<!-- START CODE "c2347_387" -->
<a id="c2347_387"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Infiltration[=0x0022=][=0x000A=][=0x000A=]The Wasteland is a room. [=0x0022=]In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.[=0x0022=][=0x000A=][=0x000A=][Now the door, which will change from saying [=0x0022=]leads inside...[=0x0022=] to [=0x0022=]leads back inside...[=0x0022=] when this becomes appropriate:][=0x000A=][=0x000A=]The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. [=0x0022=][if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].[=0x0022=][=0x000A=][=0x000A=][Here we haven[=0x0027=]t used any conditions that we didn[=0x0027=]t know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:][=0x000A=][=0x000A=]The Secure Zone has the description [=0x0022=][if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don[=0x0027=]t belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].[=0x0022=][=0x000A=][=0x000A=]Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.[=0x000A=][=0x000A=][And finally, to be sure that the player does see our fancy changing descriptions:][=0x000A=][=0x000A=]Use full-length room descriptions.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / open portal / w / look / e / look / w / e / w[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Infiltration&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2348_387" -->
<a id="c2348_387"></a><blockquote class="code"><p class="quoted">
The Wasteland is a room. &quot;In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now the door, which will change from saying &quot;leads inside...&quot; to &quot;leads back inside...&quot; when this becomes appropriate:</p>
<!-- START CODE "c2349_387" -->
<a id="c2349_387"></a><blockquote class="code"><p class="quoted">
The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. &quot;[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we haven't used any conditions that we didn't know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:</p>
<!-- START CODE "c2350_387" -->
<a id="c2350_387"></a><blockquote class="code"><p class="quoted">
The Secure Zone has the description &quot;[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2351_387" -->
<a id="c2351_387"></a><blockquote class="code"><p class="quoted">
Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.
</p></blockquote>
<!-- END CODE -->
<p>And finally, to be sure that the player does see our fancy changing descriptions:</p>
<!-- START CODE "c2352_387" -->
<a id="c2352_387"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2353_387" -->
<a id="c2353_387"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / open portal / w / look / e / look / w / e / w&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Notice that the description of the Secure Zone changes from visit to visit, but that looking repeatedly during a single visit changes nothing.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc147.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc149.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
