<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>5.4. Background</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Background" -->
<!-- SEARCH SECTION "5.4" -->
<!-- SEARCH SORT "001-005-004-000" -->
<!-- START IGNORE 25 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc25.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 5: The Viewpoint Character</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc27.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง5.4. Background</p>
<p>In IF, as in all interactive storytelling, an essential problem is that the player does not begin the story knowing everything that the player character should, and so may implausibly bumble through situations that the player character should be quite comfortable in. If the player character has friends, an unusual job, a home or environment we're not familiar with, a secret past, these will all be a blank to the player.</p>
<p>Some games get around this by making the player character an amnesiac, or positioning him as a newcomer to a strange world in which his disorientation is explicable; but there are stories that cannot be told this way, and so we need other methods of getting the player to know what the player character already does.</p>
<p>Our first opportunity to inform the player about the player character is in the opening text of a story:</p>
<!-- START CODE "c11221" -->
<a id="c11221"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;The funeral is exactly a month ago now, but Elise's shoes are still on the shoe tree.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We may also want to write descriptions of objects to give extra background information the first time the player encounters them:</p>
<!-- START CODE "c11222" -->
<a id="c11222"></a><blockquote class="code"><p class="quoted">
A thing can be examined or unexamined. A thing is usually unexamined. After examining something: now the noun is examined; continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11223" -->
<a id="c11223"></a><blockquote class="code"><p class="quoted">
The description of the newspaper is &quot;A rolled-up newspaper[if unexamined], and thus a symbol of your newly-single state: Elise always had it open and the Local Metro section next to your plate by the time you got out of the shower[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>To expand on this, we could give the player a THINK ABOUT or REMEMBER command, with which he can call up information about people he meets or references he encounters in descriptions, so that he could (for instance) next type REMEMBER ELISE. <span class="boldface">Merlin</span> demonstrates one way to implement a character with memory; <span class="boldface">One of Those Mornings</span> puts a twist on this by letting the player FIND things which he knows his character possessed at some time before the story started.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "277: Merlin" "e148" -->
<a id="e148"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example148'); return false;"><b>277</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example148'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Merlin</span></b></a><br />A REMEMBER command which accepts any text and looks up a response in a table of recollections.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc258.html#e148"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example148" style="display: none;">
<!-- START CODE "c11224_148" -->
<a id="c11224_148"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Merlin[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]remember [text][=0x0022=] as remembering.[=0x000A=][=0x000A=]Remembering is an action applying to one topic.[=0x000A=][=0x000A=]Carry out remembering:[=0x000A=][=0x0009=]say [=0x0022=]Nothing comes to mind.[=0x0022=].[=0x000A=][=0x000A=]Instead of remembering a topic listed in the Table of Recollections:[=0x000A=][=0x0009=]say [=0x0022=][response entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Table of Recollections[=0x000A=]Topic[=0x0009=]Response[=0x000A=][=0x0022=]rain/weather[=0x0022=][=0x0009=][=0x0022=]You[=0x0027=]ve seen worse, but not often: it[=0x0027=]s falling so hard now that the tin rattles and the runoff, on the low side of the roof, would be a tenable source of hydroelectric power.[=0x0022=][=0x000A=][=0x0022=]hydroelectric power[=0x0022=] or [=0x0022=]power/hydroelectric[=0x0022=][=0x0009=][=0x0022=]It[=0x0027=]s not as though you have any sort of light bulb in here to turn on, even if you could power it.[=0x0022=][=0x000A=][=0x0022=]light bulb[=0x0022=] or [=0x0022=]light/bulb[=0x0022=][=0x0009=][=0x0022=]Light bulbs, like so much else, are a thing of your past. Or is it your future? Tricky, the way the world loops round on itself.[=0x0022=][=0x000A=][=0x0022=]past/time/future[=0x0022=][=0x0009=][=0x0022=]Living backwards has its drawbacks. A tendency to confuse and annoy your friends, being one; the total inability to maintain a stable relationship; and a deep dissatisfaction with most of the bodily processes people enjoy, since they ultimately make you hungrier, colder, or-- no point dwelling on it, really.[=0x0022=][=0x000A=][=0x0022=]backwards[=0x0022=][=0x0009=][=0x0022=]It[=0x0027=]s not even exactly *backwards*, now is it? It[=0x0027=]s more like a series of forwardses stuck back to back. As though someone had taken each track of a CD and put them in the exactly wrong order. You miss that. The music on demand.[=0x0022=][=0x000A=][=0x000A=]The Inadequate Shelter is a room. [=0x0022=]A piece of corrugated tin, leaned on two sticks, and pathetically augmented with a tire (on one side) and a cardboard box (on the side towards the wind). And that[=0x0027=]s what you[=0x0027=]ve got between you and the driving rain.[=0x000A=][=0x000A=]At the moment rain is all you can remember, in fact.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]remember rain / remember power / remember light bulb / remember future / remember backwards[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Merlin&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11225_148" -->
<a id="c11225_148"></a><blockquote class="code"><p class="quoted">
Understand &quot;remember [text]&quot; as remembering.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11226_148" -->
<a id="c11226_148"></a><blockquote class="code"><p class="quoted">
Remembering is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11227_148" -->
<a id="c11227_148"></a><blockquote class="code"><p class="quoted">
Carry out remembering:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing comes to mind.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11228_148" -->
<a id="c11228_148"></a><blockquote class="code"><p class="quoted">
Instead of remembering a topic listed in the Table of Recollections:
<br />&#160;&#160;&#160;&#160;say &quot;[response entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11229_148" -->
<a id="c11229_148"></a><blockquote class="code"><p class="quoted">
Table of Recollections
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">Topic</p></td><td class="quotedtablecell"><p class="quoted">Response</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;rain/weather&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;You've seen worse, but not often: it's falling so hard now that the tin rattles and the runoff, on the low side of the roof, would be a tenable source of hydroelectric power.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;hydroelectric power&quot; or &quot;power/hydroelectric&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;It's not as though you have any sort of light bulb in here to turn on, even if you could power it.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;light bulb&quot; or &quot;light/bulb&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Light bulbs, like so much else, are a thing of your past. Or is it your future? Tricky, the way the world loops round on itself.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;past/time/future&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Living backwards has its drawbacks. A tendency to confuse and annoy your friends, being one; the total inability to maintain a stable relationship; and a deep dissatisfaction with most of the bodily processes people enjoy, since they ultimately make you hungrier, colder, or-- no point dwelling on it, really.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;backwards&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;It's not even exactly *backwards*, now is it? It's more like a series of forwardses stuck back to back. As though someone had taken each track of a CD and put them in the exactly wrong order. You miss that. The music on demand.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11230_148" -->
<a id="c11230_148"></a><blockquote class="code"><p class="quoted">
The Inadequate Shelter is a room. &quot;A piece of corrugated tin, leaned on two sticks, and pathetically augmented with a tire (on one side) and a cardboard box (on the side towards the wind). And that's what you've got between you and the driving rain.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11231_148" -->
<a id="c11231_148"></a><blockquote class="code"><p class="quoted">
At the moment rain is all you can remember, in fact.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11232_148" -->
<a id="c11232_148"></a><blockquote class="code"><p class="quoted">
Test me with &quot;remember rain / remember power / remember light bulb / remember future / remember backwards&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "301: One of Those Mornings" "e365" -->
<a id="e365"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example365'); return false;"><b>301</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example365'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">One of Those Mornings</span></b></a><br />A FIND command that allows the player to find a lost object anywhere</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc271.html#e365"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example365" style="display: none;">
<p>Suppose that, contrary to the usual rules of interactive fiction, we want to allow the player to discover the locations of things he hasn't actually seen yet:</p>
<!-- START CODE "c11233_365" -->
<a id="c11233_365"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]One of Those Mornings[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]find [any thing][=0x0022=] as finding.[=0x000A=][=0x000A=]Finding is an action applying to one visible thing.[=0x000A=][=0x000A=]Carry out finding:[=0x000A=][=0x0009=]if the player is carrying the noun:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You[=0x0027=]re holding [the noun]![=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You left [the noun] [if the noun is on a supporter]on[otherwise]in[end if] [the holder of the noun].[=0x0022=][=0x000A=][=0x000A=][The holder of the noun can be a room, a supporter, or a container: the phrase is not picky. We would want to be a little more careful if it were ever possible for an item to have been [=0x0022=]removed from play[=0x0022=] in our game, since then the holder could be nothing, and that would have odd results. In this particular example, though, that will not arise.][=0x000A=][=0x000A=][And that[=0x0027=]s it, as far as the find command goes. The rest is local color.][=0x000A=][=0x000A=]The Exhibition Room is a room. It contains a closed locked lockable transparent openable container called the display case. The display case contains a priceless pearl. The display case is scenery. The description of the Exhibition Room is [=0x0022=]By far the finest thing in the room is a priceless pearl in a glass display case. It should of course be yours[if key is not visible], if only you can remember where you hid the key[end if].[=0x0022=][=0x000A=][=0x000A=]The silver key unlocks the display case.[=0x000A=][=0x000A=]A jade vase, a teak chest, a bronze teakettle, and a child[=0x0027=]s burial casket are openable closed containers in the Exhibition Room.[=0x000A=][=0x000A=]After taking the pearl:[=0x000A=][=0x0009=]say [=0x0022=]The pearl rolls into your hand, gleaming in the oblique light; your fortune is made.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=][If we want to have the key found in different places when the game is replayed:][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]let the space be a random container which is not the display case;[=0x000A=][=0x0009=]move the silver key to the space.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]say [=0x0022=]Your watch ticks with maddening loudness.[=0x0022=][=0x000A=][=0x000A=]The time of day is 1:02 AM.[=0x000A=][=0x000A=]At 1:08 AM: say [=0x0022=]The security guard arrives to find you fumbling about with keys. Curses.[=0x0022=]; end the story.[=0x000A=][=0x000A=]Test me with [=0x0022=]find pearl / find teakettle / get teakettle / find teakettle / find key[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;One of Those Mornings&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11234_365" -->
<a id="c11234_365"></a><blockquote class="code"><p class="quoted">
Understand &quot;find [any thing]&quot; as finding.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11235_365" -->
<a id="c11235_365"></a><blockquote class="code"><p class="quoted">
Finding is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11236_365" -->
<a id="c11236_365"></a><blockquote class="code"><p class="quoted">
Carry out finding:
<br />&#160;&#160;&#160;&#160;if the player is carrying the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're holding [the noun]!&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You left [the noun] [if the noun is on a supporter]on[otherwise]in[end if] [the holder of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The holder of the noun can be a room, a supporter, or a container: the phrase is not picky. We would want to be a little more careful if it were ever possible for an item to have been &quot;removed from play&quot; in our game, since then the holder could be nothing, and that would have odd results. In this particular example, though, that will not arise.</p>
<p>And that's it, as far as the find command goes. The rest is local color.</p>
<!-- START CODE "c11237_365" -->
<a id="c11237_365"></a><blockquote class="code"><p class="quoted">
The Exhibition Room is a room. It contains a closed locked lockable transparent openable container called the display case. The display case contains a priceless pearl. The display case is scenery. The description of the Exhibition Room is &quot;By far the finest thing in the room is a priceless pearl in a glass display case. It should of course be yours[if key is not visible], if only you can remember where you hid the key[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11238_365" -->
<a id="c11238_365"></a><blockquote class="code"><p class="quoted">
The silver key unlocks the display case.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11239_365" -->
<a id="c11239_365"></a><blockquote class="code"><p class="quoted">
A jade vase, a teak chest, a bronze teakettle, and a child's burial casket are openable closed containers in the Exhibition Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11240_365" -->
<a id="c11240_365"></a><blockquote class="code"><p class="quoted">
After taking the pearl:
<br />&#160;&#160;&#160;&#160;say &quot;The pearl rolls into your hand, gleaming in the oblique light; your fortune is made.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>If we want to have the key found in different places when the game is replayed:</p>
<!-- START CODE "c11241_365" -->
<a id="c11241_365"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;let the space be a random container which is not the display case;
<br />&#160;&#160;&#160;&#160;move the silver key to the space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11242_365" -->
<a id="c11242_365"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;say &quot;Your watch ticks with maddening loudness.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11243_365" -->
<a id="c11243_365"></a><blockquote class="code"><p class="quoted">
The time of day is 1:02 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11244_365" -->
<a id="c11244_365"></a><blockquote class="code"><p class="quoted">
At 1:08 AM: say &quot;The security guard arrives to find you fumbling about with keys. Curses.&quot;; end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11245_365" -->
<a id="c11245_365"></a><blockquote class="code"><p class="quoted">
Test me with &quot;find pearl / find teakettle / get teakettle / find teakettle / find key&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc25.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc27.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
