<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>11.16. New conditions, new adjectives</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "New conditions, new adjectives" -->
<!-- SEARCH SECTION "11.16" -->
<!-- SEARCH SORT "000-011-016-000" -->
<!-- START IGNORE 173 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc173.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 11: Phrases</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc175.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง11.16. New conditions, new adjectives</p>
<p>We can create new conditions by defining a phrase with &quot;to decide whether&quot; (or equivalently &quot;to decide if&quot;):</p>
<!-- START CODE "c3021" -->
<a id="c3021"></a><blockquote class="code"><p class="quoted">
To decide whether danger lurks:
<br />&#160;&#160;&#160;&#160;if in darkness, decide yes;
<br />&#160;&#160;&#160;&#160;if the Control Room has been visited, decide no;
<br />&#160;&#160;&#160;&#160;decide yes.
</p></blockquote>
<!-- END CODE -->
<p>If the player is indeed in darkness, the decision is &quot;yes&quot; because the &quot;decide yes&quot; stops the process right there. We can now write, for instance,</p>
<!-- START CODE "c3022" -->
<a id="c3022"></a><blockquote class="code"><p class="quoted">
if danger lurks, ...
</p></blockquote>
<!-- END CODE -->
<p>In fact, &quot;danger lurks&quot; is now a condition as good as any other, and can be used wherever a condition would be given. Rules can apply only &quot;when danger lurks&quot;, for instance.</p>
<!-- START PHRASE "defn137" -->
<div class="definition"><a id="defn137"></a><p class="defnprototype"><b>yes</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>decide yes</b></p>
<!-- END PHRASE -->
<!-- definition of ph_yes -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition true.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn138" -->
<div class="definition"><a id="defn138"></a><p class="defnprototype"><b>no</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>decide no</b></p>
<!-- END PHRASE -->
<!-- definition of ph_no -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition false.</p>

<!-- end definition -->
</div>

<p>We can also supply definitions of adjectives like this. So far, new adjectives have been defined like so:</p>
<!-- START CODE "c3023" -->
<a id="c3023"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Definition: a supporter is occupied if it is described and something is on it.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> Definition: a supporter is occupied if it is described and something is on it.
</p></blockquote>
<!-- END CODE -->
<p>If we want to give a definition which involves more complex logic, we can use a special form allowing us to make arbitrary decisions. In this longer format, the same definition would look like so:</p>
<!-- START CODE "c3024" -->
<a id="c3024"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Definition: a supporter is occupied:[=0x000A=][=0x0009=]if it is undescribed, decide no;[=0x000A=][=0x0009=]if something is on it, decide yes;[=0x000A=][=0x0009=]decide no.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> Definition: a supporter is occupied:
<br />&#160;&#160;&#160;&#160;if it is undescribed, decide no;
<br />&#160;&#160;&#160;&#160;if something is on it, decide yes;
<br />&#160;&#160;&#160;&#160;decide no.
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;it&quot; refers to the supporter in question. Note that there are now two colons in this sentence, one after &quot;Definition&quot;, the other after the clause being defined. But that apart, it's a phrase like any other: it must end in &quot;yes&quot; or &quot;no&quot; just as the &quot;danger lurks&quot; example must. &quot;Decide no&quot; and &quot;decide yes&quot; are needed so often that they can be abbreviated by leaving out &quot;decide&quot;:</p>
<!-- START CODE "c3025" -->
<a id="c3025"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is occupied:
<br />&#160;&#160;&#160;&#160;if it is undescribed, no;
<br />&#160;&#160;&#160;&#160;if something is on it, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "179: Owen's Law" "e411" -->
<a id="e411"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example411'); return false;"><b>179</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example411'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Owen's Law</span></b></a><br />OUT always means "move to an outdoors room, or else to a room with more exits than this one has"; IN always means the opposite.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc37.html#e411"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example411" style="display: none;">
<p>Suppose we want the game to interpret &quot;GO OUT&quot; as &quot;move towards an outdoors room, or towards a room with more exits than the current room&quot;, while &quot;GO IN&quot; means &quot;move toward a room with fewer exits, or towards an indoors room&quot;. Thus going in repeatedly within a building would lead towards dead-ends, while going out repeatedly would lead towards the center of the building and then towards an exit to the outside world.</p>
<p>We start by encoding these rules as definitions:</p>
<!-- START CODE "c3026_411" -->
<a id="c3026_411"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Owen[=0x0027=]s Law[=0x0022=][=0x000A=][=0x000A=]A room can be indoors or outdoors. A room is usually indoors.[=0x000A=][=0x000A=]Definition: a room is outward:[=0x000A=][=0x0009=]if it is not adjacent, no;[=0x000A=][=0x0009=]if it is indoors and the location is outdoors, no;[=0x000A=][=0x0009=]if it is outdoors and the location is indoors, yes;[=0x000A=][=0x0009=]if the number of rooms adjacent to it is greater than the number of rooms adjacent to the location, yes;[=0x000A=][=0x0009=]otherwise no.[=0x000A=][=0x000A=]Definition: a room is inward:[=0x000A=][=0x0009=]if it is not adjacent, no;[=0x000A=][=0x0009=]if it is outdoors and the location is indoors, no;[=0x000A=][=0x0009=]if it is indoors and the location is outdoors, yes;[=0x000A=][=0x0009=]if the number of rooms adjacent to it is less than the number of rooms adjacent to the location, yes;[=0x000A=][=0x0009=]otherwise no.[=0x000A=][=0x000A=]Instead of going nowhere when the noun is outside: try exiting.[=0x000A=][=0x000A=]Instead of exiting when the player is in a room:[=0x000A=][=0x0009=]if at least one room is outward:[=0x000A=][=0x0009=][=0x0009=]let the destination be a random outward room;[=0x000A=][=0x0009=][=0x0009=]let the way be the best route from the location to[=0x0009=] the destination;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](that is, [way])[command clarification break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try going the way instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]It[=0x0027=]s not entirely obvious which way you mean. [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]carry out the listing available exits activity.[=0x000A=][=0x000A=]Instead of going inside when the room inside from the location is not a room and at least one room is inward:[=0x000A=][=0x0009=]if more than one room is inward:[=0x000A=][=0x0009=][=0x0009=]carry out the listing available exits activity;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let the destination be a random inward room;[=0x000A=][=0x0009=][=0x0009=]let the way be the best route from the location to the destination;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](that is, [way])[command clarification break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try going the way instead.[=0x000A=][=0x000A=]Instead of going nowhere:[=0x000A=][=0x0009=]carry out the listing available exits activity.[=0x000A=][=0x000A=][This [=0x0022=]listing available exits[=0x0022=] is a refinement borrowed from a future chapter, which allows us to specify special listing and printing rules:][=0x000A=][=0x000A=]Listing available exits is an activity.[=0x000A=][=0x000A=]Rule for listing available exits:[=0x000A=][=0x0009=]if going inside and an adjacent room is inward:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]From here [=0x0027=]in[=0x0027=] could reasonably mean [a list of adjacent inward rooms].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]if exiting and an adjacent room is outward:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]From here [=0x0027=]out[=0x0027=] could reasonably mean [a list of outward adjacent rooms].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]say [=0x0022=]From here you can go [a list of adjacent rooms].[=0x0022=][=0x000A=][=0x000A=]Before printing the name of a room (called the target) while listing available exits:[=0x000A=][=0x0009=]let aim be the best route from the location to the target;[=0x000A=][=0x0009=]say [=0x0022=][aim] to the [=0x0022=].[=0x000A=][=0x000A=]Rule for printing the name of an unvisited room which is not the location:[=0x000A=][=0x0009=]say [=0x0022=]unknown location[=0x0022=].[=0x000A=][=0x000A=]Dune is an outdoors room. [=0x0022=]Hundreds of feet of dune stretch west to the beach, crisscrossed with dune-buggy tracks and the footprints of birds. To the east is a low-lying, boxy concrete installation.[=0x0022=][=0x000A=][=0x000A=]Ocean Shores Military Installation is east of the Dune. It is an outdoors room. [=0x0022=]The World War II emplacements, built in case of Japanese invasion, have never been destroyed, though with all the weapons and furnishings gone it is difficult to make much sense of the original structure. A doorway leads west into concrete-lined darkness; a rusty but reliable ladder ascends to a walkway overlooking the sea.[=0x0022=][=0x000A=][=0x000A=]Walkway is above Ocean Shores Military Installation. [=0x0022=]From here you have a long view of the dunes and the Pacific Ocean, complete with the rotting hull of a long-stranded vessel.[=0x0022=][=0x000A=][=0x000A=]Dark Echoing Room is inside from Ocean Shores Military Installation. Dank Dripping Room is east of Dark Echoing Room. Narrow Room is south of Dark Echoing Room. Small Sealed Chamber is north of Dark Echoing Room. Room Smelling of Animal Urine is north of Dank Dripping Room. The description of a room is usually [=0x0022=]It is dark in here, and feels unsafe.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]e / u / d / in / s / out / n / out / e / in / out / out / out[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Owen's Law&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3027_411" -->
<a id="c3027_411"></a><blockquote class="code"><p class="quoted">
A room can be indoors or outdoors. A room is usually indoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3028_411" -->
<a id="c3028_411"></a><blockquote class="code"><p class="quoted">
Definition: a room is outward:
<br />&#160;&#160;&#160;&#160;if it is not adjacent, no;
<br />&#160;&#160;&#160;&#160;if it is indoors and the location is outdoors, no;
<br />&#160;&#160;&#160;&#160;if it is outdoors and the location is indoors, yes;
<br />&#160;&#160;&#160;&#160;if the number of rooms adjacent to it is greater than the number of rooms adjacent to the location, yes;
<br />&#160;&#160;&#160;&#160;otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3029_411" -->
<a id="c3029_411"></a><blockquote class="code"><p class="quoted">
Definition: a room is inward:
<br />&#160;&#160;&#160;&#160;if it is not adjacent, no;
<br />&#160;&#160;&#160;&#160;if it is outdoors and the location is indoors, no;
<br />&#160;&#160;&#160;&#160;if it is indoors and the location is outdoors, yes;
<br />&#160;&#160;&#160;&#160;if the number of rooms adjacent to it is less than the number of rooms adjacent to the location, yes;
<br />&#160;&#160;&#160;&#160;otherwise no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3030_411" -->
<a id="c3030_411"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere when the noun is outside: try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3031_411" -->
<a id="c3031_411"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in a room:
<br />&#160;&#160;&#160;&#160;if at least one room is outward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the destination be a random outward room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to	 the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It's not entirely obvious which way you mean. &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the listing available exits activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3032_411" -->
<a id="c3032_411"></a><blockquote class="code"><p class="quoted">
Instead of going inside when the room inside from the location is not a room and at least one room is inward:
<br />&#160;&#160;&#160;&#160;if more than one room is inward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;carry out the listing available exits activity;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the destination be a random inward room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the destination;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(that is, [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going the way instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3033_411" -->
<a id="c3033_411"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere:
<br />&#160;&#160;&#160;&#160;carry out the listing available exits activity.
</p></blockquote>
<!-- END CODE -->
<p>This &quot;listing available exits&quot; is a refinement borrowed from a future chapter, which allows us to specify special listing and printing rules:</p>
<!-- START CODE "c3034_411" -->
<a id="c3034_411"></a><blockquote class="code"><p class="quoted">
Listing available exits is an activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3035_411" -->
<a id="c3035_411"></a><blockquote class="code"><p class="quoted">
Rule for listing available exits:
<br />&#160;&#160;&#160;&#160;if going inside and an adjacent room is inward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From here 'in' could reasonably mean [a list of adjacent inward rooms].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;if exiting and an adjacent room is outward:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From here 'out' could reasonably mean [a list of outward adjacent rooms].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;say &quot;From here you can go [a list of adjacent rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3036_411" -->
<a id="c3036_411"></a><blockquote class="code"><p class="quoted">
Before printing the name of a room (called the target) while listing available exits:
<br />&#160;&#160;&#160;&#160;let aim be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;[aim] to the &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3037_411" -->
<a id="c3037_411"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of an unvisited room which is not the location:
<br />&#160;&#160;&#160;&#160;say &quot;unknown location&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3038_411" -->
<a id="c3038_411"></a><blockquote class="code"><p class="quoted">
Dune is an outdoors room. &quot;Hundreds of feet of dune stretch west to the beach, crisscrossed with dune-buggy tracks and the footprints of birds. To the east is a low-lying, boxy concrete installation.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3039_411" -->
<a id="c3039_411"></a><blockquote class="code"><p class="quoted">
Ocean Shores Military Installation is east of the Dune. It is an outdoors room. &quot;The World War II emplacements, built in case of Japanese invasion, have never been destroyed, though with all the weapons and furnishings gone it is difficult to make much sense of the original structure. A doorway leads west into concrete-lined darkness; a rusty but reliable ladder ascends to a walkway overlooking the sea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3040_411" -->
<a id="c3040_411"></a><blockquote class="code"><p class="quoted">
Walkway is above Ocean Shores Military Installation. &quot;From here you have a long view of the dunes and the Pacific Ocean, complete with the rotting hull of a long-stranded vessel.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3041_411" -->
<a id="c3041_411"></a><blockquote class="code"><p class="quoted">
Dark Echoing Room is inside from Ocean Shores Military Installation. Dank Dripping Room is east of Dark Echoing Room. Narrow Room is south of Dark Echoing Room. Small Sealed Chamber is north of Dark Echoing Room. Room Smelling of Animal Urine is north of Dank Dripping Room. The description of a room is usually &quot;It is dark in here, and feels unsafe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c3042_411" -->
<a id="c3042_411"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / u / d / in / s / out / n / out / e / in / out / out / out&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc173.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc175.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
