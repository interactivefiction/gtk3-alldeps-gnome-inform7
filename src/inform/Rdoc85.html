<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.6. Ropes</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Ropes" -->
<!-- SEARCH SECTION "10.6" -->
<!-- SEARCH SORT "001-010-006-000" -->
<!-- START IGNORE 84 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc84.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 10: Physics: Substances, Ropes, Energy and Weight</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc86.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง10.6. Ropes</p>
<p>Ropes, chains and similar long, thin, bendable items present three problems: they are like a liquid in that (unless unbreakable) they can be divided arbitrarily into smaller and smaller portions of themselves, they can be in two or more places at once (even in two or more rooms at once), and they can be tied down at either or both ends, allowing them to occupy an uneasy state in between being &quot;portable&quot; and &quot;fixed in place&quot;. Even when all this is simulated, they allow us to pull on one end and so to exert force at the other - allowing action-at-a-distance which Inform's realism rules would ordinarily forbid. Ropes are hard. And it is very difficult to imagine everything a player might try when given a fully practical rope with which to solve puzzles.</p>
<p><span class="boldface">Snip</span> solves the divisibility question, allowing string to be cut or retied into lengths of any size, with all the consequences for describing and understanding that this entails.</p>
<p><span class="boldface">Otranto</span> provides a lengthy but straightforward approach to the other rope-related issues, subject to the simplifying assumptions that a rope is indivisible, has about the length of the distance between two adjacent rooms, and cannot be tied to another rope.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "228: Otranto" "e56" -->
<a id="e56"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example56'); return false;"><b>228</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example56'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Otranto</span></b></a><br />A kind of rope which can be tied to objects and used to anchor the player or drag items from room to room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc204.html#e56"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example56" style="display: none;">
<p>The range of things one might want to do with a rope in a work of interactive fiction is fairly overwhelming. One might, in theory, swing from ropes; use them to tie containers shut; cut them up into smaller ropes; tie them together into longer ropes; employ them as fuses; bind other characters with them, or the player character.</p>
<p>Our rope implementation is, by these lights, reasonably simple, but it does account for the possibility of tying and untying both ends; using ropes to descend into lower rooms; pulling objects tied to the far end of the rope; and dragging objects from place to place.</p>
<!-- START CODE "c15521_56" -->
<a id="c15521_56"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Otranto[=0x0022=][=0x000A=][=0x000A=][We start by coming up with a rope.][=0x000A=][=0x000A=]A rope is a kind of thing.[=0x000A=][=0x000A=]Definition: a thing is nonrope if it is not a rope. [The perfect idiocy of this statement notwithstanding, having a shortcut will come in very handy later][=0x000A=][=0x000A=]Attachment relates things to each other in groups. The verb to be stuck to means the attachment relation.[=0x000A=][=0x000A=]Definition: a thing is tied if the number of things stuck to it is greater than 1.[=0x000A=][=0x000A=]Definition: a thing is free if it is not tied.[=0x000A=][=0x000A=]Definition: a rope is free if the number of nonrope things stuck to it is less than 2.[=0x000A=][=0x000A=]Definition: a thing is hindering if it is stuck to the noun and it is not within the location.[=0x000A=][=0x000A=]A thing can be round or unevenly shaped. A thing is usually round.[=0x000A=][=0x000A=]Definition: something is anchored if it is fixed in place or it is scenery or it is part of an anchored thing.[=0x000A=][=0x000A=]Definition: something is draggable if it is not had by the player and it is not the player and it is not anchored.[=0x000A=][=0x000A=][Now, we want a rope to be described in terms of the way it is tied, when it[=0x0027=]s described in a room description.][=0x000A=][=0x000A=]Rule for writing a paragraph about a rope (called the coil):[=0x000A=][=0x0009=]if the coil is stuck to something which is in a room (called the next room) which is not the location:[=0x000A=][=0x0009=][=0x0009=]let the way be the best route from the location to the next room;[=0x000A=][=0x0009=][=0x0009=]if the way is up or the way is down:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The coil] runs [way] into [the next room].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The coil] snakes across the floor [way] towards [the next room].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There is [a coil] here[if the coil is stuck to a visible nonrope thing], tied to [the list of nonrope visible things which are stuck to the coil][end if].[=0x0022=][=0x000A=][=0x000A=]To decide what room is the home of (item - a thing):[=0x000A=][=0x0009=]if item is a door:[=0x000A=][=0x0009=][=0x0009=]let front cut be the number of moves from the location to the front side of the item;[=0x000A=][=0x0009=][=0x0009=]let back cut be the number of moves from the location to the back side of the item;[=0x000A=][=0x0009=][=0x0009=]if front cut is -1, let front cut be 999;[=0x000A=][=0x0009=][=0x0009=]if back cut is -1, let back cut be 999;[=0x000A=][=0x0009=][=0x0009=]if the location encloses the item, decide on the location;[=0x000A=][=0x0009=][=0x0009=]if front cut is greater than back cut, decide on the back side of the item;[=0x000A=][=0x0009=][=0x0009=]decide on the front side of the item;[=0x000A=][=0x0009=]decide on the location of the item.[=0x000A=][=0x000A=]Rule for writing a paragraph about a nonrope thing (called the anchor) which is stuck to a rope (called the coil):[=0x000A=][=0x0009=]if the coil is in an adjacent room:[=0x000A=][=0x0009=][=0x0009=]let the next room be the home of the coil;[=0x000A=][=0x0009=][=0x0009=]let the way be the best route from the location to the next room;[=0x000A=][=0x0009=][=0x0009=]if the way is up or the way is down:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The coil] runs [way] from [the anchor] into [the next room].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From [the anchor] runs [a coil], heading off toward [the way].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if the coil is stuck to something which is not visible,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The coil] is tied to [the anchor][if the coil is stuck to something in an adjacent room (called the next room)], and from there runs off towards [the next room][end if].[=0x0022=][=0x000A=][=0x000A=][We need a way to account for it when it[=0x0027=]s being carried, as well.][=0x000A=][=0x000A=]After printing the name of a rope (called the tied object) while taking inventory:[=0x000A=][=0x0009=]if something nonrope is stuck to the tied object:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] (attached to [the list of nonrope things which are stuck to the tied object])[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] (with both ends free)[=0x0022=].[=0x000A=][=0x000A=][And, indeed, whenever the player examines a rope, we should see what[=0x0027=]s connected.][=0x000A=][=0x000A=]Instead of examining a rope (called the cord) when something is stuck to the cord:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is tied to [the list of secondary things which are stuck to the noun].[=0x0022=][=0x000A=][=0x000A=][Similarly, any time the player looks at something tied to a rope.][=0x000A=][=0x000A=]After examining the player when the player is stuck to something which is not the player:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re currently lashed to [the list of secondary things stuck to the noun].[=0x0022=][=0x000A=][=0x000A=]After examining something which is stuck to something secondary:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is currently attached to [the list of secondary things stuck to the noun].[=0x0022=][=0x000A=][=0x000A=][We also need to make sure that the rope can be interacted with properly even when it[=0x0027=]s partly in the next room.][=0x000A=][=0x000A=]After deciding the scope of the player:[=0x000A=][=0x0009=]if something stuck to a rope (called the coil) is in the location, place the coil in scope.[=0x000A=][=0x000A=]A reaching inside rule:[=0x000A=][=0x0009=]if the noun is a rope:[=0x000A=][=0x0009=][=0x0009=]let the anchor be a random visible thing stuck to the noun;[=0x000A=][=0x0009=][=0x0009=]if the anchor is touchable, allow access.[=0x000A=][=0x000A=][Now tying:][=0x000A=][=0x000A=]Before tying something to a rope:[=0x000A=][=0x0009=]if the noun is stuck to the second noun, say [=0x0022=][The noun] and [the second noun] are already tied together.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not free, say [=0x0022=][The second noun] has no ends free.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is round, say [=0x0022=]You can[=0x0027=]t realistically tie anything to [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of tying a rope to something:[=0x000A=][=0x0009=]try tying the second noun to the noun.[=0x000A=][=0x000A=]Instead of tying something to a rope:[=0x000A=][=0x0009=]now the noun is stuck to the second noun;[=0x000A=][=0x0009=]say [=0x0022=]You loop [the second noun] around [the noun] and knot firmly.[=0x0022=][=0x000A=][=0x000A=][=0x000A=]Instead of tying something to a nonrope tied thing:[=0x000A=][=0x0009=]let the coil be a random rope stuck to the second noun;[=0x000A=][=0x0009=]try tying the noun to the coil.[=0x000A=][=0x000A=]Instead of tying a nonrope tied thing to something:[=0x000A=][=0x0009=]let the coil be a random rope stuck to the noun;[=0x000A=][=0x0009=]try tying the second noun to the coil.[=0x000A=][=0x000A=]Instead of tying a free nonrope thing to a free nonrope thing:[=0x000A=][=0x0009=]if the player carries a free rope (called the coil):[=0x000A=][=0x0009=][=0x0009=]try tying the noun to the coil;[=0x000A=][=0x0009=][=0x0009=]if the noun is stuck to the coil and the coil is free:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]try tying the second noun to the coil;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You lack the requisite spare rope.[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]untie [something] from [something][=0x0022=] as untying it from. Understand [=0x0022=]untie [something][=0x0022=] as untying  it from.[=0x000A=][=0x000A=]Rule for supplying a missing second noun while untying something from:[=0x000A=][=0x0009=]if the number of secondary things stuck to the noun is 0, say [=0x0022=][The noun] is already entirely free.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is a rope:[=0x000A=][=0x0009=][=0x0009=]if the number of touchable nonrope things which are stuck to the noun [=0x003E=] 1:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You[=0x0027=]ll have to say which thing you want to untie [the noun] from.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]rule fails;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the number of touchable nonrope things stuck to the noun is 0, say [=0x0022=]You can[=0x0027=]t reach [the random nonrope thing stuck to the noun].[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let the tied object be a random touchable nonrope thing which is stuck to the noun;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](from [the tied object])[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the second noun is the tied object;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if the noun is stuck to a rope (called the tied object):[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](from [the tied object])[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the second noun is the tied object.[=0x000A=][=0x000A=]Untying it from is an action applying to two things.[=0x000A=][=0x000A=]Before untying a rope from something: try untying the second noun from the noun instead.[=0x000A=][=0x000A=]Before untying something from a rope:[=0x000A=][=0x0009=]if the second noun is not held:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](first picking up [the second noun])[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try taking the second noun.[=0x000A=][=0x000A=]Check untying it from:[=0x000A=][=0x0009=]unless the noun is stuck to the second noun or the second noun is stuck to the noun,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] and [the second noun] are already not tied together.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out untying it from:[=0x000A=][=0x0009=]now the noun is not stuck to the second noun.[=0x000A=][=0x000A=]Report untying it from:[=0x000A=][=0x0009=]say [=0x0022=]Untied.[=0x0022=][=0x000A=][=0x000A=][=0x000A=][Another part of the fun of a rope is that you can drag things from another room:][=0x000A=][=0x000A=]After reading a command: now every thing is unmentioned.[=0x000A=][=0x000A=]Before pulling something anchored: say [=0x0022=][The noun] is firmly anchored.[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of pulling something tied:[=0x000A=][=0x0009=]if the noun is unmentioned:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The impulse is transmitted to [the list of pullable things stuck to the noun].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]repeat with item running through pullable things stuck to the noun:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][item]: [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]try pulling the item;[=0x000A=][=0x0009=][=0x0009=]if the noun is a rope and the noun is not within the location:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the number of nonrope hindering things is 0, move the noun to the location;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Before pulling something which is not visible:[=0x000A=][=0x0009=]if the noun is anchored:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] resists, for whatever reason.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let space be the holder of the noun;[=0x000A=][=0x0009=][=0x0009=]let way be the best route from the space to the location;[=0x000A=][=0x0009=][=0x0009=]if the way is a direction:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]move the noun to the location;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The noun] [if the way is up]rises[otherwise]slides[end if] into view.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]move the noun to the location;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The noun] slides into view.[=0x0022=] instead.[=0x000A=][=0x000A=]Definition: a thing is secondary if it is not the noun.  Definition: a thing is pullable if it is not the noun and it is not the player.[=0x000A=][=0x000A=][A player who is tied to things should also have some restrictions on his ability to move.][=0x000A=][=0x000A=]Before going a direction (called the way) when the player has something (called the link) which is stuck to something anchored (called the anchor):[=0x000A=][=0x0009=]let the next room be the home of the anchor;[=0x000A=][=0x0009=]if the next room is not a room, continue the action;[=0x000A=][=0x0009=]if the next room is the location:[=0x000A=][=0x0009=][=0x0009=]if the link is stuck to at least two anchored things,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t go far while you[=0x0027=]re carrying [the link] tied to [the list of anchored things stuck to the link].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let the safe way be the best route from the location to the next room;[=0x000A=][=0x0009=][=0x0009=]if the safe way is the way:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the player is not stuck to the anchor, say [=0x0022=](coiling up your rope again as you go...)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the safe way is a direction,[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]While you have [the link] you can[=0x0027=]t really head any direction but [best route from the location to the next room].[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise say [=0x0022=]You[=0x0027=]re tied up here.[=0x0022=] instead.[=0x000A=][=0x000A=]Before going a direction (called the way) when the player is stuck to something anchored (called the anchor):[=0x000A=][=0x0009=]let the next room be the home of the anchor;[=0x000A=][=0x0009=]if the next room is not a room, continue the action;[=0x000A=][=0x0009=]if the next room is the location:[=0x000A=][=0x0009=][=0x0009=]if the player is stuck to at least two anchored things,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t go far while you[=0x0027=]re tied to [the list of anchored things stuck to the player].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if the best route from the location to the next room is the way:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](coiling up your rope again as you go...)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]Your attachments prevent you going any way but [best route from the location to the next room].[=0x0022=] instead.[=0x000A=][=0x000A=][Sometimes, if the player is tied to a movable object, the moved object will move with him.][=0x000A=][=0x000A=]After going somewhere when the player has something (called the link) which is stuck to something draggable:[=0x000A=][=0x0009=]if the player is not stuck to the link:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You drag along behind you [the list of draggable things which are stuck to the link].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now every draggable thing which is stuck to the link is in the location;[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Report going somewhere when the player is stuck to something draggable:[=0x000A=][=0x0009=]say [=0x0022=]You drag along behind you [the list of draggable things which are stuck to the player].[=0x0022=];[=0x000A=][=0x0009=]now every draggable thing which is stuck to the player is in the location.[=0x000A=][=0x000A=][And now the actual game and puzzles.][=0x000A=][=0x000A=]Use full-length room descriptions.[=0x000A=][=0x000A=]The Fallow Field is a room. [=0x0022=]The very land is gloomy, the earth plowed into untended rows that yield no fruit, shadowed by the castle to the north. A chasm, no doubt the product of some upheaval of the earth, opens before your feet.[=0x0022=]. An oak stump is fixed in place in the Field. [=0x0022=]From an oak stump, a few hopeful shoots grow.[=0x0022=] A hempen rope is a rope in the field. It is stuck to the oak stump and the wooden chest. The stump is unevenly shaped.[=0x000A=][=0x000A=]The Chasm is below the Field. [=0x0022=]Your person is most uncomfortably pressed on every side by the closeness of the walls; to which you may add as a further inconvenience, that the irregularity of the floor making it difficult to walk upright.[=0x0022=] An iron key is in the Chasm. [=0x0022=]An iron key nestles in the cleft of earth, its age indicated by its implausibly great size.[=0x0022=][=0x000A=][=0x000A=]The wooden chest is a unevenly shaped closed openable container in the Chasm. The description of the wooden chest is [=0x0022=]A handsome, solid case not long committed to its dank enclosure, or it would long since have rotted.[=0x0022=] Rule for printing the name of the wooden chest when the chest is not handled: say [=0x0022=]deadweight[=0x0022=]. Understand [=0x0022=]dead[=0x0022=] or [=0x0022=]weight[=0x0022=] or [=0x0022=]deadweight[=0x0022=] as the chest. Before pulling the wooden chest: now the chest is handled.[=0x000A=][=0x000A=]In the chest is a heavy dagger. The description of the dagger is [=0x0022=]Set with red jewels and of a wicked aspect.[=0x0022=][=0x000A=][=0x000A=]Before going down from the Field when the player is not stuck to something anchored:[=0x000A=][=0x0009=]say [=0x0022=]You don[=0x0027=]t quite dare simply leap into the darkness without some anchor.[=0x0022=] instead.[=0x000A=][=0x000A=]Before going down from the Field:[=0x000A=][=0x0009=]let anchor be a random anchored thing which is stuck to the player;[=0x000A=][=0x0009=]say [=0x0022=]You lower yourself gingerly, hoping that [the anchor] holds your weight...[=0x0022=][=0x000A=][=0x000A=]Before going up from the Chasm:[=0x000A=][=0x0009=]if the player cannot touch a rope which is stuck to an anchored thing which is in the Field, say [=0x0022=]And how, precisely, do you mean to do that?[=0x0022=] instead.[=0x000A=][=0x000A=]The Castle Hall is north of the Field. [=0x0022=]All is desolate: the great hall has no roof, nor is there any glass in the windows. A staircase without banister ascends inside the wall to a musician[=0x0027=]s gallery without song.[=0x0022=][=0x000A=][=0x000A=]The Musician[=0x0027=]s Gallery is above the Castle Hall. [=0x0022=]Of its former cheery aspect only this remains to the Gallery: that chevrons of red and yellow are painted on the wall. But as these are streaked with rain and grime, the banister pulled away, the roof open to the sky, and the corners made a nesting place for birds, the consolation thereby afforded is but slight.[=0x0022=][=0x000A=][=0x000A=]The pointed door is north of the Musician[=0x0027=]s Gallery and south of the Sinister Attic. It is a closed locked openable door. [=0x0022=]A pointed door of particularly grim and uninviting aspect leads north.[=0x0022=] The pointed door is lockable and unevenly shaped. The description of the pointed door is [=0x0022=]A door coming to a gothic point and fitted with iron fittings of great strength. The handle looks particularly well-attached.[=0x0022=] The iron key unlocks the pointed door.[=0x000A=][=0x000A=]A rule for reaching inside the Musician[=0x0027=]s Gallery:[=0x000A=][=0x0009=]allow access.[=0x000A=][=0x000A=]A rule for reaching inside the Sinister Attic:[=0x000A=][=0x0009=]allow access.[=0x000A=][=0x000A=]Instead of opening the pointed door for the first time:[=0x000A=][=0x0009=]say [=0x0022=]When you rattle at the door, there arises from beyond a terrible shrill noise as though something beyond exults in its imminent release.[=0x0022=][=0x000A=][=0x000A=]After opening the trapped pointed door when the player can see the pointed door:[=0x000A=][=0x0009=]say [=0x0022=]Thousands of bats fly from the pointed door, attacking you![=0x0022=];[=0x000A=][=0x0009=]end the story.[=0x000A=][=0x000A=]After opening the pointed door when the player cannot see the pointed door: now the pointed door is untrapped; continue the action.[=0x000A=][=0x000A=]The pointed door can be trapped or untrapped. The pointed door is trapped.[=0x000A=][=0x000A=]Before pulling the pointed door: try opening the pointed door instead.[=0x000A=][=0x000A=]The player is unevenly shaped.[=0x000A=][=0x000A=]After going to the sinister attic:[=0x000A=][=0x0009=]say [=0x0022=]You have arrived at the goal of your quest![=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / tie rope to door / down / pull rope / up / north[=0x0022=].[=0x000A=][=0x000A=]Test death with [=0x0022=]x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / g[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Otranto&quot;
</p></blockquote>
<!-- END CODE -->
<p>We start by coming up with a rope.</p>
<!-- START CODE "c15522_56" -->
<a id="c15522_56"></a><blockquote class="code"><p class="quoted">
A rope is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15523_56" -->
<a id="c15523_56"></a><blockquote class="code"><p class="quoted">
Definition: a thing is nonrope if it is not a rope. [The perfect idiocy of this statement notwithstanding, having a shortcut will come in very handy later]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15524_56" -->
<a id="c15524_56"></a><blockquote class="code"><p class="quoted">
Attachment relates things to each other in groups. The verb to be stuck to means the attachment relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15525_56" -->
<a id="c15525_56"></a><blockquote class="code"><p class="quoted">
Definition: a thing is tied if the number of things stuck to it is greater than 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15526_56" -->
<a id="c15526_56"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free if it is not tied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15527_56" -->
<a id="c15527_56"></a><blockquote class="code"><p class="quoted">
Definition: a rope is free if the number of nonrope things stuck to it is less than 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15528_56" -->
<a id="c15528_56"></a><blockquote class="code"><p class="quoted">
Definition: a thing is hindering if it is stuck to the noun and it is not within the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15529_56" -->
<a id="c15529_56"></a><blockquote class="code"><p class="quoted">
A thing can be round or unevenly shaped. A thing is usually round.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15530_56" -->
<a id="c15530_56"></a><blockquote class="code"><p class="quoted">
Definition: something is anchored if it is fixed in place or it is scenery or it is part of an anchored thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15531_56" -->
<a id="c15531_56"></a><blockquote class="code"><p class="quoted">
Definition: something is draggable if it is not had by the player and it is not the player and it is not anchored.
</p></blockquote>
<!-- END CODE -->
<p>Now, we want a rope to be described in terms of the way it is tied, when it's described in a room description.</p>
<!-- START CODE "c15532_56" -->
<a id="c15532_56"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a rope (called the coil):
<br />&#160;&#160;&#160;&#160;if the coil is stuck to something which is in a room (called the next room) which is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up or the way is down:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] runs [way] into [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] snakes across the floor [way] towards [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is [a coil] here[if the coil is stuck to a visible nonrope thing], tied to [the list of nonrope visible things which are stuck to the coil][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15533_56" -->
<a id="c15533_56"></a><blockquote class="code"><p class="quoted">
To decide what room is the home of (item - a thing):
<br />&#160;&#160;&#160;&#160;if item is a door:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let front cut be the number of moves from the location to the front side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let back cut be the number of moves from the location to the back side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if front cut is -1, let front cut be 999;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if back cut is -1, let back cut be 999;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the location encloses the item, decide on the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if front cut is greater than back cut, decide on the back side of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the front side of the item;
<br />&#160;&#160;&#160;&#160;decide on the location of the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15534_56" -->
<a id="c15534_56"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a nonrope thing (called the anchor) which is stuck to a rope (called the coil):
<br />&#160;&#160;&#160;&#160;if the coil is in an adjacent room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the next room be the home of the coil;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is up or the way is down:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] runs [way] from [the anchor] into [the next room].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From [the anchor] runs [a coil], heading off toward [the way].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the coil is stuck to something which is not visible,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The coil] is tied to [the anchor][if the coil is stuck to something in an adjacent room (called the next room)], and from there runs off towards [the next room][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We need a way to account for it when it's being carried, as well.</p>
<!-- START CODE "c15535_56" -->
<a id="c15535_56"></a><blockquote class="code"><p class="quoted">
After printing the name of a rope (called the tied object) while taking inventory:
<br />&#160;&#160;&#160;&#160;if something nonrope is stuck to the tied object:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (attached to [the list of nonrope things which are stuck to the tied object])&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (with both ends free)&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And, indeed, whenever the player examines a rope, we should see what's connected.</p>
<!-- START CODE "c15536_56" -->
<a id="c15536_56"></a><blockquote class="code"><p class="quoted">
Instead of examining a rope (called the cord) when something is stuck to the cord:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is tied to [the list of secondary things which are stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Similarly, any time the player looks at something tied to a rope.</p>
<!-- START CODE "c15537_56" -->
<a id="c15537_56"></a><blockquote class="code"><p class="quoted">
After examining the player when the player is stuck to something which is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;You're currently lashed to [the list of secondary things stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15538_56" -->
<a id="c15538_56"></a><blockquote class="code"><p class="quoted">
After examining something which is stuck to something secondary:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is currently attached to [the list of secondary things stuck to the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We also need to make sure that the rope can be interacted with properly even when it's partly in the next room.</p>
<!-- START CODE "c15539_56" -->
<a id="c15539_56"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if something stuck to a rope (called the coil) is in the location, place the coil in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15540_56" -->
<a id="c15540_56"></a><blockquote class="code"><p class="quoted">
A reaching inside rule:
<br />&#160;&#160;&#160;&#160;if the noun is a rope:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the anchor be a random visible thing stuck to the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the anchor is touchable, allow access.
</p></blockquote>
<!-- END CODE -->
<p>Now tying:</p>
<!-- START CODE "c15541_56" -->
<a id="c15541_56"></a><blockquote class="code"><p class="quoted">
Before tying something to a rope:
<br />&#160;&#160;&#160;&#160;if the noun is stuck to the second noun, say &quot;[The noun] and [the second noun] are already tied together.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not free, say &quot;[The second noun] has no ends free.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is round, say &quot;You can't realistically tie anything to [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15542_56" -->
<a id="c15542_56"></a><blockquote class="code"><p class="quoted">
Instead of tying a rope to something:
<br />&#160;&#160;&#160;&#160;try tying the second noun to the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15543_56" -->
<a id="c15543_56"></a><blockquote class="code"><p class="quoted">
Instead of tying something to a rope:
<br />&#160;&#160;&#160;&#160;now the noun is stuck to the second noun;
<br />&#160;&#160;&#160;&#160;say &quot;You loop [the second noun] around [the noun] and knot firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15544_56" -->
<a id="c15544_56"></a><blockquote class="code"><p class="quoted">
Instead of tying something to a nonrope tied thing:
<br />&#160;&#160;&#160;&#160;let the coil be a random rope stuck to the second noun;
<br />&#160;&#160;&#160;&#160;try tying the noun to the coil.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15545_56" -->
<a id="c15545_56"></a><blockquote class="code"><p class="quoted">
Instead of tying a nonrope tied thing to something:
<br />&#160;&#160;&#160;&#160;let the coil be a random rope stuck to the noun;
<br />&#160;&#160;&#160;&#160;try tying the second noun to the coil.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15546_56" -->
<a id="c15546_56"></a><blockquote class="code"><p class="quoted">
Instead of tying a free nonrope thing to a free nonrope thing:
<br />&#160;&#160;&#160;&#160;if the player carries a free rope (called the coil):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try tying the noun to the coil;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is stuck to the coil and the coil is free:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try tying the second noun to the coil;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You lack the requisite spare rope.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15547_56" -->
<a id="c15547_56"></a><blockquote class="code"><p class="quoted">
Understand &quot;untie [something] from [something]&quot; as untying it from. Understand &quot;untie [something]&quot; as untying  it from.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15548_56" -->
<a id="c15548_56"></a><blockquote class="code"><p class="quoted">
Rule for supplying a missing second noun while untying something from:
<br />&#160;&#160;&#160;&#160;if the number of secondary things stuck to the noun is 0, say &quot;[The noun] is already entirely free.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is a rope:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of touchable nonrope things which are stuck to the noun &gt; 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You'll have to say which thing you want to untie [the noun] from.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule fails;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of touchable nonrope things stuck to the noun is 0, say &quot;You can't reach [the random nonrope thing stuck to the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the tied object be a random touchable nonrope thing which is stuck to the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(from [the tied object])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the second noun is the tied object;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is stuck to a rope (called the tied object):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(from [the tied object])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the second noun is the tied object.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15549_56" -->
<a id="c15549_56"></a><blockquote class="code"><p class="quoted">
Untying it from is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15550_56" -->
<a id="c15550_56"></a><blockquote class="code"><p class="quoted">
Before untying a rope from something: try untying the second noun from the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15551_56" -->
<a id="c15551_56"></a><blockquote class="code"><p class="quoted">
Before untying something from a rope:
<br />&#160;&#160;&#160;&#160;if the second noun is not held:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first picking up [the second noun])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try taking the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15552_56" -->
<a id="c15552_56"></a><blockquote class="code"><p class="quoted">
Check untying it from:
<br />&#160;&#160;&#160;&#160;unless the noun is stuck to the second noun or the second noun is stuck to the noun,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] and [the second noun] are already not tied together.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15553_56" -->
<a id="c15553_56"></a><blockquote class="code"><p class="quoted">
Carry out untying it from:
<br />&#160;&#160;&#160;&#160;now the noun is not stuck to the second noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15554_56" -->
<a id="c15554_56"></a><blockquote class="code"><p class="quoted">
Report untying it from:
<br />&#160;&#160;&#160;&#160;say &quot;Untied.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Another part of the fun of a rope is that you can drag things from another room:</p>
<!-- START CODE "c15555_56" -->
<a id="c15555_56"></a><blockquote class="code"><p class="quoted">
After reading a command: now every thing is unmentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15556_56" -->
<a id="c15556_56"></a><blockquote class="code"><p class="quoted">
Before pulling something anchored: say &quot;[The noun] is firmly anchored.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15557_56" -->
<a id="c15557_56"></a><blockquote class="code"><p class="quoted">
Instead of pulling something tied:
<br />&#160;&#160;&#160;&#160;if the noun is unmentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The impulse is transmitted to [the list of pullable things stuck to the noun].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through pullable things stuck to the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[item]: [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try pulling the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is a rope and the noun is not within the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of nonrope hindering things is 0, move the noun to the location;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15558_56" -->
<a id="c15558_56"></a><blockquote class="code"><p class="quoted">
Before pulling something which is not visible:
<br />&#160;&#160;&#160;&#160;if the noun is anchored:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] resists, for whatever reason.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let space be the holder of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the space to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the way is a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] [if the way is up]rises[otherwise]slides[end if] into view.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] slides into view.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15559_56" -->
<a id="c15559_56"></a><blockquote class="code"><p class="quoted">
Definition: a thing is secondary if it is not the noun.  Definition: a thing is pullable if it is not the noun and it is not the player.
</p></blockquote>
<!-- END CODE -->
<p>A player who is tied to things should also have some restrictions on his ability to move.</p>
<!-- START CODE "c15560_56" -->
<a id="c15560_56"></a><blockquote class="code"><p class="quoted">
Before going a direction (called the way) when the player has something (called the link) which is stuck to something anchored (called the anchor):
<br />&#160;&#160;&#160;&#160;let the next room be the home of the anchor;
<br />&#160;&#160;&#160;&#160;if the next room is not a room, continue the action;
<br />&#160;&#160;&#160;&#160;if the next room is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the link is stuck to at least two anchored things,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't go far while you're carrying [the link] tied to [the list of anchored things stuck to the link].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the safe way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the safe way is the way:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is not stuck to the anchor, say &quot;(coiling up your rope again as you go...)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the safe way is a direction,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;While you have [the link] you can't really head any direction but [best route from the location to the next room].&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You're tied up here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15561_56" -->
<a id="c15561_56"></a><blockquote class="code"><p class="quoted">
Before going a direction (called the way) when the player is stuck to something anchored (called the anchor):
<br />&#160;&#160;&#160;&#160;let the next room be the home of the anchor;
<br />&#160;&#160;&#160;&#160;if the next room is not a room, continue the action;
<br />&#160;&#160;&#160;&#160;if the next room is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is stuck to at least two anchored things,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't go far while you're tied to [the list of anchored things stuck to the player].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the best route from the location to the next room is the way:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(coiling up your rope again as you go...)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your attachments prevent you going any way but [best route from the location to the next room].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Sometimes, if the player is tied to a movable object, the moved object will move with him.</p>
<!-- START CODE "c15562_56" -->
<a id="c15562_56"></a><blockquote class="code"><p class="quoted">
After going somewhere when the player has something (called the link) which is stuck to something draggable:
<br />&#160;&#160;&#160;&#160;if the player is not stuck to the link:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You drag along behind you [the list of draggable things which are stuck to the link].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every draggable thing which is stuck to the link is in the location;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15563_56" -->
<a id="c15563_56"></a><blockquote class="code"><p class="quoted">
Report going somewhere when the player is stuck to something draggable:
<br />&#160;&#160;&#160;&#160;say &quot;You drag along behind you [the list of draggable things which are stuck to the player].&quot;;
<br />&#160;&#160;&#160;&#160;now every draggable thing which is stuck to the player is in the location.
</p></blockquote>
<!-- END CODE -->
<p>And now the actual game and puzzles.</p>
<!-- START CODE "c15564_56" -->
<a id="c15564_56"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15565_56" -->
<a id="c15565_56"></a><blockquote class="code"><p class="quoted">
The Fallow Field is a room. &quot;The very land is gloomy, the earth plowed into untended rows that yield no fruit, shadowed by the castle to the north. A chasm, no doubt the product of some upheaval of the earth, opens before your feet.&quot;. An oak stump is fixed in place in the Field. &quot;From an oak stump, a few hopeful shoots grow.&quot; A hempen rope is a rope in the field. It is stuck to the oak stump and the wooden chest. The stump is unevenly shaped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15566_56" -->
<a id="c15566_56"></a><blockquote class="code"><p class="quoted">
The Chasm is below the Field. &quot;Your person is most uncomfortably pressed on every side by the closeness of the walls; to which you may add as a further inconvenience, that the irregularity of the floor making it difficult to walk upright.&quot; An iron key is in the Chasm. &quot;An iron key nestles in the cleft of earth, its age indicated by its implausibly great size.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15567_56" -->
<a id="c15567_56"></a><blockquote class="code"><p class="quoted">
The wooden chest is a unevenly shaped closed openable container in the Chasm. The description of the wooden chest is &quot;A handsome, solid case not long committed to its dank enclosure, or it would long since have rotted.&quot; Rule for printing the name of the wooden chest when the chest is not handled: say &quot;deadweight&quot;. Understand &quot;dead&quot; or &quot;weight&quot; or &quot;deadweight&quot; as the chest. Before pulling the wooden chest: now the chest is handled.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15568_56" -->
<a id="c15568_56"></a><blockquote class="code"><p class="quoted">
In the chest is a heavy dagger. The description of the dagger is &quot;Set with red jewels and of a wicked aspect.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15569_56" -->
<a id="c15569_56"></a><blockquote class="code"><p class="quoted">
Before going down from the Field when the player is not stuck to something anchored:
<br />&#160;&#160;&#160;&#160;say &quot;You don't quite dare simply leap into the darkness without some anchor.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15570_56" -->
<a id="c15570_56"></a><blockquote class="code"><p class="quoted">
Before going down from the Field:
<br />&#160;&#160;&#160;&#160;let anchor be a random anchored thing which is stuck to the player;
<br />&#160;&#160;&#160;&#160;say &quot;You lower yourself gingerly, hoping that [the anchor] holds your weight...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15571_56" -->
<a id="c15571_56"></a><blockquote class="code"><p class="quoted">
Before going up from the Chasm:
<br />&#160;&#160;&#160;&#160;if the player cannot touch a rope which is stuck to an anchored thing which is in the Field, say &quot;And how, precisely, do you mean to do that?&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15572_56" -->
<a id="c15572_56"></a><blockquote class="code"><p class="quoted">
The Castle Hall is north of the Field. &quot;All is desolate: the great hall has no roof, nor is there any glass in the windows. A staircase without banister ascends inside the wall to a musician's gallery without song.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15573_56" -->
<a id="c15573_56"></a><blockquote class="code"><p class="quoted">
The Musician's Gallery is above the Castle Hall. &quot;Of its former cheery aspect only this remains to the Gallery: that chevrons of red and yellow are painted on the wall. But as these are streaked with rain and grime, the banister pulled away, the roof open to the sky, and the corners made a nesting place for birds, the consolation thereby afforded is but slight.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15574_56" -->
<a id="c15574_56"></a><blockquote class="code"><p class="quoted">
The pointed door is north of the Musician's Gallery and south of the Sinister Attic. It is a closed locked openable door. &quot;A pointed door of particularly grim and uninviting aspect leads north.&quot; The pointed door is lockable and unevenly shaped. The description of the pointed door is &quot;A door coming to a gothic point and fitted with iron fittings of great strength. The handle looks particularly well-attached.&quot; The iron key unlocks the pointed door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15575_56" -->
<a id="c15575_56"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the Musician's Gallery:
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15576_56" -->
<a id="c15576_56"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the Sinister Attic:
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15577_56" -->
<a id="c15577_56"></a><blockquote class="code"><p class="quoted">
Instead of opening the pointed door for the first time:
<br />&#160;&#160;&#160;&#160;say &quot;When you rattle at the door, there arises from beyond a terrible shrill noise as though something beyond exults in its imminent release.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15578_56" -->
<a id="c15578_56"></a><blockquote class="code"><p class="quoted">
After opening the trapped pointed door when the player can see the pointed door:
<br />&#160;&#160;&#160;&#160;say &quot;Thousands of bats fly from the pointed door, attacking you!&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15579_56" -->
<a id="c15579_56"></a><blockquote class="code"><p class="quoted">
After opening the pointed door when the player cannot see the pointed door: now the pointed door is untrapped; continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15580_56" -->
<a id="c15580_56"></a><blockquote class="code"><p class="quoted">
The pointed door can be trapped or untrapped. The pointed door is trapped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15581_56" -->
<a id="c15581_56"></a><blockquote class="code"><p class="quoted">
Before pulling the pointed door: try opening the pointed door instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15582_56" -->
<a id="c15582_56"></a><blockquote class="code"><p class="quoted">
The player is unevenly shaped.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15583_56" -->
<a id="c15583_56"></a><blockquote class="code"><p class="quoted">
After going to the sinister attic:
<br />&#160;&#160;&#160;&#160;say &quot;You have arrived at the goal of your quest!&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15584_56" -->
<a id="c15584_56"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / tie rope to door / down / pull rope / up / north&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15585_56" -->
<a id="c15585_56"></a><blockquote class="code"><p class="quoted">
Test death with &quot;x rope / pull rope / get chest / untie rope from chest / tie rope to me / down / get key / up / untie rope from stump / north / up / unlock pointed door with key / open it / g&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "261: Snip" "e198" -->
<a id="e198"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example198'); return false;"><b>261</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example198'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Snip</span></b></a><br />A string which can be cut into arbitrary lengths, and then tied back together.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc241.html#e198"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example198" style="display: none;">
<!-- START CODE "c15586_198" -->
<a id="c15586_198"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Snip![=0x0022=][=0x000A=][=0x000A=]Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.[=0x000A=][=0x000A=]A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.[=0x000A=][=0x000A=]Before printing the name of a string, say [=0x0022=][length] piece of [=0x0022=]. Rule for printing the plural name of a string: say [=0x0022=][length] pieces of string[=0x0022=].[=0x000A=][=0x000A=]Understand the command [=0x0022=]cut[=0x0022=] as something new. Understand [=0x0022=]cut [length] from/off [something][=0x0022=] as trimming it by (with nouns reversed). Understand [=0x0022=]cut [something] by [length][=0x0022=] as trimming it by. Understand the command [=0x0022=]trim[=0x0022=] as [=0x0022=]cut[=0x0022=].[=0x000A=][=0x000A=]Trimming it by is an action applying to one thing and one length.[=0x000A=][=0x000A=]Check trimming it by:[=0x000A=][=0x0009=]if the length understood is 0 inches, say [=0x0022=]You[=0x0027=]re approaching Zeno[=0x0027=]s string at this point.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is greater than the length of the noun, say [=0x0022=][The noun] is only [length of the noun] long to start with.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is the length of the noun, say [=0x0022=][The noun] is already exactly [length of the noun] long.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out trimming it by:[=0x000A=][=0x0009=]now the length of the noun is the length of the noun minus the length understood;[=0x000A=][=0x0009=]let the other half be a random string in the string repository;[=0x000A=][=0x0009=]now the length of the other half is the length understood;[=0x000A=][=0x0009=]move the other half to the player.[=0x000A=][=0x000A=]Report trimming it by:[=0x000A=][=0x0009=]reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list][=0x000A=][=0x0009=]say [=0x0022=]You now have [a list of strings carried by the player].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]cut [something] in half[=0x0022=] as halving. Halving is an action applying to one thing.[=0x000A=][=0x000A=]Carry out halving:[=0x000A=][=0x0009=]let half measure be the length of the noun divided by 2;[=0x000A=][=0x0009=]now the length understood is half measure;[=0x000A=][=0x0009=]try trimming the noun by half measure.[=0x000A=][=0x000A=][This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let[=0x0027=]s assume for now that this doesn[=0x0027=]t matter.][=0x000A=][=0x000A=]The player carries a string.[=0x000A=][=0x000A=]The Scissors Room is a room.[=0x000A=][=0x000A=]The string repository contains 35 strings.[=0x000A=][=0x000A=][Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it[=0x0027=]s best to avoid that sort of thing if possible.][=0x000A=][=0x000A=][Now with a bit of fiddling we can also teach Inform to recognize descriptors such as [=0x0022=]the shortest string[=0x0022=]:][=0x000A=][=0x000A=]Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.[=0x000A=][=0x000A=]Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.[=0x000A=][=0x000A=]Before reading a command:[=0x000A=][=0x0009=]reset string lengths.[=0x000A=][=0x000A=]To reset string lengths:[=0x000A=][=0x0009=]let upper measure be the length of the largest visible string;[=0x000A=][=0x0009=]let lower measure be the length of the smallest visible string;[=0x000A=][=0x0009=]repeat with item running through strings:[=0x000A=][=0x0009=][=0x0009=]now the ordinariness of the item is medium;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the upper measure, now the item is longest;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the lower measure, now the item is shortest.[=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]shorter[=0x0022=], replace the matched text with [=0x0022=]shortest[=0x0022=];[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]longer[=0x0022=], replace the matched text with [=0x0022=]longest[=0x0022=].[=0x000A=][=0x000A=]Instead of tying a string to a string:[=0x000A=][=0x0009=]move the second noun to the string repository;[=0x000A=][=0x0009=]now the length of the noun is the length of the noun plus the length of the second noun;[=0x000A=][=0x0009=]decrease the length of the noun by 1 inch;[=0x000A=][=0x0009=]say [=0x0022=]You end up with [a noun], as some is taken up by the knot.[=0x0022=][=0x000A=][=0x000A=][This is still a little incomplete because we cannot refer to strings by their lengths, as in [=0x0022=]the 2 inch string[=0x0022=] and so on. To do this, we borrow a line from the chapter on Understanding:][=0x000A=][=0x000A=]Understand the length property as referring to a string.[=0x000A=][=0x000A=]Test me with [=0x0022=]trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Snip!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15587_198" -->
<a id="c15587_198"></a><blockquote class="code"><p class="quoted">
Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15588_198" -->
<a id="c15588_198"></a><blockquote class="code"><p class="quoted">
A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15589_198" -->
<a id="c15589_198"></a><blockquote class="code"><p class="quoted">
Before printing the name of a string, say &quot;[length] piece of &quot;. Rule for printing the plural name of a string: say &quot;[length] pieces of string&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15590_198" -->
<a id="c15590_198"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;cut&quot; as something new. Understand &quot;cut [length] from/off [something]&quot; as trimming it by (with nouns reversed). Understand &quot;cut [something] by [length]&quot; as trimming it by. Understand the command &quot;trim&quot; as &quot;cut&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15591_198" -->
<a id="c15591_198"></a><blockquote class="code"><p class="quoted">
Trimming it by is an action applying to one thing and one length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15592_198" -->
<a id="c15592_198"></a><blockquote class="code"><p class="quoted">
Check trimming it by:
<br />&#160;&#160;&#160;&#160;if the length understood is 0 inches, say &quot;You're approaching Zeno's string at this point.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is greater than the length of the noun, say &quot;[The noun] is only [length of the noun] long to start with.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is the length of the noun, say &quot;[The noun] is already exactly [length of the noun] long.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15593_198" -->
<a id="c15593_198"></a><blockquote class="code"><p class="quoted">
Carry out trimming it by:
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun minus the length understood;
<br />&#160;&#160;&#160;&#160;let the other half be a random string in the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the other half is the length understood;
<br />&#160;&#160;&#160;&#160;move the other half to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15594_198" -->
<a id="c15594_198"></a><blockquote class="code"><p class="quoted">
Report trimming it by:
<br />&#160;&#160;&#160;&#160;reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list]
<br />&#160;&#160;&#160;&#160;say &quot;You now have [a list of strings carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15595_198" -->
<a id="c15595_198"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] in half&quot; as halving. Halving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15596_198" -->
<a id="c15596_198"></a><blockquote class="code"><p class="quoted">
Carry out halving:
<br />&#160;&#160;&#160;&#160;let half measure be the length of the noun divided by 2;
<br />&#160;&#160;&#160;&#160;now the length understood is half measure;
<br />&#160;&#160;&#160;&#160;try trimming the noun by half measure.
</p></blockquote>
<!-- END CODE -->
<p>This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let's assume for now that this doesn't matter.</p>
<!-- START CODE "c15597_198" -->
<a id="c15597_198"></a><blockquote class="code"><p class="quoted">
The player carries a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15598_198" -->
<a id="c15598_198"></a><blockquote class="code"><p class="quoted">
The Scissors Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15599_198" -->
<a id="c15599_198"></a><blockquote class="code"><p class="quoted">
The string repository contains 35 strings.
</p></blockquote>
<!-- END CODE -->
<p>Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it's best to avoid that sort of thing if possible.</p>
<p>Now with a bit of fiddling we can also teach Inform to recognize descriptors such as &quot;the shortest string&quot;:</p>
<!-- START CODE "c15600_198" -->
<a id="c15600_198"></a><blockquote class="code"><p class="quoted">
Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15601_198" -->
<a id="c15601_198"></a><blockquote class="code"><p class="quoted">
Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15602_198" -->
<a id="c15602_198"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;reset string lengths.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15603_198" -->
<a id="c15603_198"></a><blockquote class="code"><p class="quoted">
To reset string lengths:
<br />&#160;&#160;&#160;&#160;let upper measure be the length of the largest visible string;
<br />&#160;&#160;&#160;&#160;let lower measure be the length of the smallest visible string;
<br />&#160;&#160;&#160;&#160;repeat with item running through strings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ordinariness of the item is medium;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the upper measure, now the item is longest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the lower measure, now the item is shortest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15604_198" -->
<a id="c15604_198"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;shorter&quot;, replace the matched text with &quot;shortest&quot;;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;longer&quot;, replace the matched text with &quot;longest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15605_198" -->
<a id="c15605_198"></a><blockquote class="code"><p class="quoted">
Instead of tying a string to a string:
<br />&#160;&#160;&#160;&#160;move the second noun to the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun plus the length of the second noun;
<br />&#160;&#160;&#160;&#160;decrease the length of the noun by 1 inch;
<br />&#160;&#160;&#160;&#160;say &quot;You end up with [a noun], as some is taken up by the knot.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is still a little incomplete because we cannot refer to strings by their lengths, as in &quot;the 2 inch string&quot; and so on. To do this, we borrow a line from the chapter on Understanding:</p>
<!-- START CODE "c15606_198" -->
<a id="c15606_198"></a><blockquote class="code"><p class="quoted">
Understand the length property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15607_198" -->
<a id="c15607_198"></a><blockquote class="code"><p class="quoted">
Test me with &quot;trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc84.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc86.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
