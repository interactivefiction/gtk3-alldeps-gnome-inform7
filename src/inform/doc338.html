<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>19.12. Named outcomes</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Named outcomes" -->
<!-- SEARCH SECTION "19.12" -->
<!-- SEARCH SORT "000-019-012-000" -->
<!-- START IGNORE 337 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc337.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 19: Rulebooks</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc339.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง19.12. Named outcomes</p>
<p>We have seen that the terms &quot;success&quot; and &quot;failure&quot; can be misleading - after all, it might be a good thing for a particular rulebook to &quot;fail&quot;. At any rate, these are vague terms, and we don't want to have to remember the conventions used by every rulebook. This is why certain rulebooks have explicitly named outcomes instead. For instance, the &quot;visibility&quot; rules are allowed to have the outcomes:</p>
<!-- START CODE "c7921" -->
<a id="c7921"></a><blockquote class="code"><p class="quoted">
there is sufficient light;
<br />there is insufficient light;
</p></blockquote>
<!-- END CODE -->
<p>These look like phrases, but are in fact named outcomes which can only be used in visibility rules. (They would make no sense elsewhere, and Inform will not allow their use if they are clearly out of context.) Such named outcomes are listed in the Rules index.</p>
<p>There can be any number of named outcomes. For instance, the Standard Rules define:</p>
<!-- START CODE "c7922" -->
<a id="c7922"></a><blockquote class="code"><p class="quoted">
The does the player mean rules are a rulebook. The does the player mean rules have outcomes it is very likely, it is likely, it is possible, it is unlikely and it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>which makes five possible outcomes. Five outcomes seems to contradict the principle that there are only three possible outcomes for a rule: in fact, though, the five are counted as five different forms of &quot;success&quot;, and any of them will cause a &quot;does the player mean&quot; rule to succeed. If we do not want this, we can instead specify explicitly how the named outcomes correspond to success, failure or &quot;no outcome&quot;:</p>
<!-- START CODE "c7923" -->
<a id="c7923"></a><blockquote class="code"><p class="quoted">
Visibility rules have outcomes there is sufficient light (failure) and there is insufficient light (success).
</p></blockquote>
<!-- END CODE -->
<p>Again, see the Rules index for examples.</p>
<p>The same named outcome can be used for more than one rulebook, and can have different meanings in the context of different rulebooks - &quot;good news&quot; could be defined as success in one rulebook and failure in another, for instance. (This means that rulebook creators need not worry about name clashes and is an important difference in behaviour between rulebook outcomes and kinds of value.) We can even name a specific named outcome as the default outcome for rules in this rulebook:</p>
<!-- START CODE "c7924" -->
<a id="c7924"></a><blockquote class="code"><p class="quoted">
Audibility rules have outcomes high background noise (failure), low background noise (success - the default) and absolute silence (success).
</p></blockquote>
<!-- END CODE -->
<p>After a rulebook using named outcomes has run, we can test which outcome occurred by using the phrase:</p>
<!-- START PHRASE "defn280" -->
<div class="definition"><a id="defn280"></a><p class="defnprototype"><b>outcome of the rulebook ... rulebook outcome</b></p>
<!-- END PHRASE -->
<!-- definition of ph_rulebookoutcome -->

<p>This phrase produces the (named) outcome of the phrase most recently followed. Example:</p>
<!-- START CODE "c7925" -->
<a id="c7925"></a><blockquote class="code"><p class="quoted">
follow the audibility rules;
<br />if the outcome of the rulebook is the absolute silence outcome:
<br />&#160;&#160;&#160;&#160;say &quot;You could hear a pin drop in here.&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Each named outcome is a value if followed by the word &quot;outcome&quot;, which is how &quot;absolute silence&quot; has become &quot;the absolute silence outcome&quot;. Named outcomes can be said, so we could use the text substitution &quot;[outcome of the rulebook]&quot;, for instance. A final caveat: it is perfectly legal to create a named outcome which means &quot;no outcome&quot;, but if so then this will never be &quot;the outcome of the rulebook&quot; because &quot;no outcome&quot; is not an outcome.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "405: Being Peter" "e327" -->
<a id="e327"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example327'); return false;"><b>405</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example327'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Being Peter</span></b></a><br />A set of rules determining the attitude a character will take when asked about certain topics.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc56.html#e327"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example327" style="display: none;">
<p>Let's say that we're implementing a particularly irrational and volatile character. Some of the time she remains composed; some of the time she reacts with unexpected vehemence for reasons only partly related to what was said.</p>
<p>Moreover, her responses are divided between successful and failing outcomes, where success indicates that she's not too upset and failure means that she is distraught; we use this to determine how the rest of the room reacts.</p>
<!-- START CODE "c7926_327" -->
<a id="c7926_327"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Being Peter[=0x0022=][=0x000A=][=0x000A=]The Drawing Room is a room. [=0x0022=]The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn[=0x0027=]t drink. But everyone else.[=0x0022=][=0x000A=][=0x000A=]Maggie is a woman in the Drawing Room.[=0x000A=][=0x000A=]The player wears a top hat.[=0x000A=][=0x000A=]Quizzing it about is an action applying to one thing and one visible thing. Understand [=0x0022=]ask [someone] about [any thing][=0x0022=] as quizzing it about.[=0x000A=][=0x000A=]Instead of quizzing Maggie about something:[=0x000A=][=0x0009=]follow the attitude rules;[=0x000A=][=0x0009=]say [=0x0022=]Everyone waits to see what the reaction will be: [outcome of the rulebook].[=0x0022=];[=0x000A=][=0x0009=]if rule succeeded, say [=0x0022=]There is general relief.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]Everyone is pointedly silent.[=0x0022=][=0x000A=][=0x000A=]The attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).[=0x000A=][=0x000A=][Here we want Inform to consult every appropriate attitude rule until it gets to some answer; if an attitude rule does not provide a result, the default [=0x0027=]no outcome[=0x0027=] will mean that we go on to the next rule, and so on.][=0x000A=][=0x000A=]A subject is a kind of thing. income, love life, and children are subjects.[=0x000A=][=0x000A=]An attitude rule for quizzing Maggie about love life:[=0x000A=][=0x0009=]she gets angry.[=0x000A=][=0x000A=]An attitude rule:[=0x000A=][=0x0009=]if the player wears the top hat, she gets angry.[=0x000A=][=0x000A=][Now, as we saw, the [=0x0027=]no outcome[=0x0027=] result will never be returned and printed as Maggie[=0x0027=]s reaction, precisely because it is [=0x0022=]no outcome[=0x0022=]. Therefore, we provide a final attitude rule which will give her a default response to all statements:][=0x000A=][=0x000A=]The last attitude rule:[=0x000A=][=0x0009=]she is only mildly annoyed.[=0x000A=][=0x000A=]Test me with [=0x0022=]ask maggie about love / ask maggie about income / take off hat / ask maggie about income[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Being Peter&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7927_327" -->
<a id="c7927_327"></a><blockquote class="code"><p class="quoted">
The Drawing Room is a room. &quot;The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn't drink. But everyone else.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7928_327" -->
<a id="c7928_327"></a><blockquote class="code"><p class="quoted">
Maggie is a woman in the Drawing Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7929_327" -->
<a id="c7929_327"></a><blockquote class="code"><p class="quoted">
The player wears a top hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7930_327" -->
<a id="c7930_327"></a><blockquote class="code"><p class="quoted">
Quizzing it about is an action applying to one thing and one visible thing. Understand &quot;ask [someone] about [any thing]&quot; as quizzing it about.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7931_327" -->
<a id="c7931_327"></a><blockquote class="code"><p class="quoted">
Instead of quizzing Maggie about something:
<br />&#160;&#160;&#160;&#160;follow the attitude rules;
<br />&#160;&#160;&#160;&#160;say &quot;Everyone waits to see what the reaction will be: [outcome of the rulebook].&quot;;
<br />&#160;&#160;&#160;&#160;if rule succeeded, say &quot;There is general relief.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Everyone is pointedly silent.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7932_327" -->
<a id="c7932_327"></a><blockquote class="code"><p class="quoted">
The attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).
</p></blockquote>
<!-- END CODE -->
<p>Here we want Inform to consult every appropriate attitude rule until it gets to some answer; if an attitude rule does not provide a result, the default 'no outcome' will mean that we go on to the next rule, and so on.</p>
<!-- START CODE "c7933_327" -->
<a id="c7933_327"></a><blockquote class="code"><p class="quoted">
A subject is a kind of thing. income, love life, and children are subjects.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7934_327" -->
<a id="c7934_327"></a><blockquote class="code"><p class="quoted">
An attitude rule for quizzing Maggie about love life:
<br />&#160;&#160;&#160;&#160;she gets angry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7935_327" -->
<a id="c7935_327"></a><blockquote class="code"><p class="quoted">
An attitude rule:
<br />&#160;&#160;&#160;&#160;if the player wears the top hat, she gets angry.
</p></blockquote>
<!-- END CODE -->
<p>Now, as we saw, the 'no outcome' result will never be returned and printed as Maggie's reaction, precisely because it is &quot;no outcome&quot;. Therefore, we provide a final attitude rule which will give her a default response to all statements:</p>
<!-- START CODE "c7936_327" -->
<a id="c7936_327"></a><blockquote class="code"><p class="quoted">
The last attitude rule:
<br />&#160;&#160;&#160;&#160;she is only mildly annoyed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7937_327" -->
<a id="c7937_327"></a><blockquote class="code"><p class="quoted">
Test me with &quot;ask maggie about love / ask maggie about income / take off hat / ask maggie about income&quot;.
</p></blockquote>
<!-- END CODE -->
<p>There are plenty of contexts where we might want named outcomes for clarity but not want to print the results literally afterward.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc337.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc339.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
