<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>7.12. Characters Following a Script</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Characters Following a Script" -->
<!-- SEARCH SECTION "7.12" -->
<!-- SEARCH SORT "001-007-012-000" -->
<!-- START IGNORE 57 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc57.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 7: Other Characters</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc59.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง7.12. Characters Following a Script</p>
<p>So far we've seen characters who will answer questions whenever the player feels like asking, and characters who will use some reasoning procedure to direct the conversation. There is a third option, often useful in IF with a fast-paced narrative: the character follows a conversational script, making sure to cover a series of points before the scene ends.</p>
<p>There are more and less tedious ways to implement this kind of scene. The worst case is one in which the player is not allowed to interrupt or ask any questions; he must merely wait until the character runs out of things to say. This can be useful and plausible in very small doses - say, two or three turns - but if the character has more information than that to impart, we may want to make the scene more interactive.</p>
<p><span class="boldface">Pine 2</span> partly addresses this challenge: the character has a line of conversation that she wants to follow to its conclusion; we may ask questions along the way, but if we're silent, she'll take up the slack, and the scene won't end until she's done with what she has to say.</p>
<p>Another kind of script is a series of actions for the character to perform. <span class="boldface">Robo</span> demonstrates a programmable robot that will observe what the player does, then try to emulate the actions later when switched into play-back mode. <span class="boldface">Robo 2</span> extends this capacity to allow the robot to contain fifteen different scripts which the player can store, list, run, and erase.</p>
<p><span class="boldface">Your Mother Doesn't Work Here</span> offers a character with a list of tasks but whose plans can be interrupted by more urgent demands. This verges on not being a simple script any more: if we carry the idea to its natural conclusion, we get characters capable of planning scripts for themselves to accomplish their aims. This is conventionally called &quot;goal-seeking&quot;.</p>
<p class="crossreference"><a href="Rdoc61.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Goal-Seeking Characters</b></a><i> for characters that work out plans for themselves in order to accomplish various outcomes</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "426: Robo 1" "e5" -->
<a id="e5"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example5'); return false;"><b>426</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example5'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Robo 1</span></b></a><br />A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc356.html#e5"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example5" style="display: none;">
<!-- START CODE "c12945_5" -->
<a id="c12945_5"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Robo[=0x0022=][=0x000A=][=0x000A=]The Experimentation Chamber is a room. Robo is a man in the Experimentation Chamber. [=0x0022=]Robo, your prototype tin companion, stands awkwardly beside you. In the middle of his chest is a red enamel button[if the red button is switched on], currently depressed[otherwise], currently un-depressed[end if].[=0x0022=][=0x000A=][=0x000A=]The red button is a device. It is part of Robo. Instead of pushing the red button: if the red button is switched off, try switching on the red button; otherwise try switching off the red button.[=0x000A=][=0x000A=]After switching on the red button:[=0x000A=][=0x0009=]say [=0x0022=]CLICK! Robo is now in play-back mode.[=0x0022=][=0x000A=][=0x000A=]After switching off the red button:[=0x000A=][=0x0009=]say [=0x0022=]CLACK! Robo is now in observation mode.[=0x0022=][=0x000A=][=0x000A=]Definition: Robo is watching if the red button is switched off.[=0x000A=][=0x000A=]The current instruction set is a list of stored actions that varies.[=0x000A=][=0x000A=]After doing something when Robo is watching and Robo can see the player:[=0x000A=][=0x0009=]now the actor is Robo;[=0x000A=][=0x0009=]add the current action to the current instruction set;[=0x000A=][=0x0009=]now the actor is the player;[=0x000A=][=0x0009=]say [=0x0022=]Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Every turn when Robo is not watching:[=0x000A=][=0x0009=]if the number of entries in the current instruction set is 0:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Robo has run out of behavior and grinds to an (expectant) halt.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now the red button is switched off;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let the next task be entry 1 of the current instruction set;[=0x000A=][=0x0009=][=0x0009=]try the next task;[=0x000A=][=0x0009=][=0x0009=]remove entry 1 from the current instruction set.[=0x000A=][=0x000A=]The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.[=0x000A=][=0x000A=]Report Robo examining Robo:[=0x000A=][=0x0009=]say [=0x0022=]Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo examining the player:[=0x000A=][=0x0009=]say [=0x0022=]Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo taking the cylinder:[=0x000A=][=0x0009=]say [=0x0022=][one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].[=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / take cylinder / take block / put cylinder on counter / put block on counter / x robo / x me / get block / drop block / press red button / z / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Robo&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12946_5" -->
<a id="c12946_5"></a><blockquote class="code"><p class="quoted">
The Experimentation Chamber is a room. Robo is a man in the Experimentation Chamber. &quot;Robo, your prototype tin companion, stands awkwardly beside you. In the middle of his chest is a red enamel button[if the red button is switched on], currently depressed[otherwise], currently un-depressed[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12947_5" -->
<a id="c12947_5"></a><blockquote class="code"><p class="quoted">
The red button is a device. It is part of Robo. Instead of pushing the red button: if the red button is switched off, try switching on the red button; otherwise try switching off the red button.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12948_5" -->
<a id="c12948_5"></a><blockquote class="code"><p class="quoted">
After switching on the red button:
<br />&#160;&#160;&#160;&#160;say &quot;CLICK! Robo is now in play-back mode.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12949_5" -->
<a id="c12949_5"></a><blockquote class="code"><p class="quoted">
After switching off the red button:
<br />&#160;&#160;&#160;&#160;say &quot;CLACK! Robo is now in observation mode.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12950_5" -->
<a id="c12950_5"></a><blockquote class="code"><p class="quoted">
Definition: Robo is watching if the red button is switched off.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12951_5" -->
<a id="c12951_5"></a><blockquote class="code"><p class="quoted">
The current instruction set is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12952_5" -->
<a id="c12952_5"></a><blockquote class="code"><p class="quoted">
After doing something when Robo is watching and Robo can see the player:
<br />&#160;&#160;&#160;&#160;now the actor is Robo;
<br />&#160;&#160;&#160;&#160;add the current action to the current instruction set;
<br />&#160;&#160;&#160;&#160;now the actor is the player;
<br />&#160;&#160;&#160;&#160;say &quot;Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12953_5" -->
<a id="c12953_5"></a><blockquote class="code"><p class="quoted">
Every turn when Robo is not watching:
<br />&#160;&#160;&#160;&#160;if the number of entries in the current instruction set is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Robo has run out of behavior and grinds to an (expectant) halt.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the red button is switched off;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the next task be entry 1 of the current instruction set;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the next task;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;remove entry 1 from the current instruction set.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12954_5" -->
<a id="c12954_5"></a><blockquote class="code"><p class="quoted">
The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12955_5" -->
<a id="c12955_5"></a><blockquote class="code"><p class="quoted">
Report Robo examining Robo:
<br />&#160;&#160;&#160;&#160;say &quot;Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12956_5" -->
<a id="c12956_5"></a><blockquote class="code"><p class="quoted">
Report Robo examining the player:
<br />&#160;&#160;&#160;&#160;say &quot;Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12957_5" -->
<a id="c12957_5"></a><blockquote class="code"><p class="quoted">
Report Robo taking the cylinder:
<br />&#160;&#160;&#160;&#160;say &quot;[one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12958_5" -->
<a id="c12958_5"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / take cylinder / take block / put cylinder on counter / put block on counter / x robo / x me / get block / drop block / press red button / z / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "434: Your Mother Doesn't Work Here" "e149" -->
<a id="e149"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example149'); return false;"><b>434</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example149'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Your Mother Doesn't Work Here</span></b></a><br />Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc362.html#e149"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example149" style="display: none;">
<p>Suppose the player's mother is supposed to be cleaning the living room, but she can be interrupted by the need to pick up things the player has dropped. New tasks are added to the end of her &quot;current plan&quot; list; every turn, she attempts to do whatever is the last entry on that list.</p>
<!-- START CODE "c12959_149" -->
<a id="c12959_149"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Your Mother Doesn[=0x0027=]t Work Here[=0x0022=][=0x000A=][=0x000A=]A person has a list of stored actions called the current plan.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]repeat with culprit running through people who are not the player:[=0x000A=][=0x0009=][=0x0009=]if the number of entries in current plan of the culprit is greater than 0:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let N be the number of entries in the current plan of the culprit;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]try entry N of the current plan of the culprit;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]remove entry N from the current plan of the culprit.[=0x000A=][=0x000A=]The Living Room is a room. It contains a somewhat muddy Persian rug. Your mother is a woman in the Living Room.[=0x000A=][=0x000A=]West of the Living Room is the Kitchen.[=0x000A=][=0x000A=]Instead of your mother rubbing the rug:[=0x000A=][=0x0009=]say [=0x0022=]Your mother scrubs the stained areas of the rug, muttering to herself.[=0x0022=][=0x000A=][=0x000A=]Instead of taking something:[=0x000A=][=0x0009=]say [=0x0022=]Nah, Mom[=0x0027=]ll get that.[=0x0022=][=0x000A=][=0x000A=]Report your mother taking something:[=0x000A=][=0x0009=]say [=0x0022=]Your mother picks up [the noun][one of], sighing deeply[or], jaw tight[or], with assorted comments on your manners[or]; to judge from her comments, she is also indulging in a pleasant fantasy about Swiss boarding schools[stopping].[=0x0022=] instead.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]add mother going west to the current plan of mother;[=0x000A=][=0x0009=]add mother rubbing the rug to the current plan of mother.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if mother is not in the Living Room, end the story finally.[=0x000A=][=0x000A=]Carry out dropping something:[=0x000A=][=0x0009=]add mother taking the noun to the current plan of mother.[=0x000A=][=0x000A=]The player carries some dirty socks, some dirty shoes, a dirty hat, a pair of dirty trousers, and a backpack.[=0x000A=][=0x000A=]Test me with [=0x0022=]drop socks / z / drop shoes / drop hat / drop all / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Your Mother Doesn't Work Here&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12960_149" -->
<a id="c12960_149"></a><blockquote class="code"><p class="quoted">
A person has a list of stored actions called the current plan.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12961_149" -->
<a id="c12961_149"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;repeat with culprit running through people who are not the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of entries in current plan of the culprit is greater than 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be the number of entries in the current plan of the culprit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try entry N of the current plan of the culprit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;remove entry N from the current plan of the culprit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12962_149" -->
<a id="c12962_149"></a><blockquote class="code"><p class="quoted">
The Living Room is a room. It contains a somewhat muddy Persian rug. Your mother is a woman in the Living Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12963_149" -->
<a id="c12963_149"></a><blockquote class="code"><p class="quoted">
West of the Living Room is the Kitchen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12964_149" -->
<a id="c12964_149"></a><blockquote class="code"><p class="quoted">
Instead of your mother rubbing the rug:
<br />&#160;&#160;&#160;&#160;say &quot;Your mother scrubs the stained areas of the rug, muttering to herself.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12965_149" -->
<a id="c12965_149"></a><blockquote class="code"><p class="quoted">
Instead of taking something:
<br />&#160;&#160;&#160;&#160;say &quot;Nah, Mom'll get that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12966_149" -->
<a id="c12966_149"></a><blockquote class="code"><p class="quoted">
Report your mother taking something:
<br />&#160;&#160;&#160;&#160;say &quot;Your mother picks up [the noun][one of], sighing deeply[or], jaw tight[or], with assorted comments on your manners[or]; to judge from her comments, she is also indulging in a pleasant fantasy about Swiss boarding schools[stopping].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12967_149" -->
<a id="c12967_149"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;add mother going west to the current plan of mother;
<br />&#160;&#160;&#160;&#160;add mother rubbing the rug to the current plan of mother.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12968_149" -->
<a id="c12968_149"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if mother is not in the Living Room, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12969_149" -->
<a id="c12969_149"></a><blockquote class="code"><p class="quoted">
Carry out dropping something:
<br />&#160;&#160;&#160;&#160;add mother taking the noun to the current plan of mother.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12970_149" -->
<a id="c12970_149"></a><blockquote class="code"><p class="quoted">
The player carries some dirty socks, some dirty shoes, a dirty hat, a pair of dirty trousers, and a backpack.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12971_149" -->
<a id="c12971_149"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop socks / z / drop shoes / drop hat / drop all / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As goal-seeking goes, this is fairly rudimentary; &quot;Boston Cream&quot; provides an alternative (and slightly more sophisticated approach), but for really complex goal-seeking characters, it is probably best to turn to the character extensions designed for Inform.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "161: Pine 2" "e223" -->
<a id="e223"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example223'); return false;"><b>161</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example223'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pine 2</span></b></a><br />Pine: Adding a conversation with the princess, in which a basic set of facts must be covered before the scene is allowed to end.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc154.html#e223"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example223" style="display: none;">
<!-- START CODE "c12972_223" -->
<a id="c12972_223"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Pine[=0x0022=][=0x000A=][=0x000A=]A person can be asleep or awake. A person can be active or passive.[=0x000A=][=0x000A=]The Spinning Tower is a room. [=0x0022=]A remote corner of the old castle, reserved for spinning and weaving tasks.[=0x0022=][=0x000A=][=0x000A=]Sleeping Beauty is an asleep woman in the Spinning Tower. [=0x0022=][if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if].[=0x0022=] The description is [=0x0022=]She is even more magnificent than the rumors suggested.[=0x0022=] Understand [=0x0022=]woman[=0x0022=] or [=0x0022=]girl[=0x0022=] or [=0x0022=]princess[=0x0022=] or [=0x0022=]lady[=0x0022=] as Sleeping Beauty.[=0x000A=][=0x000A=]Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.[=0x000A=][=0x000A=]When Discovery ends: say [=0x0022=]Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.[=0x0022=][=0x000A=][=0x000A=]Instead of waking an awake person: say [=0x0022=]Redundant.[=0x0022=][=0x000A=][=0x000A=]Instead of waking an asleep person: say [=0x0022=]Yes, but how?[=0x0022=][=0x000A=][=0x000A=]Instead of attacking an asleep person:[=0x000A=][=0x0009=]now the noun is awake;[=0x000A=][=0x0009=]say [=0x0022=][The noun] sits bolt upright. [=0x0027=]Hey! Ow![=0x0027=] So much for that true love[=0x0027=]s kiss nonsense.[=0x0022=][=0x000A=][=0x000A=]Instead of kissing an asleep person:[=0x000A=][=0x0009=]now the noun is awake;[=0x000A=][=0x0009=]say [=0x0022=][The noun] slowly stirs to wakefulness![=0x0022=][=0x000A=][=0x000A=]Instead of throwing water at an asleep person:[=0x000A=][=0x0009=]now the second noun is awake;[=0x000A=][=0x0009=]now the noun is nowhere;[=0x000A=][=0x0009=]say [=0x0022=]You pour out [the noun] on [the second noun].[=0x000A=][=0x000A=][The second noun] wakes, shuddering. [=0x0027=]Agh! I had a terrible dream about drowning and then-- Hey![=0x0027=][=0x0022=][=0x000A=][=0x000A=]The player carries a jug of water. Understand [=0x0022=]pour [something] on [something][=0x0022=] or [=0x0022=]splash [something] at/on [something][=0x0022=] as throwing it at.[=0x000A=][=0x000A=][So much, we had before. Now, suppose we want a conversation style which allows the player to move conversation forward by asking appropriate questions, but which will keep moving forward even if he doesn[=0x0027=]t. To this end, we provide a table -- a borrowing from a later chapter. In the table, we record two ways of performing each conversation bit, one which reflects the player[=0x0027=]s participation, and one in which the character moves things onward:][=0x000A=][=0x000A=]Table of Conversation[=0x000A=]topic[=0x0009=]reply[=0x0009=]quip[=0x000A=][=0x0022=]dream/dreams/nightmare/nightmares/sleep[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Sleep well?[=0x0027=] you ask solicitously.[=0x000A=][=0x000A=][=0x0027=]Not really,[=0x0027=] she replies, edging away from you. So much for that angle.[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Ghastly nightmares,[=0x0027=] she remarks. You nod politely.[=0x0022=][=0x000A=][=0x0022=]marriage/love/wedding/boyfriend/beau/lover[=0x0022=][=0x0009=][=0x0022=][=0x0027=]So,[=0x0027=] you say. [=0x0027=]This is a little weird since we just met, but, um. Would you like to get married?[=0x0027=][=0x000A=][=0x000A=]She looks at you nervously. [=0x0027=]Do I have to?[=0x0027=][=0x0022=][=0x0009=][=0x0022=][=0x0027=]I, er,[=0x0027=] she says. [=0x0027=]I hope I[=0x0027=]m not supposed to marry you or something.[=0x0027=][=0x0022=][=0x000A=][=0x0022=]marriage/love/wedding/boyfriend/beau/lover[=0x0022=][=0x0009=][=0x0022=][=0x0027=]I was told I was going to marry you and inherit the kingdom,[=0x0027=] you say, apologetically. [=0x0027=]Would that be very bad?[=0x0027=][=0x000A=][=0x000A=][=0x0027=]Oh, it[=0x0027=]s not you -- I[=0x0027=]m seeing someone,[=0x0027=] she says, smiling quickly.[=0x000A=][=0x000A=]You try to think how to point out that it[=0x0027=]s been a hundred years since she last saw her boyfriend.[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Do you think I could go look for someone? I[=0x0027=]m seeing him, you see, and I think I[=0x0027=]ve been... sick... for a while, so he might be worried.[=0x0027=][=0x000A=][=0x000A=]You try to think how to point out that it[=0x0027=]s been a hundred years since she last saw her boyfriend.[=0x0022=][=0x000A=][=0x0022=]marriage/love/wedding/boyfriend/beau/lover[=0x0022=][=0x0009=][=0x0022=][=0x0027=]You[=0x0027=]ve been up here for a hundred years,[=0x0027=] you say. An unpleasant thought occurs to you. [=0x0027=]Was your young man in the castle somewhere?[=0x0027=][=0x000A=][=0x000A=]She shakes her head mutely.[=0x0022=][=0x0009=][=0x0022=]She goes to the window and looks out at the now-fading thicket of briar. [=0x0027=]That took a while to grow,[=0x0027=] she observes. [=0x0027=]I[=0x0027=]ve been up here longer than I thought.[=0x0027=][=0x000A=][=0x000A=]You shrug, uncomfortable.[=0x0022=][=0x000A=][=0x000A=]Instead of asking an awake beauty about a topic listed in the Table of Conversation:[=0x000A=][=0x0009=]now Beauty is passive;[=0x000A=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=]blank out the whole row.[=0x000A=][=0x000A=][The [=0x0022=]now Beauty is passive[=0x0022=] line prevents her from making any conversation of her own on a turn when we[=0x0027=]ve spoken to her. This keeps the conversation from progressing too quickly.][=0x000A=][=0x000A=]Instead of telling an awake beauty about something: try asking the noun about it.[=0x000A=][=0x000A=]Instead of asking an asleep person about something:[=0x000A=][=0x0009=]say [=0x0022=][The noun] snores.[=0x0022=][=0x000A=][=0x000A=]Marriage Proposal ends when the number of filled rows in the Table of Conversation is 0.[=0x000A=][=0x000A=]Every turn during Marriage Proposal:[=0x000A=][=0x0009=]if Beauty is active:[=0x000A=][=0x0009=][=0x0009=]repeat through Table of Conversation:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][quip entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]blank out the whole row;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]make no decision.[=0x000A=][=0x000A=][After we[=0x0027=]ve generated any spontaneous conversation, we return her to her regular active state.][=0x000A=][=0x000A=]Every turn: now Beauty is active.[=0x000A=][=0x000A=]When Marriage Proposal ends: end the story saying [=0x0022=]This is going to take some explaining.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Pine&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12973_223" -->
<a id="c12973_223"></a><blockquote class="code"><p class="quoted">
A person can be asleep or awake. A person can be active or passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12974_223" -->
<a id="c12974_223"></a><blockquote class="code"><p class="quoted">
The Spinning Tower is a room. &quot;A remote corner of the old castle, reserved for spinning and weaving tasks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12975_223" -->
<a id="c12975_223"></a><blockquote class="code"><p class="quoted">
Sleeping Beauty is an asleep woman in the Spinning Tower. &quot;[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if].&quot; The description is &quot;She is even more magnificent than the rumors suggested.&quot; Understand &quot;woman&quot; or &quot;girl&quot; or &quot;princess&quot; or &quot;lady&quot; as Sleeping Beauty.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12976_223" -->
<a id="c12976_223"></a><blockquote class="code"><p class="quoted">
Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12977_223" -->
<a id="c12977_223"></a><blockquote class="code"><p class="quoted">
When Discovery ends: say &quot;Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12978_223" -->
<a id="c12978_223"></a><blockquote class="code"><p class="quoted">
Instead of waking an awake person: say &quot;Redundant.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12979_223" -->
<a id="c12979_223"></a><blockquote class="code"><p class="quoted">
Instead of waking an asleep person: say &quot;Yes, but how?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12980_223" -->
<a id="c12980_223"></a><blockquote class="code"><p class="quoted">
Instead of attacking an asleep person:
<br />&#160;&#160;&#160;&#160;now the noun is awake;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] sits bolt upright. 'Hey! Ow!' So much for that true love's kiss nonsense.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12981_223" -->
<a id="c12981_223"></a><blockquote class="code"><p class="quoted">
Instead of kissing an asleep person:
<br />&#160;&#160;&#160;&#160;now the noun is awake;
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] slowly stirs to wakefulness!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12982_223" -->
<a id="c12982_223"></a><blockquote class="code"><p class="quoted">
Instead of throwing water at an asleep person:
<br />&#160;&#160;&#160;&#160;now the second noun is awake;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;You pour out [the noun] on [the second noun].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12983_223" -->
<a id="c12983_223"></a><blockquote class="code"><p class="quoted">
[The second noun] wakes, shuddering. 'Agh! I had a terrible dream about drowning and then-- Hey!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12984_223" -->
<a id="c12984_223"></a><blockquote class="code"><p class="quoted">
The player carries a jug of water. Understand &quot;pour [something] on [something]&quot; or &quot;splash [something] at/on [something]&quot; as throwing it at.
</p></blockquote>
<!-- END CODE -->
<p>So much, we had before. Now, suppose we want a conversation style which allows the player to move conversation forward by asking appropriate questions, but which will keep moving forward even if he doesn't. To this end, we provide a table -- a borrowing from a later chapter. In the table, we record two ways of performing each conversation bit, one which reflects the player's participation, and one in which the character moves things onward:</p>
<!-- START CODE "c12985_223" -->
<a id="c12985_223"></a><blockquote class="code"><p class="quoted">
Table of Conversation
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td><td class="quotedtablecell"><p class="quoted">quip</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;dream/dreams/nightmare/nightmares/sleep&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Sleep well?' you ask solicitously.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12986_223" -->
<a id="c12986_223"></a><blockquote class="code"><p class="quoted">
</p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">'Not really,' she replies, edging away from you. So much for that angle.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Ghastly nightmares,' she remarks. You nod politely.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'So,' you say. 'This is a little weird since we just met, but, um. Would you like to get married?'</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12987_223" -->
<a id="c12987_223"></a><blockquote class="code"><p class="quoted">
</p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">She looks at you nervously. 'Do I have to?'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I, er,' she says. 'I hope I'm not supposed to marry you or something.'&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'I was told I was going to marry you and inherit the kingdom,' you say, apologetically. 'Would that be very bad?'</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12988_223" -->
<a id="c12988_223"></a><blockquote class="code"><p class="quoted">
'Oh, it's not you -- I'm seeing someone,' she says, smiling quickly.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12989_223" -->
<a id="c12989_223"></a><blockquote class="code"><p class="quoted">
</p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">You try to think how to point out that it's been a hundred years since she last saw her boyfriend.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Do you think I could go look for someone? I'm seeing him, you see, and I think I've been... sick... for a while, so he might be worried.'</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12990_223" -->
<a id="c12990_223"></a><blockquote class="code"><p class="quoted">
You try to think how to point out that it's been a hundred years since she last saw her boyfriend.&quot;
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'You've been up here for a hundred years,' you say. An unpleasant thought occurs to you. 'Was your young man in the castle somewhere?'</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12991_223" -->
<a id="c12991_223"></a><blockquote class="code"><p class="quoted">
</p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">She shakes her head mutely.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;She goes to the window and looks out at the now-fading thicket of briar. 'That took a while to grow,' she observes. 'I've been up here longer than I thought.'</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12992_223" -->
<a id="c12992_223"></a><blockquote class="code"><p class="quoted">
You shrug, uncomfortable.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12993_223" -->
<a id="c12993_223"></a><blockquote class="code"><p class="quoted">
Instead of asking an awake beauty about a topic listed in the Table of Conversation:
<br />&#160;&#160;&#160;&#160;now Beauty is passive;
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;now Beauty is passive&quot; line prevents her from making any conversation of her own on a turn when we've spoken to her. This keeps the conversation from progressing too quickly.</p>
<!-- START CODE "c12994_223" -->
<a id="c12994_223"></a><blockquote class="code"><p class="quoted">
Instead of telling an awake beauty about something: try asking the noun about it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12995_223" -->
<a id="c12995_223"></a><blockquote class="code"><p class="quoted">
Instead of asking an asleep person about something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] snores.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12996_223" -->
<a id="c12996_223"></a><blockquote class="code"><p class="quoted">
Marriage Proposal ends when the number of filled rows in the Table of Conversation is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12997_223" -->
<a id="c12997_223"></a><blockquote class="code"><p class="quoted">
Every turn during Marriage Proposal:
<br />&#160;&#160;&#160;&#160;if Beauty is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat through Table of Conversation:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[quip entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<p>After we've generated any spontaneous conversation, we return her to her regular active state.</p>
<!-- START CODE "c12998_223" -->
<a id="c12998_223"></a><blockquote class="code"><p class="quoted">
Every turn: now Beauty is active.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c12999_223" -->
<a id="c12999_223"></a><blockquote class="code"><p class="quoted">
When Marriage Proposal ends: end the story saying &quot;This is going to take some explaining.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13000_223" -->
<a id="c13000_223"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we have a scenario in which the player can ask her some questions out of order if he really wants to, but the scene will not end until the basic conversation topics have been exhausted. If we wanted to add some other chit-chat, not as part of the main conversation strand, but by way of optional enrichment, we might make a second conversation table and record alternative outcomes in it.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "429: Robo 2" "e369" -->
<a id="e369"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example369'); return false;"><b>429</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example369'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Robo 2</span></b></a><br />A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc360.html#e369"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example369" style="display: none;">
<p>We have seen how we can make a robot that watches the player, then plays back the same actions again. A slightly more adventurous implementation would be to let the player create a whole series of named scripts which the robot will run on command.</p>
<p>To do this, we'll need each program to have a command that sets it off (stored as text, since this is the best way to capture and preserve arbitrary text entered by the player) and then the script of actions that must result:</p>
<!-- START CODE "c13001_369" -->
<a id="c13001_369"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Robo 2[=0x0022=][=0x000A=][=0x000A=]Use dynamic memory allocation of at least 16384.[=0x000A=][=0x000A=]Chapter 1 - Programming[=0x000A=][=0x000A=]Section 1 - The Programs Themselves[=0x000A=][=0x000A=]The hard drive is a container. A program is a kind of thing. 15 programs are in hard drive. A program has some text called the starter command. A program has a list of stored actions called the script. Understand the starter command property as describing a program.[=0x000A=][=0x000A=]Rule for printing the name of a program (called the target) which is not blank:[=0x000A=][=0x0009=]say [=0x0022=][starter command of the target in upper case][=0x0022=].[=0x000A=][=0x000A=]Definition: a program is blank if the number of entries in its script is 0.[=0x000A=][=0x000A=]The current instruction name is some text that varies. The current instruction set is a list of stored actions that varies.[=0x000A=][=0x000A=][Now, we want to let Robo learn new programs; for this purpose, we[=0x0027=]ll emulate the code from our previous implementation, so that Robo watches what the player does and stores those actions in his script:][=0x000A=][=0x000A=]Section 2 - Learning New Programs[=0x000A=][=0x000A=]Understand [=0x0022=]learn [text][=0x0022=] as learning. Learning is an action applying to one topic.[=0x000A=][=0x000A=]Check learning:[=0x000A=][=0x0009=]say [=0x0022=]You have already learned all you need to know. Robo, however, remains to be trained.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo learning:[=0x000A=][=0x0009=]if Robo is watching, say [=0x0022=]Robo is already recording [=0x0027=][the current instruction name][=0x0027=].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo learning:[=0x000A=][=0x0009=]truncate the current instruction set to 0 entries;[=0x000A=][=0x0009=]now the current instruction name is the topic understood;[=0x000A=][=0x0009=]now Robo is watching.[=0x000A=][=0x000A=]Report Robo learning:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Learning [the current instruction name in upper case],[=0x0027=] Robo replies.[=0x0022=][=0x000A=][=0x000A=]After doing something when Robo is watching and Robo can see the player:[=0x000A=][=0x0009=]now the actor is Robo;[=0x000A=][=0x0009=]add the current action to the current instruction set;[=0x000A=][=0x0009=]now the actor is the player;[=0x000A=][=0x0009=]say [=0x0022=]Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=][Of course, we also need to be able to switch learning mode off, and store any script learned this way. We[=0x0027=]ll also use the same STOP command to make Robo terminate a program he[=0x0027=]s in the middle of running.][=0x000A=][=0x000A=]Section 3 - Returning to Standby Mode[=0x000A=][=0x000A=]Understand [=0x0022=]stop[=0x0022=] as stopping. Stopping is an action applying to nothing.[=0x000A=][=0x000A=]Check stopping:[=0x000A=][=0x0009=]say [=0x0022=]The command is useful only for Robo.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo stopping:[=0x000A=][=0x0009=]if Robo is standing by, stop the action.[=0x000A=][=0x000A=]Carry out Robo stopping when Robo is watching:[=0x000A=][=0x0009=]let N be a random blank program;[=0x000A=][=0x0009=]if N is a program:[=0x000A=][=0x0009=][=0x0009=]now the starter command of N is the current instruction name;[=0x000A=][=0x0009=][=0x0009=]now the script of N is the current instruction set;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]Stored [current instruction name in upper case].[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]FAILURE: no program slots remaining.[=0x0022=][=0x000A=][=0x000A=]Carry out Robo stopping:[=0x000A=][=0x0009=]now Robo is standing by.[=0x000A=][=0x000A=]Report Robo stopping:[=0x000A=][=0x0009=]say [=0x0022=]Robo is now standing by.[=0x0022=][=0x000A=][=0x000A=][Next, we need to be able to play these programs back again. We[=0x0027=]ll give Robo a [=0x0022=]current program[=0x0022=] to store which program he[=0x0027=]s currently working on, and a number called [=0x0022=]stage[=0x0022=] which will record where he is in the script. Our previous implementation simply had Robo erase entries from his script list as he performed them, but this time we would like Robo to be able to remember and rerun the same scripts over and over, so we need something a little more subtle.][=0x000A=][=0x000A=]Section 4 - Running Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]run [any program][=0x0022=] as running. Running is an action applying to one visible thing.[=0x000A=][=0x000A=]Check running:[=0x000A=][=0x0009=]say [=0x0022=]Only Robo can perform Robo[=0x0027=]s programs.[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo running:[=0x000A=][=0x0009=]if Robo is not standing by, stop the action.[=0x000A=][=0x000A=]Unsuccessful attempt by Robo running:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]ERROR: Robo can launch new programs only when on standby.[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Carry out Robo running:[=0x000A=][=0x0009=]now the current program of Robo is the noun;[=0x000A=][=0x0009=]now the stage of Robo is 1;[=0x000A=][=0x0009=]now Robo is replaying.[=0x000A=][=0x000A=]Report Robo running:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Running [the starter command in upper case],[=0x0027=] Robo confirms.[=0x0022=][=0x000A=][=0x000A=]Every turn when Robo is replaying:[=0x000A=][=0x0009=]let the chosen script be the script of the current program of Robo;[=0x000A=][=0x0009=]let maximum be the number of entries in the chosen script;[=0x000A=][=0x0009=]let N be the stage of Robo;[=0x000A=][=0x0009=]let the next step be entry N of the chosen script;[=0x000A=][=0x0009=]try the next step;[=0x000A=][=0x0009=]increment the stage of Robo;[=0x000A=][=0x0009=]if the stage of Robo is greater than the maximum:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Robo[=0x0027=]s program ends, and he reverts to stand-by mode.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now Robo is standing by;[=0x000A=][=0x0009=][=0x0009=]now the stage of Robo is 1.[=0x000A=][=0x000A=][For the player[=0x0027=]s sanity, we should also provide a way to find out which programs Robo has stored in memory and what they do, so we design two listing commands:][=0x000A=][=0x000A=]Section 5 - Listing Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]list programs[=0x0022=] as requesting program list. Requesting program list is an action applying to nothing.[=0x000A=][=0x000A=]Check requesting program list:[=0x000A=][=0x0009=]say [=0x0022=]You will have to ask Robo to list programs.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo requesting program list:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]The available program[if more than one program is not blank]s[end if] [is-are list of programs which are not blank].[=0x0027=][=0x0022=].[=0x000A=][=0x000A=][=0x000A=]Understand [=0x0022=]describe [any program][=0x0022=] or [=0x0022=]list [any program][=0x0022=] as requesting script of. Requesting script of is an action applying to one visible thing.[=0x000A=][=0x000A=]Check requesting script of:[=0x000A=][=0x0009=]say [=0x0022=]You will have to ask Robo to give you the script.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo requesting script of:[=0x000A=][=0x0009=]say [=0x0022=]The script of [noun] is: [script of the noun].[=0x0022=][=0x000A=][=0x000A=][And to complete the suite, in case the player runs into Robo[=0x0027=]s fifteen-program limit:][=0x000A=][=0x000A=]Section 6 - Deleting Learned Programs[=0x000A=][=0x000A=]Understand [=0x0022=]delete [any program][=0x0022=] as deleting. Deleting is an action applying to one visible thing. Understand the command [=0x0022=]erase[=0x0022=] as [=0x0022=]delete[=0x0022=].[=0x000A=][=0x000A=]Check deleting:[=0x000A=][=0x0009=]say [=0x0022=]You will have to instruct Robo to delete [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Check Robo deleting (this is the can[=0x0027=]t delete except in standby rule):[=0x000A=][=0x0009=]if Robo is not standing by, stop the action.[=0x000A=][=0x000A=]Unsuccessful attempt by Robo deleting:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]ERROR: programs may only be deleted while Robo is in stand-by mode.[=0x0027=][=0x0022=] instead.[=0x000A=][=0x000A=]Carry out Robo deleting:[=0x000A=][=0x0009=]truncate the script of the noun to 0 entries;[=0x000A=][=0x0009=]now the starter command of the noun is [=0x0022=][=0x0022=].[=0x000A=][=0x000A=]Report Robo deleting:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]Program deleted.[=0x0027=][=0x0022=][=0x000A=][=0x000A=][Now we use pretty much the same set-up as before to test Robo[=0x0027=]s abilities:][=0x000A=][=0x000A=]Chapter 2 - The Scenario[=0x000A=][=0x000A=]The Experimentation Chamber is a room.[=0x000A=][=0x000A=]Robo is a man in the Experimentation Chamber. [=0x0022=]Robo, your prototype tin companion, stands awkwardly beside you[if watching], watching[end if].[=0x0022=] Robo can be watching, replaying, or standing by. Robo is standing by. Robo has a program called the current program. Robo has a number called the stage.[=0x000A=][=0x000A=]Persuasion rule: persuasion succeeds.[=0x000A=][=0x000A=]The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.[=0x000A=][=0x000A=]Report Robo examining Robo:[=0x000A=][=0x0009=]say [=0x0022=]Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo examining the player:[=0x000A=][=0x0009=]say [=0x0022=]Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].[=0x0022=] instead.[=0x000A=][=0x000A=]Report Robo taking the cylinder:[=0x000A=][=0x0009=]say [=0x0022=][one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].[=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]test chocolate / test vanilla[=0x0022=].[=0x000A=][=0x000A=]Test chocolate with [=0x0022=]learn chocolate / stop / list programs / Robo, learn chocolate / take red / put all on counter / Robo, stop / Robo, list programs / Robo, run chocolate / z / Robo, run chocolate / Robo, stop / z[=0x0022=].[=0x000A=][=0x000A=]Test vanilla with [=0x0022=]Robo, learn vanilla / take all / i / drop all / x robo / x me / Robo, stop / Robo, list programs / Robo, list vanilla / Robo, run vanilla / z / z / robo, delete vanilla / robo, stop / robo, list vanilla / robo, delete vanilla / robo, list programs[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Robo 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13002_369" -->
<a id="c13002_369"></a><blockquote class="code"><p class="quoted">
Use dynamic memory allocation of at least 16384.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13003_369" -->
<a id="c13003_369"></a><blockquote class="code"><p class="quoted">
Chapter 1 - Programming
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13004_369" -->
<a id="c13004_369"></a><blockquote class="code"><p class="quoted">
Section 1 - The Programs Themselves
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13005_369" -->
<a id="c13005_369"></a><blockquote class="code"><p class="quoted">
The hard drive is a container. A program is a kind of thing. 15 programs are in hard drive. A program has some text called the starter command. A program has a list of stored actions called the script. Understand the starter command property as describing a program.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13006_369" -->
<a id="c13006_369"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a program (called the target) which is not blank:
<br />&#160;&#160;&#160;&#160;say &quot;[starter command of the target in upper case]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13007_369" -->
<a id="c13007_369"></a><blockquote class="code"><p class="quoted">
Definition: a program is blank if the number of entries in its script is 0.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13008_369" -->
<a id="c13008_369"></a><blockquote class="code"><p class="quoted">
The current instruction name is some text that varies. The current instruction set is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<p>Now, we want to let Robo learn new programs; for this purpose, we'll emulate the code from our previous implementation, so that Robo watches what the player does and stores those actions in his script:</p>
<!-- START CODE "c13009_369" -->
<a id="c13009_369"></a><blockquote class="code"><p class="quoted">
Section 2 - Learning New Programs
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13010_369" -->
<a id="c13010_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;learn [text]&quot; as learning. Learning is an action applying to one topic.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13011_369" -->
<a id="c13011_369"></a><blockquote class="code"><p class="quoted">
Check learning:
<br />&#160;&#160;&#160;&#160;say &quot;You have already learned all you need to know. Robo, however, remains to be trained.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13012_369" -->
<a id="c13012_369"></a><blockquote class="code"><p class="quoted">
Check Robo learning:
<br />&#160;&#160;&#160;&#160;if Robo is watching, say &quot;Robo is already recording '[the current instruction name]'.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13013_369" -->
<a id="c13013_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo learning:
<br />&#160;&#160;&#160;&#160;truncate the current instruction set to 0 entries;
<br />&#160;&#160;&#160;&#160;now the current instruction name is the topic understood;
<br />&#160;&#160;&#160;&#160;now Robo is watching.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13014_369" -->
<a id="c13014_369"></a><blockquote class="code"><p class="quoted">
Report Robo learning:
<br />&#160;&#160;&#160;&#160;say &quot;'Learning [the current instruction name in upper case],' Robo replies.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13015_369" -->
<a id="c13015_369"></a><blockquote class="code"><p class="quoted">
After doing something when Robo is watching and Robo can see the player:
<br />&#160;&#160;&#160;&#160;now the actor is Robo;
<br />&#160;&#160;&#160;&#160;add the current action to the current instruction set;
<br />&#160;&#160;&#160;&#160;now the actor is the player;
<br />&#160;&#160;&#160;&#160;say &quot;Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<p>Of course, we also need to be able to switch learning mode off, and store any script learned this way. We'll also use the same STOP command to make Robo terminate a program he's in the middle of running.</p>
<!-- START CODE "c13016_369" -->
<a id="c13016_369"></a><blockquote class="code"><p class="quoted">
Section 3 - Returning to Standby Mode
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13017_369" -->
<a id="c13017_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;stop&quot; as stopping. Stopping is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13018_369" -->
<a id="c13018_369"></a><blockquote class="code"><p class="quoted">
Check stopping:
<br />&#160;&#160;&#160;&#160;say &quot;The command is useful only for Robo.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13019_369" -->
<a id="c13019_369"></a><blockquote class="code"><p class="quoted">
Check Robo stopping:
<br />&#160;&#160;&#160;&#160;if Robo is standing by, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13020_369" -->
<a id="c13020_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo stopping when Robo is watching:
<br />&#160;&#160;&#160;&#160;let N be a random blank program;
<br />&#160;&#160;&#160;&#160;if N is a program:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the starter command of N is the current instruction name;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the script of N is the current instruction set;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Stored [current instruction name in upper case].'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;FAILURE: no program slots remaining.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13021_369" -->
<a id="c13021_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo stopping:
<br />&#160;&#160;&#160;&#160;now Robo is standing by.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13022_369" -->
<a id="c13022_369"></a><blockquote class="code"><p class="quoted">
Report Robo stopping:
<br />&#160;&#160;&#160;&#160;say &quot;Robo is now standing by.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Next, we need to be able to play these programs back again. We'll give Robo a &quot;current program&quot; to store which program he's currently working on, and a number called &quot;stage&quot; which will record where he is in the script. Our previous implementation simply had Robo erase entries from his script list as he performed them, but this time we would like Robo to be able to remember and rerun the same scripts over and over, so we need something a little more subtle.</p>
<!-- START CODE "c13023_369" -->
<a id="c13023_369"></a><blockquote class="code"><p class="quoted">
Section 4 - Running Learned Programs
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13024_369" -->
<a id="c13024_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;run [any program]&quot; as running. Running is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13025_369" -->
<a id="c13025_369"></a><blockquote class="code"><p class="quoted">
Check running:
<br />&#160;&#160;&#160;&#160;say &quot;Only Robo can perform Robo's programs.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13026_369" -->
<a id="c13026_369"></a><blockquote class="code"><p class="quoted">
Check Robo running:
<br />&#160;&#160;&#160;&#160;if Robo is not standing by, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13027_369" -->
<a id="c13027_369"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Robo running:
<br />&#160;&#160;&#160;&#160;say &quot;'ERROR: Robo can launch new programs only when on standby.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13028_369" -->
<a id="c13028_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo running:
<br />&#160;&#160;&#160;&#160;now the current program of Robo is the noun;
<br />&#160;&#160;&#160;&#160;now the stage of Robo is 1;
<br />&#160;&#160;&#160;&#160;now Robo is replaying.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13029_369" -->
<a id="c13029_369"></a><blockquote class="code"><p class="quoted">
Report Robo running:
<br />&#160;&#160;&#160;&#160;say &quot;'Running [the starter command in upper case],' Robo confirms.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13030_369" -->
<a id="c13030_369"></a><blockquote class="code"><p class="quoted">
Every turn when Robo is replaying:
<br />&#160;&#160;&#160;&#160;let the chosen script be the script of the current program of Robo;
<br />&#160;&#160;&#160;&#160;let maximum be the number of entries in the chosen script;
<br />&#160;&#160;&#160;&#160;let N be the stage of Robo;
<br />&#160;&#160;&#160;&#160;let the next step be entry N of the chosen script;
<br />&#160;&#160;&#160;&#160;try the next step;
<br />&#160;&#160;&#160;&#160;increment the stage of Robo;
<br />&#160;&#160;&#160;&#160;if the stage of Robo is greater than the maximum:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Robo's program ends, and he reverts to stand-by mode.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now Robo is standing by;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the stage of Robo is 1.
</p></blockquote>
<!-- END CODE -->
<p>For the player's sanity, we should also provide a way to find out which programs Robo has stored in memory and what they do, so we design two listing commands:</p>
<!-- START CODE "c13031_369" -->
<a id="c13031_369"></a><blockquote class="code"><p class="quoted">
Section 5 - Listing Learned Programs
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13032_369" -->
<a id="c13032_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;list programs&quot; as requesting program list. Requesting program list is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13033_369" -->
<a id="c13033_369"></a><blockquote class="code"><p class="quoted">
Check requesting program list:
<br />&#160;&#160;&#160;&#160;say &quot;You will have to ask Robo to list programs.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13034_369" -->
<a id="c13034_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo requesting program list:
<br />&#160;&#160;&#160;&#160;say &quot;'The available program[if more than one program is not blank]s[end if] [is-are list of programs which are not blank].'&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13035_369" -->
<a id="c13035_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;describe [any program]&quot; or &quot;list [any program]&quot; as requesting script of. Requesting script of is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13036_369" -->
<a id="c13036_369"></a><blockquote class="code"><p class="quoted">
Check requesting script of:
<br />&#160;&#160;&#160;&#160;say &quot;You will have to ask Robo to give you the script.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13037_369" -->
<a id="c13037_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo requesting script of:
<br />&#160;&#160;&#160;&#160;say &quot;The script of [noun] is: [script of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And to complete the suite, in case the player runs into Robo's fifteen-program limit:</p>
<!-- START CODE "c13038_369" -->
<a id="c13038_369"></a><blockquote class="code"><p class="quoted">
Section 6 - Deleting Learned Programs
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13039_369" -->
<a id="c13039_369"></a><blockquote class="code"><p class="quoted">
Understand &quot;delete [any program]&quot; as deleting. Deleting is an action applying to one visible thing. Understand the command &quot;erase&quot; as &quot;delete&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13040_369" -->
<a id="c13040_369"></a><blockquote class="code"><p class="quoted">
Check deleting:
<br />&#160;&#160;&#160;&#160;say &quot;You will have to instruct Robo to delete [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13041_369" -->
<a id="c13041_369"></a><blockquote class="code"><p class="quoted">
Check Robo deleting (this is the can't delete except in standby rule):
<br />&#160;&#160;&#160;&#160;if Robo is not standing by, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13042_369" -->
<a id="c13042_369"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Robo deleting:
<br />&#160;&#160;&#160;&#160;say &quot;'ERROR: programs may only be deleted while Robo is in stand-by mode.'&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13043_369" -->
<a id="c13043_369"></a><blockquote class="code"><p class="quoted">
Carry out Robo deleting:
<br />&#160;&#160;&#160;&#160;truncate the script of the noun to 0 entries;
<br />&#160;&#160;&#160;&#160;now the starter command of the noun is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13044_369" -->
<a id="c13044_369"></a><blockquote class="code"><p class="quoted">
Report Robo deleting:
<br />&#160;&#160;&#160;&#160;say &quot;'Program deleted.'&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we use pretty much the same set-up as before to test Robo's abilities:</p>
<!-- START CODE "c13045_369" -->
<a id="c13045_369"></a><blockquote class="code"><p class="quoted">
Chapter 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13046_369" -->
<a id="c13046_369"></a><blockquote class="code"><p class="quoted">
The Experimentation Chamber is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13047_369" -->
<a id="c13047_369"></a><blockquote class="code"><p class="quoted">
Robo is a man in the Experimentation Chamber. &quot;Robo, your prototype tin companion, stands awkwardly beside you[if watching], watching[end if].&quot; Robo can be watching, replaying, or standing by. Robo is standing by. Robo has a program called the current program. Robo has a number called the stage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13048_369" -->
<a id="c13048_369"></a><blockquote class="code"><p class="quoted">
Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13049_369" -->
<a id="c13049_369"></a><blockquote class="code"><p class="quoted">
The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13050_369" -->
<a id="c13050_369"></a><blockquote class="code"><p class="quoted">
Report Robo examining Robo:
<br />&#160;&#160;&#160;&#160;say &quot;Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this).&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13051_369" -->
<a id="c13051_369"></a><blockquote class="code"><p class="quoted">
Report Robo examining the player:
<br />&#160;&#160;&#160;&#160;say &quot;Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13052_369" -->
<a id="c13052_369"></a><blockquote class="code"><p class="quoted">
Report Robo taking the cylinder:
<br />&#160;&#160;&#160;&#160;say &quot;[one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13053_369" -->
<a id="c13053_369"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test chocolate / test vanilla&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13054_369" -->
<a id="c13054_369"></a><blockquote class="code"><p class="quoted">
Test chocolate with &quot;learn chocolate / stop / list programs / Robo, learn chocolate / take red / put all on counter / Robo, stop / Robo, list programs / Robo, run chocolate / z / Robo, run chocolate / Robo, stop / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13055_369" -->
<a id="c13055_369"></a><blockquote class="code"><p class="quoted">
Test vanilla with &quot;Robo, learn vanilla / take all / i / drop all / x robo / x me / Robo, stop / Robo, list programs / Robo, list vanilla / Robo, run vanilla / z / z / robo, delete vanilla / robo, stop / robo, list vanilla / robo, delete vanilla / robo, list programs&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could also have written this so that Robo learns new scripts by accepting the player's instructions, so that</p>
<!-- START CODE "c13056_369" -->
<a id="c13056_369"></a><blockquote class="code"><p class="quoted">
&gt;ROBO, LEARN LIBRARY THEFT
<br />&gt;ROBO, TAKE BOOK
<br />&gt;ROBO, EAST
<br />&gt;ROBO, STOP
</p></blockquote>
<!-- END CODE -->
<p>...would store the script 'library theft' with the actions taking the book and going east. The implementation there would have been mostly identical, except that instead of an &quot;after doing something...&quot; rule, we would have captured commands as we asked Robo to perform them, and added those to the command list in progress. The alternative code might look something like this:</p>
<!-- START CODE "c13057_369" -->
<a id="c13057_369"></a><blockquote class="code"><p class="quoted">
Before Robo doing something other than stopping when Robo is watching:
<br />&#160;&#160;&#160;&#160;add the current action to the current instruction set;
<br />&#160;&#160;&#160;&#160;say &quot;'CHECK: [current action] added to script,' says Robo.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13058_369" -->
<a id="c13058_369"></a><blockquote class="code"><p class="quoted">
Unsuccessful attempt by Robo doing something when Robo is watching:
<br />&#160;&#160;&#160;&#160;say &quot;He does not actually perform the action.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc57.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc59.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
