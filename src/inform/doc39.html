<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>3.14. Devices and descriptions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Devices and descriptions" -->
<!-- SEARCH SECTION "3.14" -->
<!-- SEARCH SORT "000-003-014-000" -->
<!-- START IGNORE 38 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc38.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 3: Things</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc40.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง3.14. Devices and descriptions</p>
<p>A &quot;device&quot; is another of the standard kinds of thing, and should be used for anything which can be switched on or off: a light switch, say, or a slide projector. Devices are generally machines, clockwork or electrical. A device is always either &quot;switched on&quot; or &quot;switched off&quot;, but is switched off unless we specify otherwise.</p>
<p>That makes three kinds of thing which will likely change their appearance according to which of their two possible states they are in: doors and containers, which can be open or closed; and devices, which can be switched on or switched off. We would like to produce text accordingly, and we can do this using Inform's ability to make (almost) any piece of text change with circumstances. For instance:</p>
<!-- START CODE "c310" -->
<a id="c310"></a><blockquote class="code"><p class="quoted">
The coffin is an openable container in the Undertomb. &quot;[if open]The lid of a plank coffin yawns open.[otherwise]A plank coffin lies upon the dirt floor of the Tomb.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We could use a similar trick to make the appearance of a device change &quot;if switched on&quot;. There will be much more about text substitutions, as instructions in square brackets like these are called, in later chapters.</p>
<p class="crossreference"><a href="doc69.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Text with substitutions</b></a><i> for more on varying what is printed</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "25: Disenchantment Bay 7" "e208" -->
<a id="e208"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example208'); return false;"><b>25</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example208'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Disenchantment Bay 7</span></b></a><br />Disenchantment Bay: making the radar and instruments switch on and off.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc3.html#e208"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example208" style="display: none;">
<p>If we would like the player to be able to turn instrumentation on and off, we could add a line to this effect:</p>
<!-- START CODE "c311_208" -->
<a id="c311_208"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The radar, the instruments, and the radios are devices.[=0x000A=][=0x000A=][And since the captain is probably not navigating blind, we might also want to say][=0x000A=][=0x000A=]The radar and the instruments are switched on.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> The radar, the instruments, and the radios are devices.
</p></blockquote>
<!-- END CODE -->
<p>And since the captain is probably not navigating blind, we might also want to say</p>
<!-- START CODE "c312_208" -->
<a id="c312_208"></a><blockquote class="code"><p class="quoted">
The radar and the instruments are switched on.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "26: Down Below" "e200" -->
<a id="e200"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example200'); return false;"><b>26</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example200'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Down Below</span></b></a><br />A light switch which makes the room it is in dark or light.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc14.html#e200"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example200" style="display: none;">
<p>Suppose we want to have a room with a light switch. Turning the switch off makes the room go dark; turning it on restores the light. This kind of switch is an obvious candidate as a device.</p>
<!-- START CODE "c313_200" -->
<a id="c313_200"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Down Below[=0x0022=][=0x000A=][=0x000A=]Terrifying Basement is a room. The light switch is a switched on device in the Terrifying Basement. It is fixed in place.[=0x000A=][=0x000A=][Here we define our light switch, and we also make it start out as [=0x0022=]switched on[=0x0022=]. The Terrifying Basement will also start out lit (as all rooms do, by default, unless we specifically say that they are dark). We further say that it is fixed in place to avoid the ludicrous possibility of the player picking it up and carrying it away.][=0x000A=][=0x000A=][Next we add some instructions to control how turning the light switch on and off affects the room light. These borrow from later chapters on actions, but the gist may be obvious anyway:][=0x000A=][=0x000A=]Carry out switching off the light switch: now the Terrifying Basement is dark.[=0x000A=][=0x000A=]Carry out switching on the light switch: now the Terrifying Basement is lighted.[=0x000A=][=0x000A=][Inform already has the idea of light and darkness built in; we will see more about this later, and the Phrasebook (in the Index tab) also contains a list of all the adjectives (lighted, dark, etc) which are important to use here.][=0x000A=][=0x000A=][Speaking of the Index, the Actions tab contains a list of all the grammar that can be used to activate a given command: for instance, the switching action responds to [=0x0022=]switch [something][=0x0022=] or [=0x0022=]turn on [something][=0x0022=]. In this case, we may want to give the player an extra option or two. It would be pretty natural for a player to try [=0x003E=]FLIP SWITCH, so let[=0x0027=]s add that in:][=0x000A=][=0x000A=]Understand [=0x0022=]flip [something switched off][=0x0022=] as switching on. Understand [=0x0022=]flip [something switched on][=0x0022=] as switching off. Understand [=0x0022=]flip [something][=0x0022=] as switching on.[=0x000A=][=0x000A=][The nuances of this will be explored in the chapter on Understanding. What is useful to know here is that we have taught Inform to understand that [=0x003E=]FLIP LIGHT SWITCH means to turn it on when the switch is already off; if the switch is already on, FLIP SWITCH means to turn the switch off. Depending on the kind of device we are modeling (button? lever? dial?), we might want to write similar lines for commands such as PUSH, PRESS, PULL, TURN, and so on.][=0x000A=][=0x000A=][Finally, we need to deal with a special case. In general, the player cannot interact with other things in a dark room because he can[=0x0027=]t see them, but if we adhered strictly to this it would be impossible for him to find the light switch to turn it back on. So we need something from the chapter on Activities to change this:][=0x000A=][=0x000A=]After deciding the scope of the player when the location is the Terrifying Basement:[=0x000A=][=0x0009=]place the light switch in scope.[=0x000A=][=0x000A=]Upstairs is above the Terrifying Basement.[=0x000A=][=0x000A=]Test me with [=0x0022=]turn off light / look / flip light switch[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Down Below&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c314_200" -->
<a id="c314_200"></a><blockquote class="code"><p class="quoted">
Terrifying Basement is a room. The light switch is a switched on device in the Terrifying Basement. It is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Here we define our light switch, and we also make it start out as &quot;switched on&quot;. The Terrifying Basement will also start out lit (as all rooms do, by default, unless we specifically say that they are dark). We further say that it is fixed in place to avoid the ludicrous possibility of the player picking it up and carrying it away.</p>
<p>Next we add some instructions to control how turning the light switch on and off affects the room light. These borrow from later chapters on actions, but the gist may be obvious anyway:</p>
<!-- START CODE "c315_200" -->
<a id="c315_200"></a><blockquote class="code"><p class="quoted">
Carry out switching off the light switch: now the Terrifying Basement is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c316_200" -->
<a id="c316_200"></a><blockquote class="code"><p class="quoted">
Carry out switching on the light switch: now the Terrifying Basement is lighted.
</p></blockquote>
<!-- END CODE -->
<p>Inform already has the idea of light and darkness built in; we will see more about this later, and the Phrasebook (in the Index tab) also contains a list of all the adjectives (lighted, dark, etc) which are important to use here.</p>
<p>Speaking of the Index, the Actions tab contains a list of all the grammar that can be used to activate a given command: for instance, the switching action responds to &quot;switch [something]&quot; or &quot;turn on [something]&quot;. In this case, we may want to give the player an extra option or two. It would be pretty natural for a player to try &gt;FLIP SWITCH, so let's add that in:</p>
<!-- START CODE "c317_200" -->
<a id="c317_200"></a><blockquote class="code"><p class="quoted">
Understand &quot;flip [something switched off]&quot; as switching on. Understand &quot;flip [something switched on]&quot; as switching off. Understand &quot;flip [something]&quot; as switching on.
</p></blockquote>
<!-- END CODE -->
<p>The nuances of this will be explored in the chapter on Understanding. What is useful to know here is that we have taught Inform to understand that &gt;FLIP LIGHT SWITCH means to turn it on when the switch is already off; if the switch is already on, FLIP SWITCH means to turn the switch off. Depending on the kind of device we are modeling (button? lever? dial?), we might want to write similar lines for commands such as PUSH, PRESS, PULL, TURN, and so on.</p>
<p>Finally, we need to deal with a special case. In general, the player cannot interact with other things in a dark room because he can't see them, but if we adhered strictly to this it would be impossible for him to find the light switch to turn it back on. So we need something from the chapter on Activities to change this:</p>
<!-- START CODE "c318_200" -->
<a id="c318_200"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is the Terrifying Basement:
<br />&#160;&#160;&#160;&#160;place the light switch in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c319_200" -->
<a id="c319_200"></a><blockquote class="code"><p class="quoted">
Upstairs is above the Terrifying Basement.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c320_200" -->
<a id="c320_200"></a><blockquote class="code"><p class="quoted">
Test me with &quot;turn off light / look / flip light switch&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc38.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc40.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
