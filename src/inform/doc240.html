<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>15.15. The parts of a number specification</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "The parts of a number specification" -->
<!-- SEARCH SECTION "15.15" -->
<!-- SEARCH SORT "000-015-015-000" -->
<!-- START IGNORE 239 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc239.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 15: Numbers and Equations</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc241.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง15.15. The parts of a number specification</p>
<p>We often need to break up a number specification into its pieces. For instance, suppose we want to know the dollars part of $1.99? We can do this by naming the parts:</p>
<!-- START CODE "c4717" -->
<a id="c4717"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p></blockquote>
<!-- END CODE -->
<p>We can now find the relevant parts like so. Suppose that &quot;sum&quot; is a monetary value. Then:</p>
<!-- START CODE "c4718" -->
<a id="c4718"></a><blockquote class="code"><p class="quoted">
dollars part of sum
<br />cents part of sum
</p></blockquote>
<!-- END CODE -->
<p>are both numbers, so for instance we can</p>
<!-- START CODE "c4719" -->
<a id="c4719"></a><blockquote class="code"><p class="quoted">
say &quot;Looks like around [dollars part of sum in words] dollar[s].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can also go the other way:</p>
<!-- START CODE "c4720" -->
<a id="c4720"></a><blockquote class="code"><p class="quoted">
monetary value with dollars part 4 cents part 72
</p></blockquote>
<!-- END CODE -->
<p>produces the monetary value $4.72. (Note the lack of commas or &quot;and&quot;s, and that the parts have to be given in the right order.) This is really intended to be useful when we manipulate such values in unusual ways:</p>
<!-- START CODE "c4721" -->
<a id="c4721"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:20 specifies an aspect ratio with parts width and height.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4722" -->
<a id="c4722"></a><blockquote class="code"><p class="quoted">
To decide which aspect ratio is the wider version of (AR - an aspect ratio):
<br />&#160;&#160;&#160;&#160;let W be the width part of AR multiplied by 2;
<br />&#160;&#160;&#160;&#160;let H be the height part of AR;
<br />&#160;&#160;&#160;&#160;let the wider ratio be the aspect ratio with width part W height part H;
<br />&#160;&#160;&#160;&#160;decide on the wider ratio.
</p></blockquote>
<!-- END CODE -->
<p>Declaring the parts of a number specification individually also enables us to tack one or more options onto any of the parts:</p>
<!-- START CODE "c4723" -->
<a id="c4723"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<p>This declares that the &quot;cents&quot; part is optional - it will be 0 if not specified - and that if omitted, the non-numeric &quot;preamble&quot; before it should also be omitted. Thus &quot;$3&quot; is now valid and equivalent to &quot;$3.00&quot;: indeed it will be the preferred form when Inform prints out a monetary value which is an exact number of dollars. If we had said that &quot;cents&quot; was optional, but not said that the preamble was optional, then &quot;$3.&quot; would have been the form - which is less satisfactory.</p>
<p>There is only one other option: &quot;without leading zeros&quot;, as in the following.</p>
<!-- START CODE "c4724" -->
<a id="c4724"></a><blockquote class="code"><p class="quoted">
An aspect ratio is a kind of value. 16:20 specifies an aspect ratio with parts width and height (without leading zeros).
</p></blockquote>
<!-- END CODE -->
<p>This ensures that when the ratio 4:3 is printed, it will be printed as &quot;4:3&quot; and not &quot;4:03&quot; as would otherwise happen.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "260: Zqlran Era 8" "e441" -->
<a id="e441"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example441'); return false;"><b>260</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example441'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zqlran Era 8</span></b></a><br />Creating an alternative system of time for our game, using new units.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc17.html#e441"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example441" style="display: none;">
<p>Suppose that our game takes place on an alien planet that does not follow Earth time. On this planet, we want to track time with different units. We also want time to advance in those units, and we want to be able to set a schedule of timed events.</p>
<!-- START CODE "c4725_441" -->
<a id="c4725_441"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zqlran Era 8[=0x0022=][=0x000A=][=0x000A=]The Barren Lavender Surface of Zql is a room. [=0x0022=]It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.[=0x0022=][=0x000A=][=0x000A=]A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now left hand status line is [=0x0022=][current zqlran date], or [current zqlran date in words][=0x0022=].[=0x000A=][=0x000A=]To say (Zqlra - a Zqlran date) in words:[=0x000A=][=0x0009=]say [=0x0022=][zqls part of Zqlra] Z, [frbs part of Zqlra] f.[=0x0022=][=0x000A=][=0x000A=][Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.][=0x000A=][=0x000A=][Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform[=0x0027=]s built-in time handling with an alternative time handling rule of our own:][=0x000A=][=0x000A=]The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.[=0x000A=][=0x000A=]This is the Zqlran time rule:[=0x000A=][=0x0009=]increment turn count;[=0x000A=][=0x0009=]now the previous zqlran date is current zqlran date;[=0x000A=][=0x0009=]increase the current zqlran date by 0-02;[=0x000A=][=0x0009=]repeat through the Table of Zql Schedule:[=0x000A=][=0x0009=][=0x0009=]if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say event entry;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]blank out the whole row.[=0x000A=][=0x000A=]Table of Zql Schedule[=0x000A=]era[=0x0009=]event[=0x000A=]8-24[=0x0009=][=0x0022=]A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.[=0x0022=][=0x000A=]8-28[=0x0009=][=0x0022=]The cloud across Nepenthe clears.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zqlran Era 8&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4726_441" -->
<a id="c4726_441"></a><blockquote class="code"><p class="quoted">
The Barren Lavender Surface of Zql is a room. &quot;It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4727_441" -->
<a id="c4727_441"></a><blockquote class="code"><p class="quoted">
A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4728_441" -->
<a id="c4728_441"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;[current zqlran date], or [current zqlran date in words]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4729_441" -->
<a id="c4729_441"></a><blockquote class="code"><p class="quoted">
To say (Zqlra - a Zqlran date) in words:
<br />&#160;&#160;&#160;&#160;say &quot;[zqls part of Zqlra] Z, [frbs part of Zqlra] f.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.</p>
<p>Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform's built-in time handling with an alternative time handling rule of our own:</p>
<!-- START CODE "c4730_441" -->
<a id="c4730_441"></a><blockquote class="code"><p class="quoted">
The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4731_441" -->
<a id="c4731_441"></a><blockquote class="code"><p class="quoted">
This is the Zqlran time rule:
<br />&#160;&#160;&#160;&#160;increment turn count;
<br />&#160;&#160;&#160;&#160;now the previous zqlran date is current zqlran date;
<br />&#160;&#160;&#160;&#160;increase the current zqlran date by 0-02;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Zql Schedule:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say event entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4732_441" -->
<a id="c4732_441"></a><blockquote class="code"><p class="quoted">
Table of Zql Schedule
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">era</p></td><td class="quotedtablecell"><p class="quoted">event</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-24</p></td><td class="quotedtablecell"><p class="quoted">&quot;A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-28</p></td><td class="quotedtablecell"><p class="quoted">&quot;The cloud across Nepenthe clears.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Note that we could if we wished use a different device for scheduling events: this one simply prints text at scheduled eras, but we might also (for instance) make the event entry be a rule for Inform to follow, and tell Inform to carry out that rule at the scheduled time.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc239.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc241.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
