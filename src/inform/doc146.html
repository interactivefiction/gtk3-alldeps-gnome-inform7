<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.12. Actions as conditions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Actions as conditions" -->
<!-- SEARCH SECTION "9.12" -->
<!-- SEARCH SORT "000-009-012-000" -->
<!-- START IGNORE 145 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc145.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Time</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc147.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง9.12. Actions as conditions</p>
<p>There are two ways that descriptions of actions can be used as conditions. First, we can simply describe an action, and then the condition will be true if that is what the player is trying to do, and not otherwise:</p>
<!-- START CODE "c2281" -->
<a id="c2281"></a><blockquote class="code"><p class="quoted">
if taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>This is actually an abbreviation for the longer, some would say preferable form:</p>
<!-- START CODE "c2282" -->
<a id="c2282"></a><blockquote class="code"><p class="quoted">
if we are taking a container, ...
</p></blockquote>
<!-- END CODE -->
<p>Secondly, we can talk about the past as well as the present, which is very useful since interactive fiction often contains situations which are changed by earlier events.</p>
<!-- START CODE "c2283" -->
<a id="c2283"></a><blockquote class="code"><p class="quoted">
Instead of waiting when we have taken the lantern, say &quot;No, your acquisitive nature is roused now, and simply waiting will no longer do.&quot;
</p></blockquote>
<!-- END CODE -->
<p>More on the past tense later follows in the next section: note that &quot;we are taking&quot; has become &quot;we have taken&quot;. For the rule to apply, it is not enough that the action &quot;taking the lantern&quot; has been tried: it must have succeeded. Note also that it's enough for any actor in the story to have successfully taken the lantern: it doesn't have to be the player.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "147: Night Sky" "e379" -->
<a id="e379"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example379'); return false;"><b>147</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example379'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Night Sky</span></b></a><br />A room which changes its description depending on whether an object has been examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc8.html#e379"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example379" style="display: none;">
<p>Sometimes a nice effect is to change the way things are described depending on the information the player has gained in the course of play. We could for instance write this:</p>
<!-- START CODE "c2284_379" -->
<a id="c2284_379"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Night Sky[=0x0022=][=0x000A=][=0x000A=]The Planetarium is a room. [=0x0022=][if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if][=0x0022=][=0x000A=][=0x000A=]The sinister message is a thing in the Planetarium. [=0x0022=]A message is taped to the wall.[=0x0022=] The description is [=0x0022=][=0x0027=]BEWARE.[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]look / x message / look[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2285_379" -->
<a id="c2285_379"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2286_379" -->
<a id="c2286_379"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message is taped to the wall.&quot; The description is &quot;'BEWARE.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2287_379" -->
<a id="c2287_379"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / x message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>On the other hand, beware that this would not work as desired:</p>
<!-- START CODE "c2288_379" -->
<a id="c2288_379"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Night Sky[=0x0022=][=0x000A=][=0x000A=]The Planetarium is a room. [=0x0022=][if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if][=0x0022=][=0x000A=][=0x000A=]The sinister message is a thing in the Planetarium. [=0x0022=]A message plays very softly, so that you would have to listen to hear it.[=0x0022=] Instead of doing anything other than listening to the message: say [=0x0022=]It[=0x0027=]s only a sound, after all.[=0x0022=]. Instead of listening to the sinister message: say [=0x0022=]A voice whispers, [=0x0027=]BEWARE[=0x0027=].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]listen to message / look[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Night Sky&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2289_379" -->
<a id="c2289_379"></a><blockquote class="code"><p class="quoted">
The Planetarium is a room. &quot;[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2290_379" -->
<a id="c2290_379"></a><blockquote class="code"><p class="quoted">
The sinister message is a thing in the Planetarium. &quot;A message plays very softly, so that you would have to listen to hear it.&quot; Instead of doing anything other than listening to the message: say &quot;It's only a sound, after all.&quot;. Instead of listening to the sinister message: say &quot;A voice whispers, 'BEWARE'.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2291_379" -->
<a id="c2291_379"></a><blockquote class="code"><p class="quoted">
Test me with &quot;listen to message / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The reason is that our Instead rule has pre-empted normal listening, so Inform considers that we have never successfully heard the message. The moral here is that &quot;if we have...&quot; is useful for tracking events that otherwise proceeded completely normally (picking up ordinary objects, examining things); if we have used instead to make some change, we will have to use a different approach to record that the event did occur as scheduled.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "148: Zero" "e17" -->
<a id="e17"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example17'); return false;"><b>148</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example17'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zero</span></b></a><br />A box which called "horribly heavy box" after the player has tried to take it the first time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc27.html#e17"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example17" style="display: none;">
<p>The names of objects might want to change also:</p>
<!-- START CODE "c2292_17" -->
<a id="c2292_17"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zero[=0x0022=][=0x000A=][=0x000A=]Weight is a kind of value. The weights are light, manageable, and horribly heavy. Everything has a weight.[=0x000A=][=0x000A=]A thing is usually manageable.[=0x000A=][=0x000A=][This does require a rule for an activity (see the chapter on Activities), but it[=0x0027=]s a fairly straightforward one:][=0x000A=][=0x000A=]Before printing the name of a horribly heavy thing (called weighty object):[=0x000A=][=0x0009=]if we have taken the weighty object, say [=0x0022=][weight] [=0x0022=].[=0x000A=][=0x000A=]The Nearly Empty Living Room is a room. [=0x0022=]Nearly everything is out, all of Helen[=0x0027=]s possessions and most of yours.[=0x0022=] A man called Mr Zero is in the Nearly Empty Living Room. [=0x0022=]Mr Zero, despite being heavily paid to assist in this operation, is giving you a look that clearly conveys his lack of interest in budging even one more item.[=0x0022=] The description of Mr Zero is [=0x0022=]Many muscles, no hair.[=0x0022=][=0x000A=][=0x000A=]The book box is a horribly heavy thing in the Living Room. The clothing box is a manageable thing in the Living Room. A broom, a dustpan, some packing tape, and a discarded newspaper are light things in the Living Room.[=0x000A=][=0x000A=]After taking a horribly heavy thing:[=0x000A=][=0x0009=]say [=0x0022=]Taken. (Oof.)[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get clothing / look / get book box / look / i / drop book box / look[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zero&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2293_17" -->
<a id="c2293_17"></a><blockquote class="code"><p class="quoted">
Weight is a kind of value. The weights are light, manageable, and horribly heavy. Everything has a weight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2294_17" -->
<a id="c2294_17"></a><blockquote class="code"><p class="quoted">
A thing is usually manageable.
</p></blockquote>
<!-- END CODE -->
<p>This does require a rule for an activity (see the chapter on Activities), but it's a fairly straightforward one:</p>
<!-- START CODE "c2295_17" -->
<a id="c2295_17"></a><blockquote class="code"><p class="quoted">
Before printing the name of a horribly heavy thing (called weighty object):
<br />&#160;&#160;&#160;&#160;if we have taken the weighty object, say &quot;[weight] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2296_17" -->
<a id="c2296_17"></a><blockquote class="code"><p class="quoted">
The Nearly Empty Living Room is a room. &quot;Nearly everything is out, all of Helen's possessions and most of yours.&quot; A man called Mr Zero is in the Nearly Empty Living Room. &quot;Mr Zero, despite being heavily paid to assist in this operation, is giving you a look that clearly conveys his lack of interest in budging even one more item.&quot; The description of Mr Zero is &quot;Many muscles, no hair.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2297_17" -->
<a id="c2297_17"></a><blockquote class="code"><p class="quoted">
The book box is a horribly heavy thing in the Living Room. The clothing box is a manageable thing in the Living Room. A broom, a dustpan, some packing tape, and a discarded newspaper are light things in the Living Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2298_17" -->
<a id="c2298_17"></a><blockquote class="code"><p class="quoted">
After taking a horribly heavy thing:
<br />&#160;&#160;&#160;&#160;say &quot;Taken. (Oof.)&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2299_17" -->
<a id="c2299_17"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get clothing / look / get book box / look / i / drop book box / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc145.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc147.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
