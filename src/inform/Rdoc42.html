<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>6.14. Remembering, Converting and Combining Actions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Remembering, Converting and Combining Actions" -->
<!-- SEARCH SECTION "6.14" -->
<!-- SEARCH SORT "001-006-014-000" -->
<!-- START IGNORE 41 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc41.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 6: Commands</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc43.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง6.14. Remembering, Converting and Combining Actions</p>
<p>Sometimes we want Inform to apply a player's action to a different target than the one specified: for instance, directing all (or almost all) commands from the doorknob to the door of which it is a part. <span class="boldface">Fine Laid</span> demonstrates how to do this. Along the same lines, <span class="boldface">Lucy</span> shows how to direct a player's conversation action to apply to a new conversation topic.</p>
<p>We can also record a series of actions performed by the player or by another character.</p>
<p><span class="boldface">Cactus Will Outlive Us All</span> demonstrates characters each of whom reacts to a very specific provocation; <span class="boldface">I Didn't Come All The Way From Great Portland Street</span> implements a game show in which the player is not allowed ever to repeat an action he has already performed; and <span class="boldface">Leopard-skin</span> implements a maze which the player can escape only by performing a specific sequence of actions.</p>
<p><span class="boldface">Anteaters</span> provides a peculiar gizmo that can remember actions performed in its presence and force the player to reiterate them.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "89: Fine Laid" "e241" -->
<a id="e241"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example241'); return false;"><b>89</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example241'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fine Laid</span></b></a><br />Making writing that can be separately examined from the paper on which it appears, but which directs all other actions to the paper.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc101.html#e241"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example241" style="display: none;">
<p>Sometimes it is useful to direct all -- or almost all -- actions from one object to another. For the sake of argument, say we have a sheet of paper with writing on it, and (because we're very meticulous) we want to let the player examine the writing and get a customized response, different from when he just examines the sheet of paper. But for all other purposes -- say, TAKE or TASTE -- we want the two objects to be treated as one.</p>
<p>Here, we approach the problem by changing the noun and/or the second noun of the current action, then issuing a new command to &quot;try the current action&quot;. Because we've changed the noun and second noun, the &quot;current action&quot; at this point is different from the one generated originally by the player's command.</p>
<!-- START CODE "c11889_241" -->
<a id="c11889_241"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Fine Laid[=0x0022=][=0x000A=][=0x000A=]High Street Stationer is a room.[=0x000A=][=0x000A=]The sheet of paper is a thing in High Street Stationer. The writing is part of the sheet of paper.[=0x000A=][=0x000A=]The description of the sheet of paper is [=0x0022=]A beautiful sheet of heavy cream paper.[=0x0022=] The description of the writing is [=0x0022=]Delicate and spidery.[=0x0022=][=0x000A=][=0x000A=]Instead of tasting the sheet of paper, say [=0x0022=]You might need more fiber in your diet, but this isn[=0x0027=]t the way.[=0x0022=].[=0x000A=][=0x000A=]Before doing something other than examining when the current action involves the writing:[=0x000A=][=0x0009=]if the writing is the noun, now the noun is the sheet of paper;[=0x000A=][=0x0009=]if the writing is the second noun, now the second noun is the sheet of paper;[=0x000A=][=0x0009=]try the current action instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine sheet of paper / examine writing / get writing / taste writing[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Fine Laid&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11890_241" -->
<a id="c11890_241"></a><blockquote class="code"><p class="quoted">
High Street Stationer is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11891_241" -->
<a id="c11891_241"></a><blockquote class="code"><p class="quoted">
The sheet of paper is a thing in High Street Stationer. The writing is part of the sheet of paper.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11892_241" -->
<a id="c11892_241"></a><blockquote class="code"><p class="quoted">
The description of the sheet of paper is &quot;A beautiful sheet of heavy cream paper.&quot; The description of the writing is &quot;Delicate and spidery.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11893_241" -->
<a id="c11893_241"></a><blockquote class="code"><p class="quoted">
Instead of tasting the sheet of paper, say &quot;You might need more fiber in your diet, but this isn't the way.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11894_241" -->
<a id="c11894_241"></a><blockquote class="code"><p class="quoted">
Before doing something other than examining when the current action involves the writing:
<br />&#160;&#160;&#160;&#160;if the writing is the noun, now the noun is the sheet of paper;
<br />&#160;&#160;&#160;&#160;if the writing is the second noun, now the second noun is the sheet of paper;
<br />&#160;&#160;&#160;&#160;try the current action instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11895_241" -->
<a id="c11895_241"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine sheet of paper / examine writing / get writing / taste writing&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "91: Lucy" "e139" -->
<a id="e139"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example139'); return false;"><b>91</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example139'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lucy</span></b></a><br />Redirecting a question about one topic to ask about another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc103.html#e139"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example139" style="display: none;">
<p>Occasionally we will want to replace the player's question topic with another of our own devising. We can do this in the simplest possible case like so:</p>
<!-- START CODE "c11896_139" -->
<a id="c11896_139"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Lucy[=0x0022=][=0x000A=][=0x000A=]The International Boardgame Championship is a room. Lucy is a woman in the Championship.[=0x000A=][=0x000A=]Instead of asking Lucy about [=0x0022=]checkers[=0x0022=]:[=0x000A=][=0x0009=]try asking Lucy about [=0x0022=]games[=0x0022=].[=0x000A=][=0x000A=]Instead of asking Lucy about [=0x0022=]games[=0x0022=],[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]I don[=0x0027=]t like games,[=0x0027=] she sniffs.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]ask lucy about checkers / ask lucy about games[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Lucy&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11897_139" -->
<a id="c11897_139"></a><blockquote class="code"><p class="quoted">
The International Boardgame Championship is a room. Lucy is a woman in the Championship.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11898_139" -->
<a id="c11898_139"></a><blockquote class="code"><p class="quoted">
Instead of asking Lucy about &quot;checkers&quot;:
<br />&#160;&#160;&#160;&#160;try asking Lucy about &quot;games&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11899_139" -->
<a id="c11899_139"></a><blockquote class="code"><p class="quoted">
Instead of asking Lucy about &quot;games&quot;,
<br />&#160;&#160;&#160;&#160;say &quot;'I don't like games,' she sniffs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11900_139" -->
<a id="c11900_139"></a><blockquote class="code"><p class="quoted">
Test me with &quot;ask lucy about checkers / ask lucy about games&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that this syntax did not work in older versions of Inform; it is now safe.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "219: Cactus Will Outlive Us All" "e12" -->
<a id="e12"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example12'); return false;"><b>219</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example12'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cactus Will Outlive Us All</span></b></a><br />For every character besides the player, there is an action that will cause that character to wither right up and die.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc196.html#e12"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example12" style="display: none;">
<!-- START CODE "c11901_12" -->
<a id="c11901_12"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Cactus Will Outlive Us All[=0x0022=][=0x000A=][=0x000A=]Death Valley is a room. Luckless Luke and Dead-Eye Pete are men in the Valley. A cactus is in the Valley. Persuasion rule: persuasion succeeds.[=0x000A=][=0x000A=]A person has an action called death knell. The death knell of Luckless Luke is pulling the cactus. The death knell of Dead-Eye Pete is Luke trying dropping the cactus.[=0x000A=][=0x000A=]Before an actor doing something:[=0x000A=][=0x0009=]repeat with the victim running through people in the location:[=0x000A=][=0x0009=][=0x0009=]let the DK be the death knell of the victim;[=0x000A=][=0x0009=][=0x0009=]if the DK is not waiting and the current action is the DK:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]It looks as if [the DK] was the death knell for [the victim], who looks startled, then nonexistent.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the victim is nowhere.[=0x000A=][=0x000A=][If we leave it at that, then pulling the cactus will kill Luckless Luke but then say [=0x0022=]Nothing obvious happens.[=0x0022=], which seems like a bit of an anti-climax. So we add a special case response for that one:][=0x000A=][=0x000A=]After pulling the cactus when Luckless Luke was in the location:[=0x000A=][=0x0009=]say [=0x0022=]That[=0x0027=]s a real shame.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get cactus / drop cactus / luke, get cactus / luke, drop cactus / pull cactus / look[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Cactus Will Outlive Us All&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11902_12" -->
<a id="c11902_12"></a><blockquote class="code"><p class="quoted">
Death Valley is a room. Luckless Luke and Dead-Eye Pete are men in the Valley. A cactus is in the Valley. Persuasion rule: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11903_12" -->
<a id="c11903_12"></a><blockquote class="code"><p class="quoted">
A person has an action called death knell. The death knell of Luckless Luke is pulling the cactus. The death knell of Dead-Eye Pete is Luke trying dropping the cactus.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11904_12" -->
<a id="c11904_12"></a><blockquote class="code"><p class="quoted">
Before an actor doing something:
<br />&#160;&#160;&#160;&#160;repeat with the victim running through people in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the DK be the death knell of the victim;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the DK is not waiting and the current action is the DK:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It looks as if [the DK] was the death knell for [the victim], who looks startled, then nonexistent.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the victim is nowhere.
</p></blockquote>
<!-- END CODE -->
<p>If we leave it at that, then pulling the cactus will kill Luckless Luke but then say &quot;Nothing obvious happens.&quot;, which seems like a bit of an anti-climax. So we add a special case response for that one:</p>
<!-- START CODE "c11905_12" -->
<a id="c11905_12"></a><blockquote class="code"><p class="quoted">
After pulling the cactus when Luckless Luke was in the location:
<br />&#160;&#160;&#160;&#160;say &quot;That's a real shame.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11906_12" -->
<a id="c11906_12"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get cactus / drop cactus / luke, get cactus / luke, drop cactus / pull cactus / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "430: Leopard-skin" "e349" -->
<a id="e349"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example349'); return false;"><b>430</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example349'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Leopard-skin</span></b></a><br />A maze that the player can escape if he performs an exact sequence of actions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc361.html#e349"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example349" style="display: none;">
<p>Suppose (as in Infocom's Leather Goddesses of Phobos) that we have a maze that the player can escape only by performing the correct sequence of actions in the correct order. One way to do this would be to keep a list of the player's most recent actions, and see whether these match up with the combination we have established as the maze's solution.</p>
<p>For instance:</p>
<!-- START CODE "c11907_349" -->
<a id="c11907_349"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Leopard-skin[=0x0022=][=0x000A=][=0x000A=]The Fur-Lined Maze is a room. [=0x0022=]This seemingly endless sequence of rooms is decorated in a tasteful selection of exotic furs and gilded fixtures.[=0x0022=][=0x000A=][=0x000A=]Clapping is an action applying to nothing. Understand [=0x0022=]clap[=0x0022=] as clapping.[=0x000A=]Kweepaing is an action applying to nothing. Understand [=0x0022=]kweepa[=0x0022=] as kweepaing.[=0x000A=][=0x000A=]Carry out clapping:[=0x000A=][=0x0009=]say [=0x0022=]You clap.[=0x0022=][=0x000A=][=0x000A=]Carry out kweepaing:[=0x000A=][=0x0009=]say [=0x0022=]You holler [=0x0027=]KWEEPA![=0x0027=] triumphantly.[=0x0022=][=0x000A=][=0x000A=]The maze-sequence is a list of stored actions that varies.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]add jumping to the maze-sequence;[=0x000A=][=0x0009=]add clapping to the maze-sequence;[=0x000A=][=0x0009=]add kweepaing to the maze-sequence.[=0x000A=][=0x000A=]The attempted-sequence is a list of stored actions that varies.[=0x000A=][=0x000A=]Every turn when the player is in the Fur-Lined Maze:[=0x000A=][=0x0009=]truncate the attempted-sequence to the last two entries;[=0x000A=][=0x0009=]add the current action to the attempted-sequence;[=0x000A=][=0x0009=]if the attempted-sequence is the maze-sequence:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]That does it! You are instantly transported from the maze![=0x0022=];[=0x000A=][=0x0009=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]hop / clap / clap / hop / kweepa / hop / clap / kweepa[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Leopard-skin&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11908_349" -->
<a id="c11908_349"></a><blockquote class="code"><p class="quoted">
The Fur-Lined Maze is a room. &quot;This seemingly endless sequence of rooms is decorated in a tasteful selection of exotic furs and gilded fixtures.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11909_349" -->
<a id="c11909_349"></a><blockquote class="code"><p class="quoted">
Clapping is an action applying to nothing. Understand &quot;clap&quot; as clapping.
<br />Kweepaing is an action applying to nothing. Understand &quot;kweepa&quot; as kweepaing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11910_349" -->
<a id="c11910_349"></a><blockquote class="code"><p class="quoted">
Carry out clapping:
<br />&#160;&#160;&#160;&#160;say &quot;You clap.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11911_349" -->
<a id="c11911_349"></a><blockquote class="code"><p class="quoted">
Carry out kweepaing:
<br />&#160;&#160;&#160;&#160;say &quot;You holler 'KWEEPA!' triumphantly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11912_349" -->
<a id="c11912_349"></a><blockquote class="code"><p class="quoted">
The maze-sequence is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11913_349" -->
<a id="c11913_349"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;add jumping to the maze-sequence;
<br />&#160;&#160;&#160;&#160;add clapping to the maze-sequence;
<br />&#160;&#160;&#160;&#160;add kweepaing to the maze-sequence.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11914_349" -->
<a id="c11914_349"></a><blockquote class="code"><p class="quoted">
The attempted-sequence is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11915_349" -->
<a id="c11915_349"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the Fur-Lined Maze:
<br />&#160;&#160;&#160;&#160;truncate the attempted-sequence to the last two entries;
<br />&#160;&#160;&#160;&#160;add the current action to the attempted-sequence;
<br />&#160;&#160;&#160;&#160;if the attempted-sequence is the maze-sequence:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;That does it! You are instantly transported from the maze!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11916_349" -->
<a id="c11916_349"></a><blockquote class="code"><p class="quoted">
Test me with &quot;hop / clap / clap / hop / kweepa / hop / clap / kweepa&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "432: I Didn't Come All The Way From Great Portland Street" "e54" -->
<a id="e54"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example54'); return false;"><b>432</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example54'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">I Didn't Come All The Way From Great Portland Street</span></b></a><br />In this fiendishly difficult puzzle, which may perhaps owe some inspiration to a certain BBC Radio panel game (1967-), a list is used as a set of actions to help enforce the rule that the player must keep going for ten turns without hesitation, repetition, or deviating from the subject on the card.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc362.html#e54"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example54" style="display: none;">
<p>There is very little to this, in fact. The tricky rule to enforce is Repetition: the player is forbidden to repeat any previously tried action. We keep track of this by keeping a set of past actions, which for want of a better term is called the &quot;tally&quot;. All we need to do is:</p>
<!-- START CODE "c11917_54" -->
<a id="c11917_54"></a><blockquote class="code"><p class="quoted">
if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot;;
<br />otherwise add the current action to the tally.
</p></blockquote>
<!-- END CODE -->
<p>Note that the tally can never contain duplicates, and that when, at the end of the round, we print it out, we sort it first - this makes a more natural-looking sentence. (Sorting a list of actions uses the natural order for actions: compare the sequence on the Actions page of the Index.) The full text, then, is:</p>
<!-- START CODE "c11918_54" -->
<a id="c11918_54"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]I Didn[=0x0027=]t Come All The Way From Great Portland Street[=0x0022=][=0x000A=][=0x000A=]The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.[=0x000A=][=0x000A=]The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.[=0x000A=][=0x000A=]The tally is a list of stored actions that varies.[=0x000A=][=0x000A=]When the Round begins:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now![=0x0027=][=0x0022=][=0x000A=][=0x000A=]When the Round ends:[=0x000A=][=0x0009=]sort the tally;[=0x000A=][=0x0009=]say [=0x0022=]Phweeep![paragraph break][=0x0027=]So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]To challenge for (infraction - text):[=0x000A=][=0x0009=]say [=0x0022=]Bzzzzt! [=0x0027=]And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.[=0x0027=][paragraph break][=0x0027=][infraction][=0x0027=][paragraph break][=0x0027=]Well, as it[=0x0027=]s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now![=0x0022=][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the current action is listed in the tally, challenge for [=0x0022=]Repetition of [the current action]![=0x0022=] instead;[=0x000A=][=0x0009=]otherwise add the current action to the tally;[=0x000A=][=0x0009=]if waiting, challenge for [=0x0022=]Hesitation![=0x0022=] instead;[=0x000A=][=0x0009=]if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for [=0x0022=]Deviation![=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;I Didn't Come All The Way From Great Portland Street&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11919_54" -->
<a id="c11919_54"></a><blockquote class="code"><p class="quoted">
The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11920_54" -->
<a id="c11920_54"></a><blockquote class="code"><p class="quoted">
The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11921_54" -->
<a id="c11921_54"></a><blockquote class="code"><p class="quoted">
The tally is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11922_54" -->
<a id="c11922_54"></a><blockquote class="code"><p class="quoted">
When the Round begins:
<br />&#160;&#160;&#160;&#160;say &quot;'And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11923_54" -->
<a id="c11923_54"></a><blockquote class="code"><p class="quoted">
When the Round ends:
<br />&#160;&#160;&#160;&#160;sort the tally;
<br />&#160;&#160;&#160;&#160;say &quot;Phweeep![paragraph break]'So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11924_54" -->
<a id="c11924_54"></a><blockquote class="code"><p class="quoted">
To challenge for (infraction - text):
<br />&#160;&#160;&#160;&#160;say &quot;Bzzzzt! 'And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.'[paragraph break]'[infraction]'[paragraph break]'Well, as it's your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11925_54" -->
<a id="c11925_54"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise add the current action to the tally;
<br />&#160;&#160;&#160;&#160;if waiting, challenge for &quot;Hesitation!&quot; instead;
<br />&#160;&#160;&#160;&#160;if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for &quot;Deviation!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11926_54" -->
<a id="c11926_54"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(The Paris Theatre in Lower Regent Street, London, was for many years the home of BBC radio panel games.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "222: Anteaters" "e449" -->
<a id="e449"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example449'); return false;"><b>222</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example449'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Anteaters</span></b></a><br />The player carries a gizmo that is able to record actions performed by the player, then force him to repeat them when the gizmo is dropped. This includes storing actions that apply to topics, as in "look up anteater colonies in the guide".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc196.html#e449"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example449" style="display: none;">
<!-- START CODE "c11927_449" -->
<a id="c11927_449"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Anteaters[=0x0022=][=0x000A=][=0x000A=]A book is a kind of thing. Understand [=0x0022=]book[=0x0022=] as a book. A book has a table name called the contents.[=0x000A=][=0x000A=]Report consulting a book about:[=0x000A=][=0x0009=]say [=0x0022=]You flip through [the noun], but find no reference to [the topic understood].[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of consulting a book about a topic listed in the contents of the noun:[=0x000A=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]The Guide to Desert Fauna is a book. The contents of the Guide is the Table of Critters.[=0x000A=][=0x000A=]Table of Critters[=0x000A=]topic[=0x0009=]reply[=0x000A=][=0x0022=]spines[=0x0022=][=0x0009=][=0x0022=]You flip through the Guide for a while and eventually realise that spines are flora, not fauna.[=0x0022=][=0x000A=][=0x0022=]anteater colonies[=0x0022=][=0x0009=][=0x0022=]The giant anteater, which grows to six feet in size and can kill a jaguar, is a solitary animal, found in many habitats, including grasslands, deciduous forests and rainforests. It does not form colonies. That[=0x0027=]s ants. They[=0x0027=]re actually quite easy to tell apart.[=0x0022=][=0x000A=][=0x000A=]Death Valley is a room. The Guide is in the Valley.[=0x000A=][=0x000A=]The gizmo is in Death Valley. The gizmo has an action called idea. The description of the gizmo is [=0x0022=]The gizmo is hard to describe, but it projects an idea of [idea].[=0x0022=][=0x000A=][=0x000A=]Before when the player carries the gizmo and the idea of the gizmo is waiting:[=0x000A=][=0x0009=]say [=0x0022=][The gizmo] eagerly soaks up the whole idea of [the current action].[=0x0022=];[=0x000A=][=0x0009=]now the idea of the gizmo is the current action.[=0x000A=][=0x000A=]After dropping the gizmo:[=0x000A=][=0x0009=]say [=0x0022=]The percussion of the fall seems to have shaken the gizmo[=0x0027=]s idea loose! There[=0x0027=]s nothing for it now but [idea of the gizmo].[=0x0022=];[=0x000A=][=0x0009=]try the idea of the gizmo;[=0x000A=][=0x0009=]now the idea of the gizmo is waiting.[=0x000A=][=0x000A=]Test me with [=0x0022=]get guide / look up spines in guide / x gizmo / get gizmo / i / x gizmo / drop gizmo / get gizmo / look up anteater colonies in guide / x gizmo / drop gizmo[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Anteaters&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11928_449" -->
<a id="c11928_449"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Understand &quot;book&quot; as a book. A book has a table name called the contents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11929_449" -->
<a id="c11929_449"></a><blockquote class="code"><p class="quoted">
Report consulting a book about:
<br />&#160;&#160;&#160;&#160;say &quot;You flip through [the noun], but find no reference to [the topic understood].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11930_449" -->
<a id="c11930_449"></a><blockquote class="code"><p class="quoted">
Instead of consulting a book about a topic listed in the contents of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11931_449" -->
<a id="c11931_449"></a><blockquote class="code"><p class="quoted">
The Guide to Desert Fauna is a book. The contents of the Guide is the Table of Critters.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11932_449" -->
<a id="c11932_449"></a><blockquote class="code"><p class="quoted">
Table of Critters
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;spines&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;You flip through the Guide for a while and eventually realise that spines are flora, not fauna.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;anteater colonies&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;The giant anteater, which grows to six feet in size and can kill a jaguar, is a solitary animal, found in many habitats, including grasslands, deciduous forests and rainforests. It does not form colonies. That's ants. They're actually quite easy to tell apart.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11933_449" -->
<a id="c11933_449"></a><blockquote class="code"><p class="quoted">
Death Valley is a room. The Guide is in the Valley.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11934_449" -->
<a id="c11934_449"></a><blockquote class="code"><p class="quoted">
The gizmo is in Death Valley. The gizmo has an action called idea. The description of the gizmo is &quot;The gizmo is hard to describe, but it projects an idea of [idea].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11935_449" -->
<a id="c11935_449"></a><blockquote class="code"><p class="quoted">
Before when the player carries the gizmo and the idea of the gizmo is waiting:
<br />&#160;&#160;&#160;&#160;say &quot;[The gizmo] eagerly soaks up the whole idea of [the current action].&quot;;
<br />&#160;&#160;&#160;&#160;now the idea of the gizmo is the current action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11936_449" -->
<a id="c11936_449"></a><blockquote class="code"><p class="quoted">
After dropping the gizmo:
<br />&#160;&#160;&#160;&#160;say &quot;The percussion of the fall seems to have shaken the gizmo's idea loose! There's nothing for it now but [idea of the gizmo].&quot;;
<br />&#160;&#160;&#160;&#160;try the idea of the gizmo;
<br />&#160;&#160;&#160;&#160;now the idea of the gizmo is waiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c11937_449" -->
<a id="c11937_449"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get guide / look up spines in guide / x gizmo / get gizmo / i / x gizmo / drop gizmo / get gizmo / look up anteater colonies in guide / x gizmo / drop gizmo&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc41.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc43.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
