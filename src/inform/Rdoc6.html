<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>2.2. Varying What Is Read</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Varying What Is Read" -->
<!-- SEARCH SECTION "2.2" -->
<!-- SEARCH SORT "001-002-002-000" -->
<!-- START IGNORE 5 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc5.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 2: Adaptive Prose</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc7.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง2.2. Varying What Is Read</p>
<p>Making the printed text adapt to circumstances only makes half of the conversation graceful: the other half is to allow the player's commands to have a similar freedom. The things the player can refer to should always respond to the names which would seem natural to the player. Inform provides a variety of techniques for understanding words always, or only under certain conditions; and, if need be, we can also get direct access to what the player has typed in order to examine it with regular expressions. (This last resort is rarely necessary.)</p>
<p><span class="boldface">First Name Basis</span> shows how to assign names to things or to kinds of thing - if, for instance, we want the player to be able to refer to any man as &quot;man&quot; or &quot;gentleman&quot;:</p>
<!-- START CODE "c9639" -->
<a id="c9639"></a><blockquote class="code"><p class="quoted">
Understand &quot;man&quot; or &quot;gentleman&quot; as a man.
</p></blockquote>
<!-- END CODE -->
<p>We may also sometimes want to give names that are specifically plural, as in</p>
<!-- START CODE "c9640" -->
<a id="c9640"></a><blockquote class="code"><p class="quoted">
A duck is a kind of animal. Understand &quot;birds&quot; as the plural of duck.
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c9641" -->
<a id="c9641"></a><blockquote class="code"><p class="quoted">
Understand &quot;birds&quot; as the plural of the magpie.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Vouvray</span> demonstrates.</p>
<p>A common challenge arises when two objects have names that overlap or are related, and we wish Inform to choose sensibly between them: for instance, a cigarette vs. a cigarette case. If a word should apply to something only as part of a phrase (e.g., &quot;cigarette&quot; alone should never refer to the cigarette case) we can manage the situation as follows:</p>
<!-- START CODE "c9642" -->
<a id="c9642"></a><blockquote class="code"><p class="quoted">
The case is a closed openable container. The printed name is &quot;cigarette case&quot;. Understand &quot;cigarette case&quot; as the case.
</p></blockquote>
<!-- END CODE -->
<p>Because &quot;cigarette&quot; here appears only as part of the phrase &quot;cigarette case&quot;, it will be understood only in that context; the conflict with the bare cigarette will not arise.</p>
<p>As a variant, we may want one object only to take precedence over another in naming. If we wanted the player to be allowed to refer casually to the cigarette case as &quot;cigarette&quot; when (and only when) the cigarette itself is not in view, we could add</p>
<!-- START CODE "c9643" -->
<a id="c9643"></a><blockquote class="code"><p class="quoted">
Understand &quot;cigarette&quot; as the case when the cigarette is not visible.
</p></blockquote>
<!-- END CODE -->
<p>Tricks which consider the visibility of other objects can be bad for performance if used widely; but for adding finesse to the treatment of a few items, they work very well.</p>
<p>(There may still arise cases where the player uses a name which can legitimately refer to two different things in view. To deal with this situation, we may want the Does the player mean... rules, explained in the chapter on Understanding; and to change the way the story asks for clarification, see the two activities Asking which do you mean and Clarifying the parser's choice of something.)</p>
<p>Names of things which contain prepositions can also be tricky because Inform misreads the sentences creating them: <span class="boldface">Laura</span> shows how some awkward cases can be safely overcome.</p>
<p>A more difficult case is to ensure that if we change the description or nature of something in play, then the names we understand for it adapt, too. &quot;Understand... when...&quot; can be all that's needed:</p>
<!-- START CODE "c9644" -->
<a id="c9644"></a><blockquote class="code"><p class="quoted">
Understand &quot;king&quot; as Aragorn when we have crowned Aragorn.
</p></blockquote>
<!-- END CODE -->
<p>Or, similarly, if we want some combination of categories and characteristics to be recognized:</p>
<!-- START CODE "c9645" -->
<a id="c9645"></a><blockquote class="code"><p class="quoted">
Understand &quot;giant&quot; as a man when the item described is tall.
</p></blockquote>
<!-- END CODE -->
<p>&quot;The item described&quot; here refers to the thing being named. &quot;...when&quot; can even be useful in defining new commands, and <span class="boldface">Quiz Show</span> demonstrates how to ask open-ended questions that the player can answer only on the subsequent turn.</p>
<p>Properties can also be matched without fuss:</p>
<!-- START CODE "c9646" -->
<a id="c9646"></a><blockquote class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple. The wallpaper is fixed in place in the Hotel. The wallpaper has a tint. Understand the tint property as describing the wallpaper.
</p></blockquote>
<!-- END CODE -->
<p>This allows EXAMINE AQUAMARINE WALLPAPER if, but only if, it happens to be aquamarine at the moment. Relationships can also be matched automatically:</p>
<!-- START CODE "c9647" -->
<a id="c9647"></a><blockquote class="code"><p class="quoted">
A box is a kind of container. The red box is a box in the Toyshop. Some crayons are in the red box. Understand &quot;box of [something related by containment]&quot; as a box.
</p></blockquote>
<!-- END CODE -->
<p>which recognises BOX OF CRAYONS until they are removed, when it reverts to plain BOX only.</p>
<p>Greater difficulty arises if, using some variable or property or table to mark that a bottle contains wine, we print messages calling it &quot;bottle of wine&quot;. We are then honour-bound to understand commands like TAKE BOTTLE OF WINE in return, not to insist on TAKE BOTTLE. Almost all &quot;simulation&quot; IF runs in to issues like this, and there is no general solution because simulations are so varied.</p>
<p>A converse challenge arises when we want to <span class="italic">avoid</span> understanding the player's references to an object under some or all circumstances. This is relatively uncommon, but does sometimes occur. For this situation, Inform provides the &quot;privately-named&quot; property, as in</p>
<!-- START CODE "c9648" -->
<a id="c9648"></a><blockquote class="code"><p class="quoted">
The unrecognizable object is a privately-named thing in the Kitchen.
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;privately-named&quot; tells Inform not to understand the object's source name automatically. It is then up to us to create any understand lines we want to refer to the object, as in</p>
<!-- START CODE "c9649" -->
<a id="c9649"></a><blockquote class="code"><p class="quoted">
Understand &quot;oyster fork&quot; as the unrecognizable object when the etiquette book is read.
</p></blockquote>
<!-- END CODE -->
<p>Of course, if we need an object that the player is never allowed to refer to at all, we can just make this privately-named and then not provide any understand lines at all.</p>
<p>A final source of difficulty is that by default Inform truncates words to nine letters before attempting to identify them. This is no problem in most circumstances and is likely to go unnoticed -- until we have two very long words whose names are nearly identical, such as &quot;north-northwest exit&quot; and &quot;north-northeast exit&quot;. (To make matters worse, a punctuation mark such as a hyphen counts as two letters on its own.)</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would write</p>
<!-- START CODE "c9650" -->
<a id="c9650"></a><blockquote class="code"><p class="quoted">
Use DICT_WORD_SIZE of 15.
</p></blockquote>
<!-- END CODE -->
<p>When compiling for the Z-machine, the solution is harder. <span class="boldface">North by Northwest</span> shows how to use the reading a command activity to pre-process very long names, rendering them accessible to the parser again.</p>
<p>Inform also allows the player to refer to the most recently seen objects and people as IT, HIM, HER, and so on. It sets these pronouns by default, but there are times when we wish to override the way it does that. <span class="boldface">Pot of Petunias</span> shows off a way to make Inform recognize an object as IT when it would not otherwise have done so.</p>
<p class="crossreference"><a href="Rdoc81.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for a resolution of this bottle-of-wine issue</i></p><p class="crossreference"><a href="Rdoc7.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Using the Player's Input</b></a><i> for an example (Mr. Burns' Repast) in which a fish can be called by any arbitrary word as long as it ends in the letters -fish</i></p><p class="crossreference"><a href="Rdoc27.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Memory and Knowledge</b></a><i> for a way to refer to characters whom the player knows about but who aren't currently in the room</i></p><p class="crossreference"><a href="Rdoc45.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Clarification and Correction</b></a><i> for ways to improve guesses about what the player means</i></p><p class="crossreference"><a href="Rdoc46.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Alternatives To Standard Parsing</b></a><i> for several esoteric variations on the default behavior, such as accepting adverbs anywhere in the command, and scanning the player's input for keywords</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "11: First Name Basis" "e271" -->
<a id="e271"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example271'); return false;"><b>11</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example271'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">First Name Basis</span></b></a><br />Allowing the player to use different synonyms to refer to something.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc30.html#e271"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example271" style="display: none;">
<p>Sometimes we create objects that we want the player to be able to call by different names: a television that should also answer to &quot;tv&quot; and &quot;telly&quot;, for instance, or a refrigerator the player might also call &quot;fridge&quot;. In this case, we can use instructions like</p>
<!-- START CODE "c9651_271" -->
<a id="c9651_271"></a><blockquote class="code"><p class="quoted">
Understand &quot;tv&quot; and &quot;telly&quot; as the television.
</p></blockquote>
<!-- END CODE -->
<p>to add extra names to the object we've defined.</p>
<!-- START CODE "c9652_271" -->
<a id="c9652_271"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]First Name Basis[=0x0022=][=0x000A=][=0x000A=]The Crew Lounge is a room. [=0x0022=]Deliberately spartan: the crew feels weight restrictions here first, so there aren[=0x0027=]t any chairs, just a few thin pads on the ground.[=0x0022=][=0x000A=][=0x000A=]The holographic projector is a device in the Crew Lounge. [=0x0022=]The one major source of entertainment is the holographic projector, a top of the line Misthon 9000, on which you view every beam you can get.[=0x0022=] Understand [=0x0022=]holo[=0x0022=] or [=0x0022=]holograph[=0x0022=] or [=0x0022=]Misthon[=0x0022=] or [=0x0022=]9000[=0x0022=] as the projector.[=0x000A=][=0x000A=]The description of the projector is [=0x0022=][if switched on]The projector is now playing a documentary about the early politics of the Mars colony.[otherwise]The air above the projector is disappointingly clear.[end if][=0x0022=].[=0x000A=][=0x000A=][(This description is for local color; we will learn more about devices, and conditions like [=0x0022=]if switched on[=0x0022=], later in this chapter.)][=0x000A=][=0x000A=][By default, Inform does not understand the names of an object[=0x0027=]s kind as referring to that object, unless the object has no other name of its own. We can change this, if we like, by defining names that should be applied to everything of a given kind:][=0x000A=][=0x000A=]Lewis and Harper are men in the Crew Lounge. Understand [=0x0022=]man[=0x0022=] or [=0x0022=]guy[=0x0022=] or [=0x0022=]chap[=0x0022=] or [=0x0022=]lad[=0x0022=] or [=0x0022=]male[=0x0022=] as a man. Understand [=0x0022=]men[=0x0022=] or [=0x0022=]chaps[=0x0022=] or [=0x0022=]lads[=0x0022=] or [=0x0022=]guys[=0x0022=] or [=0x0022=]males[=0x0022=] as the plural of a man.[=0x000A=][=0x000A=]The description of Lewis is [=0x0022=]A wiry, excitable engineer who just signed aboard last week.[=0x0022=] The description of Harper is [=0x0022=]Harper[=0x0027=]s a good guy: taciturn when sober, affectionate when drunk, but rarely annoying in either state.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x holo / x man / lewis / x guy / harper / turn on projector / x holo projector / get men[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;First Name Basis&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9653_271" -->
<a id="c9653_271"></a><blockquote class="code"><p class="quoted">
The Crew Lounge is a room. &quot;Deliberately spartan: the crew feels weight restrictions here first, so there aren't any chairs, just a few thin pads on the ground.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9654_271" -->
<a id="c9654_271"></a><blockquote class="code"><p class="quoted">
The holographic projector is a device in the Crew Lounge. &quot;The one major source of entertainment is the holographic projector, a top of the line Misthon 9000, on which you view every beam you can get.&quot; Understand &quot;holo&quot; or &quot;holograph&quot; or &quot;Misthon&quot; or &quot;9000&quot; as the projector.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9655_271" -->
<a id="c9655_271"></a><blockquote class="code"><p class="quoted">
The description of the projector is &quot;[if switched on]The projector is now playing a documentary about the early politics of the Mars colony.[otherwise]The air above the projector is disappointingly clear.[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(This description is for local color; we will learn more about devices, and conditions like &quot;if switched on&quot;, later in this chapter.)</p>
<p>By default, Inform does not understand the names of an object's kind as referring to that object, unless the object has no other name of its own. We can change this, if we like, by defining names that should be applied to everything of a given kind:</p>
<!-- START CODE "c9656_271" -->
<a id="c9656_271"></a><blockquote class="code"><p class="quoted">
Lewis and Harper are men in the Crew Lounge. Understand &quot;man&quot; or &quot;guy&quot; or &quot;chap&quot; or &quot;lad&quot; or &quot;male&quot; as a man. Understand &quot;men&quot; or &quot;chaps&quot; or &quot;lads&quot; or &quot;guys&quot; or &quot;males&quot; as the plural of a man.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9657_271" -->
<a id="c9657_271"></a><blockquote class="code"><p class="quoted">
The description of Lewis is &quot;A wiry, excitable engineer who just signed aboard last week.&quot; The description of Harper is &quot;Harper's a good guy: taciturn when sober, affectionate when drunk, but rarely annoying in either state.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9658_271" -->
<a id="c9658_271"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x holo / x man / lewis / x guy / harper / turn on projector / x holo projector / get men&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Inform's naming abilities go considerably further, in fact: we can also instruct it to understand words only under certain circumstances, or only when they appear with other words. Fuller details may be found in the chapter on Understanding.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "323: Quiz Show" "e285" -->
<a id="e285"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example285'); return false;"><b>323</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example285'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Quiz Show</span></b></a><br />In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc281.html#e285"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example285" style="display: none;">
<!-- START CODE "c9659_285" -->
<a id="c9659_285"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Quiz Show[=0x0022=] by Mike Tarbert[=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]Answer mode is a truth state that varies.[=0x000A=]Current state is a text that varies.[=0x000A=][=0x000A=]Guessing is an action applying to one topic.[=0x000A=]Understand [=0x0022=][text][=0x0022=] as guessing when answer mode is true.[=0x000A=][=0x000A=][Because of the [=0x0022=]...when[=0x0022=] part of this line, random text is only treated as an answer when a question is being asked.][=0x000A=][=0x000A=]Check guessing (this is the default wrong answer rule):[=0x000A=][=0x0009=]if the topic understood is not a topic listed in the Table of Dates of Statehood:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Wrong![=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=]Carry out guessing a topic listed in the Table of Dates of Statehood:[=0x000A=][=0x0009=]if state entry is the current state:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Correct! ([comment entry], to be exact!)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]increase the score by one;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Wrong![=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=][This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.][=0x000A=][=0x000A=]Before doing anything other than guessing:[=0x000A=][=0x0009=]if answer mode is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](ignoring the question)[line break][=0x0022=];[=0x000A=][=0x0009=]now answer mode is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Lab is a room.  Sam is a man in the lab.[=0x000A=][=0x000A=]Every turn when the player is in the lab:[=0x000A=][=0x0009=]if a random chance of 3 in 5 succeeds:[=0x000A=][=0x0009=][=0x0009=]choose a random row in the Table of Dates of Statehood;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Sam asks you, [=0x0027=]In what year was [state entry] admitted into the Union?[=0x0027=][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now current state is state entry;[=0x000A=][=0x0009=][=0x0009=]now answer mode is true.[=0x000A=][=0x000A=]Table of Dates of Statehood[=0x000A=]State[=0x0009=]Topic[=0x0009=]Comment[=0x000A=][=0x0022=]Florida[=0x0022=][=0x0009=][=0x0022=]1845[=0x0022=][=0x0009=][=0x0022=]March 3rd[=0x0022=][=0x000A=][=0x0022=]Delaware[=0x0022=][=0x0009=][=0x0022=]1787[=0x0022=][=0x0009=][=0x0022=]December 7th[=0x0022=][=0x000A=][=0x0022=]Hawaii[=0x0022=][=0x0009=][=0x0022=]1960[=0x0022=][=0x0009=][=0x0022=]July 4th[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]1845 / z / z / 1787 / 1792 / z / 1845 / g[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Quiz Show&quot; by Mike Tarbert
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9660_285" -->
<a id="c9660_285"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9661_285" -->
<a id="c9661_285"></a><blockquote class="code"><p class="quoted">
Answer mode is a truth state that varies.
<br />Current state is a text that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9662_285" -->
<a id="c9662_285"></a><blockquote class="code"><p class="quoted">
Guessing is an action applying to one topic.
<br />Understand &quot;[text]&quot; as guessing when answer mode is true.
</p></blockquote>
<!-- END CODE -->
<p>Because of the &quot;...when&quot; part of this line, random text is only treated as an answer when a question is being asked.</p>
<!-- START CODE "c9663_285" -->
<a id="c9663_285"></a><blockquote class="code"><p class="quoted">
Check guessing (this is the default wrong answer rule):
<br />&#160;&#160;&#160;&#160;if the topic understood is not a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9664_285" -->
<a id="c9664_285"></a><blockquote class="code"><p class="quoted">
Carry out guessing a topic listed in the Table of Dates of Statehood:
<br />&#160;&#160;&#160;&#160;if state entry is the current state:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Correct! ([comment entry], to be exact!)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the score by one;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Wrong!&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<p>This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.</p>
<!-- START CODE "c9665_285" -->
<a id="c9665_285"></a><blockquote class="code"><p class="quoted">
Before doing anything other than guessing:
<br />&#160;&#160;&#160;&#160;if answer mode is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(ignoring the question)[line break]&quot;;
<br />&#160;&#160;&#160;&#160;now answer mode is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9666_285" -->
<a id="c9666_285"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9667_285" -->
<a id="c9667_285"></a><blockquote class="code"><p class="quoted">
The Lab is a room.  Sam is a man in the lab.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9668_285" -->
<a id="c9668_285"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the lab:
<br />&#160;&#160;&#160;&#160;if a random chance of 3 in 5 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a random row in the Table of Dates of Statehood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Sam asks you, 'In what year was [state entry] admitted into the Union?'&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current state is state entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now answer mode is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9669_285" -->
<a id="c9669_285"></a><blockquote class="code"><p class="quoted">
Table of Dates of Statehood
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">State</p></td><td class="quotedtablecell"><p class="quoted">Topic</p></td><td class="quotedtablecell"><p class="quoted">Comment</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Florida&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1845&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;March 3rd&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Delaware&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1787&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;December 7th&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;Hawaii&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1960&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;July 4th&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9670_285" -->
<a id="c9670_285"></a><blockquote class="code"><p class="quoted">
Test me with &quot;1845 / z / z / 1787 / 1792 / z / 1845 / g&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that the situation will become a little more complicated if we have two or more identical topics in our trivia list; in that case, we would need to loop through the Table of Dates of Statehood explicitly, and only mark the player wrong if none of the lines were found to match. (See the chapter on Tables for many more ways to manipulate table behavior.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "325: Pot of Petunias" "e132" -->
<a id="e132"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example132'); return false;"><b>325</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example132'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pot of Petunias</span></b></a><br />Responding sensibly to a pot of petunias falling from the sky.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc282.html#e132"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example132" style="display: none;">
<p>Suppose we have an object that makes a dramatic entrance on the scene, like so:</p>
<!-- START CODE "c9671_132" -->
<a id="c9671_132"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Pot of Petunias[=0x0022=][=0x000A=][=0x000A=]Wide Open Field is a room. [=0x0022=]A big field under a big sky. The clouds are puffy, the trees are handsome.[=0x0022=][=0x000A=][=0x000A=]Some clouds and some trees are scenery in Wide Open Field. The description of the clouds is [=0x0022=]That one looks like Yoda[=0x0027=]s head.[=0x0022=] The description of the trees is [=0x0022=]You[=0x0027=]ve never been much good at botany, so it[=0x0027=]s anyone[=0x0027=]s guess what kind they are.[=0x0022=][=0x000A=][=0x000A=]A rock is in Wide Open Field. The description of the rock is [=0x0022=]It looks like it[=0x0027=]s been here from the dawn of time.[=0x0022=][=0x000A=][=0x000A=]The broken flower pot is a thing. The description of the broken flower pot is [=0x0022=]It contains the remains of some abused petunias.[=0x0022=][=0x000A=][=0x000A=]At 9:01 am:[=0x000A=][=0x0009=]move the broken flower pot to the location;[=0x000A=][=0x0009=]say [=0x0022=]Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren[=0x0027=]t standing six inches to the left.[=0x0022=];[=0x000A=][=0x0009=]set pronouns from the broken flower pot.[=0x000A=][=0x000A=]Test me with [=0x0022=]x it / x it / x it[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Pot of Petunias&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9672_132" -->
<a id="c9672_132"></a><blockquote class="code"><p class="quoted">
Wide Open Field is a room. &quot;A big field under a big sky. The clouds are puffy, the trees are handsome.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9673_132" -->
<a id="c9673_132"></a><blockquote class="code"><p class="quoted">
Some clouds and some trees are scenery in Wide Open Field. The description of the clouds is &quot;That one looks like Yoda's head.&quot; The description of the trees is &quot;You've never been much good at botany, so it's anyone's guess what kind they are.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9674_132" -->
<a id="c9674_132"></a><blockquote class="code"><p class="quoted">
A rock is in Wide Open Field. The description of the rock is &quot;It looks like it's been here from the dawn of time.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9675_132" -->
<a id="c9675_132"></a><blockquote class="code"><p class="quoted">
The broken flower pot is a thing. The description of the broken flower pot is &quot;It contains the remains of some abused petunias.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9676_132" -->
<a id="c9676_132"></a><blockquote class="code"><p class="quoted">
At 9:01 am:
<br />&#160;&#160;&#160;&#160;move the broken flower pot to the location;
<br />&#160;&#160;&#160;&#160;say &quot;Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.&quot;;
<br />&#160;&#160;&#160;&#160;set pronouns from the broken flower pot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9677_132" -->
<a id="c9677_132"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x it / x it / x it&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we leave out the &quot;set pronouns...&quot; line here, we'll wind up with the following very unsatisfactory end to our test transcript:</p>
<!-- START CODE "c9678_132" -->
<a id="c9678_132"></a><blockquote class="code"><p class="quoted">
Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9679_132" -->
<a id="c9679_132"></a><blockquote class="code"><p class="quoted">
&gt;[3] x it
<br />It looks like it's been here from the dawn of time.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "19: Laura" "e186" -->
<a id="e186"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example186'); return false;"><b>19</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example186'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Laura</span></b></a><br />Some general advice about creating objects with unusual or awkward names, and a discussion of the use of printed names.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc36.html#e186"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example186" style="display: none;">
<p>Occasionally it is useful to give something a printed name because we want to call it something extremely long-winded; give one thing a name that is the subset of the name of something else; or use words such as &quot;with&quot; or &quot;and&quot; that are likely to confuse Inform into thinking that the object name ends before it actually does.</p>
<p>Often it is enough to preface these ambiguously-titled things with &quot;a thing called...&quot; or &quot;a supporter called...&quot; or the like, as here:</p>
<!-- START CODE "c9680_186" -->
<a id="c9680_186"></a><blockquote class="code"><p class="quoted">
South of Spring Rolls is a room called Hot and Sour Soup.
</p></blockquote>
<!-- END CODE -->
<p>prevents Inform from trying to read &quot;Hot and Sour Soup&quot; as two separate rooms, while</p>
<!-- START CODE "c9681_186" -->
<a id="c9681_186"></a><blockquote class="code"><p class="quoted">
The player carries an orange ticket. The player carries a thing called an orange.
</p></blockquote>
<!-- END CODE -->
<p>creates two objects instead of the one orange ticket that would result if the second sentence were merely &quot;The player carries an orange.&quot;</p>
<p>Really long names can be a bit cumbersome. For example:</p>
<!-- START CODE "c9682_186" -->
<a id="c9682_186"></a><blockquote class="code"><p class="quoted">
The player carries a thing called an incriminating photograph of a woman with blonde hair.
</p></blockquote>
<!-- END CODE -->
<p>So we might instead give the photograph a printed name:</p>
<!-- START CODE "c9683_186" -->
<a id="c9683_186"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Laura[=0x0022=][=0x000A=][=0x000A=]The City of Angels is a room. The incriminating photograph is carried by the player. The printed name of the incriminating photograph is [=0x0022=]incriminating photograph of a woman with blonde hair[=0x0022=].[=0x000A=][=0x000A=][Now we[=0x0027=]ve gotten around any awkwardness with printing the name -- but we also need to understand when the player refers to the photograph. When we define the names of objects under normal circumstances, Inform takes care of this automatically, but if we have especially set the printed name, we must also specially define the appropriate terms for the player to use. For this we need [=0x0022=]understand[=0x0022=], which will be explained in much more depth in a later chapter:][=0x000A=][=0x000A=]Understand [=0x0022=]woman[=0x0022=] or [=0x0022=]with[=0x0022=] or [=0x0022=]blonde[=0x0022=] or [=0x0022=]hair[=0x0022=] or [=0x0022=]of[=0x0022=] or [=0x0022=]a[=0x0022=] as the incriminating photograph.[=0x000A=][=0x000A=]Test one with [=0x0022=]x photograph / x incriminating photograph of a woman with blonde hair / x hair / x blonde / x woman with blonde hair / x incriminating photograph of a woman[=0x0022=].[=0x000A=][=0x000A=][That[=0x0027=]s probably as far as we really need to go, and if you are satisfied with this behavior, there is no need to read on.][=0x000A=][=0x000A=][One possible objection to this solution is that Inform will accept some nonsensical formulations as applying to the photograph: for instance, it will allow [=0x003E=]EXAMINE PHOTOGRAPH OF, [=0x003E=]X BLONDE PHOTOGRAPH WOMAN INCRIMINATING, or even [=0x003E=]X OF ...though in the case there were two items with [=0x0022=]of[=0x0022=] names, the game would disambiguate with a question such as [=0x0022=]Which do you mean, the incriminating photograph of a woman with blonde hair or the essence of wormwood?[=0x0022=]][=0x000A=][=0x000A=][Traditionally, Inform has tended to be fairly flexible about word order, preferring to err in the direction of leniency. On the other hand, there are times when we need more exacting rules in order to distinguish otherwise similar cases.][=0x000A=][=0x000A=][Two features allow us to specify more exactly if we so desire. The first is that, if we specify a whole phrase as the name of something, all the words in that phrase are required, in the order given. Thus [=0x0022=]Understand [=0x0022=]blonde hair[=0x0022=] as the photograph[=0x0022=] would require that both [=0x0022=]blonde[=0x0022=] and [=0x0022=]hair[=0x0022=] be present, and would not recognize [=0x003E=]X BLONDE, [=0x003E=]X HAIR BLONDE, or [=0x003E=]X HAIR.][=0x000A=][=0x000A=][Second, we can create tokens, such as [=0x0022=]Understand [=0x0022=]blonde hair[=0x0022=] or [=0x0022=]hair[=0x0022=] as [=0x0022=][hair][=0x0022=], and then use these tokens in match phrases. This saves a good deal of time when we want to specify a number of different but fussy alternatives. So, for instance, here is a drawing that would not respond to [=0x003E=]X OF, or [=0x003E=]X BROWN EYES, but would respond to [=0x003E=]X DRAWING OF MAN WITH BROWN EYES, [=0x003E=]X MAN WITH BROWN EYES, and so on:][=0x000A=][=0x000A=]The drawing is carried by the player. The printed name of the drawing is [=0x0022=]drawing of a man with brown eyes[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]eyes[=0x0022=] or [=0x0022=]brown eyes[=0x0022=] as [=0x0022=][brown eyes][=0x0022=]. Understand [=0x0022=]man[=0x0022=] or [=0x0022=]man with [brown eyes][=0x0022=] or [=0x0022=]brown-eyed man[=0x0022=] as [=0x0022=][man][=0x0022=]. Understand [=0x0022=][man][=0x0022=] or [=0x0022=]drawing of [man][=0x0022=] or [=0x0022=]drawing of a [man][=0x0022=] as the drawing.[=0x000A=][=0x000A=]Test me with [=0x0022=]test one / test two[=0x0022=].[=0x000A=][=0x000A=]Test two with [=0x0022=]x drawing / x man / x of / x drawing of man / x drawing of a man / x drawing of a man with brown eyes / x drawing of a brown-eyed man / x brown eyes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Laura&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9684_186" -->
<a id="c9684_186"></a><blockquote class="code"><p class="quoted">
The City of Angels is a room. The incriminating photograph is carried by the player. The printed name of the incriminating photograph is &quot;incriminating photograph of a woman with blonde hair&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now we've gotten around any awkwardness with printing the name -- but we also need to understand when the player refers to the photograph. When we define the names of objects under normal circumstances, Inform takes care of this automatically, but if we have especially set the printed name, we must also specially define the appropriate terms for the player to use. For this we need &quot;understand&quot;, which will be explained in much more depth in a later chapter:</p>
<!-- START CODE "c9685_186" -->
<a id="c9685_186"></a><blockquote class="code"><p class="quoted">
Understand &quot;woman&quot; or &quot;with&quot; or &quot;blonde&quot; or &quot;hair&quot; or &quot;of&quot; or &quot;a&quot; as the incriminating photograph.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9686_186" -->
<a id="c9686_186"></a><blockquote class="code"><p class="quoted">
Test one with &quot;x photograph / x incriminating photograph of a woman with blonde hair / x hair / x blonde / x woman with blonde hair / x incriminating photograph of a woman&quot;.
</p></blockquote>
<!-- END CODE -->
<p>That's probably as far as we really need to go, and if you are satisfied with this behavior, there is no need to read on.</p>
<p>One possible objection to this solution is that Inform will accept some nonsensical formulations as applying to the photograph: for instance, it will allow &gt;EXAMINE PHOTOGRAPH OF, &gt;X BLONDE PHOTOGRAPH WOMAN INCRIMINATING, or even &gt;X OF ...though in the case there were two items with &quot;of&quot; names, the game would disambiguate with a question such as &quot;Which do you mean, the incriminating photograph of a woman with blonde hair or the essence of wormwood?&quot;</p>
<p>Traditionally, Inform has tended to be fairly flexible about word order, preferring to err in the direction of leniency. On the other hand, there are times when we need more exacting rules in order to distinguish otherwise similar cases.</p>
<p>Two features allow us to specify more exactly if we so desire. The first is that, if we specify a whole phrase as the name of something, all the words in that phrase are required, in the order given. Thus &quot;Understand &quot;blonde hair&quot; as the photograph&quot; would require that both &quot;blonde&quot; and &quot;hair&quot; be present, and would not recognize &gt;X BLONDE, &gt;X HAIR BLONDE, or &gt;X HAIR.</p>
<p>Second, we can create tokens, such as &quot;Understand &quot;blonde hair&quot; or &quot;hair&quot; as &quot;[hair]&quot;, and then use these tokens in match phrases. This saves a good deal of time when we want to specify a number of different but fussy alternatives. So, for instance, here is a drawing that would not respond to &gt;X OF, or &gt;X BROWN EYES, but would respond to &gt;X DRAWING OF MAN WITH BROWN EYES, &gt;X MAN WITH BROWN EYES, and so on:</p>
<!-- START CODE "c9687_186" -->
<a id="c9687_186"></a><blockquote class="code"><p class="quoted">
The drawing is carried by the player. The printed name of the drawing is &quot;drawing of a man with brown eyes&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9688_186" -->
<a id="c9688_186"></a><blockquote class="code"><p class="quoted">
Understand &quot;eyes&quot; or &quot;brown eyes&quot; as &quot;[brown eyes]&quot;. Understand &quot;man&quot; or &quot;man with [brown eyes]&quot; or &quot;brown-eyed man&quot; as &quot;[man]&quot;. Understand &quot;[man]&quot; or &quot;drawing of [man]&quot; or &quot;drawing of a [man]&quot; as the drawing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9689_186" -->
<a id="c9689_186"></a><blockquote class="code"><p class="quoted">
Test me with &quot;test one / test two&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9690_186" -->
<a id="c9690_186"></a><blockquote class="code"><p class="quoted">
Test two with &quot;x drawing / x man / x of / x drawing of man / x drawing of a man / x drawing of a man with brown eyes / x drawing of a brown-eyed man / x brown eyes&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Further refinements are possible: the &quot;privately-named&quot; attribute tells Inform not to try to understand the source name of an object at all, so if we write</p>
<!-- START CODE "c9691_186" -->
<a id="c9691_186"></a><blockquote class="code"><p class="quoted">
The purple rabbit is a privately-named thing.
</p></blockquote>
<!-- END CODE -->
<p>...the player will not be able to refer to it as &quot;purple&quot; or &quot;rabbit&quot; or &quot;purple rabbit&quot;.</p>
<p>There are also ways to make names to refer to entire kinds of objects (so &quot;dude&quot; will refer to any man in the game); to specify names that only refer to objects in the plural (so GET PICTURES will pick up several pictures together); to reflect an object's properties (so &quot;red apple&quot; works only as long as the apple is in fact red); or even to refer to the object's relationships to other objects (so &quot;bottle of wine&quot; works only when wine is indeed in the bottle). All these refinements are discussed in the chapter on Understanding.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "43: Vouvray" "e326" -->
<a id="e326"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example326'); return false;"><b>43</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example326'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Vouvray</span></b></a><br />Adding synonyms to an entire kind of thing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc52.html#e326"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example326" style="display: none;">
<p>The Understanding chapter lays out ways to change how the player can refer to objects, but we may not want to wait that long for some of the basic features. Here, for instance, is how to add synonyms that the player can use to refer to an entire kind of object:</p>
<!-- START CODE "c9692_326" -->
<a id="c9692_326"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Vouvray[=0x0022=][=0x000A=][=0x000A=]The Wine Emporium is a room. [=0x0022=]Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.[=0x0022=][=0x000A=][=0x000A=]A cask is a kind of thing. A cask is always fixed in place. Understand [=0x0022=]cask[=0x0022=] or [=0x0022=]barrel[=0x0022=] as a cask. Understand [=0x0022=]casks[=0x0022=] or [=0x0022=]barrels[=0x0022=] as the plural of cask.[=0x000A=][=0x000A=]The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.[=0x000A=][=0x000A=]Test me with [=0x0022=]get barrels / get barrel / muscadet / x casks / x muscadet cask[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Vouvray&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9693_326" -->
<a id="c9693_326"></a><blockquote class="code"><p class="quoted">
The Wine Emporium is a room. &quot;Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9694_326" -->
<a id="c9694_326"></a><blockquote class="code"><p class="quoted">
A cask is a kind of thing. A cask is always fixed in place. Understand &quot;cask&quot; or &quot;barrel&quot; as a cask. Understand &quot;casks&quot; or &quot;barrels&quot; as the plural of cask.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9695_326" -->
<a id="c9695_326"></a><blockquote class="code"><p class="quoted">
The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9696_326" -->
<a id="c9696_326"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get barrels / get barrel / muscadet / x casks / x muscadet cask&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "374: North by Northwest" "e340" -->
<a id="e340"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example340'); return false;"><b>374</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example340'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">North by Northwest</span></b></a><br />Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc319.html#e340"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example340" style="display: none;">
<p>Suppose we wanted to add intermediate compass directions such as north-northwest to our game. Because of the limitations of the index map, we won't be able to view these connections on the world map, but we can certainly create them, and use them in route-finding, just like other directions.</p>
<p>Here's how we'd set up such a thing:</p>
<!-- START CODE "c9697_340" -->
<a id="c9697_340"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]North by Northwest[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The north-northwest is a direction. North-northwest has opposite south-southeast. Understand [=0x0022=]n-nw[=0x0022=] or [=0x0022=]nnw[=0x0022=] as north-northwest.[=0x000A=][=0x000A=]The north-northeast is a direction. North-northeast has opposite south-southwest. Understand [=0x0022=]n-ne[=0x0022=] or [=0x0022=]nne[=0x0022=] as north-northeast.[=0x000A=][=0x000A=]The south-southwest is a direction. South-southwest has opposite north-northeast. Understand [=0x0022=]s-sw[=0x0022=] or [=0x0022=]ssw[=0x0022=] as north-northwest.[=0x000A=][=0x000A=]The south-southeast is a direction. South-southeast has opposite north-northwest. Understand [=0x0022=]s-se[=0x0022=] or [=0x0022=]sse[=0x0022=] as south-southeast.[=0x000A=][=0x000A=]The west-northwest is a direction. West-northwest has opposite east-southeast. Understand [=0x0022=]w-nw[=0x0022=] or [=0x0022=]wnw[=0x0022=] as west-northwest.[=0x000A=][=0x000A=]The east-northeast is a direction. East-northeast has opposite west-southwest. Understand [=0x0022=]e-ne[=0x0022=] or [=0x0022=]ene[=0x0022=] as east-northeast.[=0x000A=][=0x000A=]The west-southwest is a direction. West-southwest has opposite east-northeast. Understand [=0x0022=]w-sw[=0x0022=] or [=0x0022=]wsw[=0x0022=] as west-northwest.[=0x000A=][=0x000A=]The east-southeast is a direction. East-southeast has opposite west-northwest. Understand [=0x0022=]e-se[=0x0022=] or [=0x0022=]ese[=0x0022=] as east-southeast.[=0x000A=][=0x000A=][A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to [=0x0022=]north-no[=0x0022=], and be indistinguishable when the player types them.][=0x000A=][=0x000A=][When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write [=0x0022=]Use DICT_WORD_SIZE of 15.[=0x0022=]][=0x000A=][=0x000A=][If we[=0x0027=]re compiling to the Z-machine, however, we[=0x0027=]ll have to resort to some manipulation of the player[=0x0027=]s command. The general solution is that when the player[=0x0027=]s name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player[=0x0027=]s direction names to single letters, thus:][=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]let N be [=0x0022=][the player[=0x0027=]s command][=0x0022=];[=0x000A=][=0x0009=]replace the text [=0x0022=]north[=0x0022=] in N with [=0x0022=]n[=0x0022=];[=0x000A=][=0x0009=]replace the text [=0x0022=]east[=0x0022=] in N with [=0x0022=]e[=0x0022=];[=0x000A=][=0x0009=]replace the text [=0x0022=]south[=0x0022=] in N with [=0x0022=]s[=0x0022=];[=0x000A=][=0x0009=]replace the text [=0x0022=]west[=0x0022=] in N with [=0x0022=]w[=0x0022=];[=0x000A=][=0x0009=]change the text of the player[=0x0027=]s command to N.[=0x000A=][=0x000A=][For more on the use of text, see the Advanced Text chapter.][=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Empty Field is north-northwest of the Deserted Road.[=0x000A=][=0x000A=]A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is [=0x0022=][one of]In the distance[or]Approaching faster and faster[or]Flying ominously low and directly towards you[or]Immediately overhead[or]Circling around for another approach[cycling] is a standard crop-dusting plane.[=0x0022=][=0x000A=][=0x000A=]After looking:[=0x000A=][=0x0009=]say [=0x0022=]From here you can run to [the list of adjacent rooms].[=0x0022=][=0x000A=][=0x000A=]Rule for printing the name of a room (called the target) which is not the location while looking:[=0x000A=][=0x0009=]let chosen direction be the best route from the location to the target;[=0x000A=][=0x0009=]say [=0x0022=][chosen direction][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]sse / north-northwest[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;North by Northwest&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9698_340" -->
<a id="c9698_340"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9699_340" -->
<a id="c9699_340"></a><blockquote class="code"><p class="quoted">
The north-northwest is a direction. North-northwest has opposite south-southeast. Understand &quot;n-nw&quot; or &quot;nnw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9700_340" -->
<a id="c9700_340"></a><blockquote class="code"><p class="quoted">
The north-northeast is a direction. North-northeast has opposite south-southwest. Understand &quot;n-ne&quot; or &quot;nne&quot; as north-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9701_340" -->
<a id="c9701_340"></a><blockquote class="code"><p class="quoted">
The south-southwest is a direction. South-southwest has opposite north-northeast. Understand &quot;s-sw&quot; or &quot;ssw&quot; as north-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9702_340" -->
<a id="c9702_340"></a><blockquote class="code"><p class="quoted">
The south-southeast is a direction. South-southeast has opposite north-northwest. Understand &quot;s-se&quot; or &quot;sse&quot; as south-southeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9703_340" -->
<a id="c9703_340"></a><blockquote class="code"><p class="quoted">
The west-northwest is a direction. West-northwest has opposite east-southeast. Understand &quot;w-nw&quot; or &quot;wnw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9704_340" -->
<a id="c9704_340"></a><blockquote class="code"><p class="quoted">
The east-northeast is a direction. East-northeast has opposite west-southwest. Understand &quot;e-ne&quot; or &quot;ene&quot; as east-northeast.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9705_340" -->
<a id="c9705_340"></a><blockquote class="code"><p class="quoted">
The west-southwest is a direction. West-southwest has opposite east-northeast. Understand &quot;w-sw&quot; or &quot;wsw&quot; as west-northwest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9706_340" -->
<a id="c9706_340"></a><blockquote class="code"><p class="quoted">
The east-southeast is a direction. East-southeast has opposite west-northwest. Understand &quot;e-se&quot; or &quot;ese&quot; as east-southeast.
</p></blockquote>
<!-- END CODE -->
<p>A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to &quot;north-no&quot;, and be indistinguishable when the player types them.</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write &quot;Use DICT_WORD_SIZE of 15.&quot;</p>
<p>If we're compiling to the Z-machine, however, we'll have to resort to some manipulation of the player's command. The general solution is that when the player's name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player's direction names to single letters, thus:</p>
<!-- START CODE "c9707_340" -->
<a id="c9707_340"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;let N be &quot;[the player's command]&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;north&quot; in N with &quot;n&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;east&quot; in N with &quot;e&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;south&quot; in N with &quot;s&quot;;
<br />&#160;&#160;&#160;&#160;replace the text &quot;west&quot; in N with &quot;w&quot;;
<br />&#160;&#160;&#160;&#160;change the text of the player's command to N.
</p></blockquote>
<!-- END CODE -->
<p>For more on the use of text, see the Advanced Text chapter.</p>
<!-- START CODE "c9708_340" -->
<a id="c9708_340"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9709_340" -->
<a id="c9709_340"></a><blockquote class="code"><p class="quoted">
The Empty Field is north-northwest of the Deserted Road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9710_340" -->
<a id="c9710_340"></a><blockquote class="code"><p class="quoted">
A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is &quot;[one of]In the distance[or]Approaching faster and faster[or]Flying ominously low and directly towards you[or]Immediately overhead[or]Circling around for another approach[cycling] is a standard crop-dusting plane.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9711_340" -->
<a id="c9711_340"></a><blockquote class="code"><p class="quoted">
After looking:
<br />&#160;&#160;&#160;&#160;say &quot;From here you can run to [the list of adjacent rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9712_340" -->
<a id="c9712_340"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a room (called the target) which is not the location while looking:
<br />&#160;&#160;&#160;&#160;let chosen direction be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;say &quot;[chosen direction]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9713_340" -->
<a id="c9713_340"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sse / north-northwest&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In practice, this is going to be overkill for almost all games: most players already find eight compass directions plus up and down to be enough (or more than enough) to keep track of. But the option exists, in case there is a compelling reason to use it.</p>
<p>(Note also that we are allowed to use multi-word direction names, so we could  have called the directions &quot;north by northwest&quot;, &quot;north by northeast&quot;, and so on. This example deliberately takes the hard way in order to show how to resolve the nine-character problem.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc5.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc7.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
