<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>19.8. New rulebooks</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "New rulebooks" -->
<!-- SEARCH SECTION "19.8" -->
<!-- SEARCH SORT "000-019-008-000" -->
<!-- START IGNORE 333 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc333.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 19: Rulebooks</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc335.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง19.8. New rulebooks</p>
<p>Creating a new rulebook is also straightforward, as we see in the following modest example story:</p>
<!-- START CODE "c7575" -->
<a id="c7575"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Appraisal[=0x0022=][=0x000A=][=0x000A=]The Passage is east of the Tomb. The green-eyed idol is in the Tomb. A Speak-Your-Progress machine is in the Passage.[=0x000A=][=0x000A=]Appraisal rules is a rulebook.[=0x000A=][=0x000A=]An appraisal rule: say [=0x0022=]Click... whirr... the score is [the score in words] points.[=0x0022=][=0x000A=][=0x000A=]An appraisal rule:[=0x000A=][=0x0009=]if we have taken the idol, say [=0x0022=]Most importantly of all, the idol has been found.[=0x0022=][=0x000A=][=0x000A=]Instead of switching on the machine, follow the appraisal rules.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Appraisal&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7576" -->
<a id="c7576"></a><blockquote class="code"><p class="quoted">
The Passage is east of the Tomb. The green-eyed idol is in the Tomb. A Speak-Your-Progress machine is in the Passage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7577" -->
<a id="c7577"></a><blockquote class="code"><p class="quoted">
Appraisal rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7578" -->
<a id="c7578"></a><blockquote class="code"><p class="quoted">
An appraisal rule: say &quot;Click... whirr... the score is [the score in words] points.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7579" -->
<a id="c7579"></a><blockquote class="code"><p class="quoted">
An appraisal rule:
<br />&#160;&#160;&#160;&#160;if we have taken the idol, say &quot;Most importantly of all, the idol has been found.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7580" -->
<a id="c7580"></a><blockquote class="code"><p class="quoted">
Instead of switching on the machine, follow the appraisal rules.
</p></blockquote>
<!-- END CODE -->
<p>The creation of the rulebook is all very well, but without the final sentence it would never be used. The crucial new phrase here is:</p>
<!-- START PHRASE "defn273" -->
<div class="definition"><a id="defn273"></a><p class="defnprototype"><b>follow </b>(rule)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_follow -->

<p>This phrase causes the rule to be obeyed immediately (rather than simply at predetermined times such as when a particular action is being tried, or at the end of every turn, and such). Example:</p>
<!-- START CODE "c7581" -->
<a id="c7581"></a><blockquote class="code"><p class="quoted">
follow the advance time rule;
<br />follow the appraisal rulebook;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Like &quot;number&quot; or &quot;text&quot;, &quot;rule&quot; and &quot;rulebook&quot; are kinds of value built into Inform: &quot;the blossom rule&quot; is a value whose kind is &quot;rule&quot;, whereas &quot;the every turn rules&quot; is a value whose kind is &quot;rulebook&quot;. In fact, Inform considers a rulebook to be a special case of a rule, so that whenever a rule is required it is legal to name a rulebook instead, but not vice versa. The &quot;follow&quot; phrase here...</p>
<!-- START CODE "c7582" -->
<a id="c7582"></a><blockquote class="code"><p class="quoted">
Instead of switching on the machine, follow the appraisal rules.
</p></blockquote>
<!-- END CODE -->
<p>...expects to be applied to a value of kind &quot;rule&quot;; &quot;the appraisal rules&quot; is in fact a rulebook, but since that counts as a rule the phrase makes sense to Inform. To follow a rulebook means to run through all its rules in turn, stopping when one rule reaches an outcome; to follow a single rule means just that one, of course.</p>
<p>When created, a rulebook starts out with no rules in it - in this example, of course, we quickly defined a couple of rules to go into it. But it's often the case in Inform that a rulebook exists without ever being stocked up, especially if the rulebook is for some obscure purpose never needed. The built-in adjectives &quot;empty&quot; and &quot;non-empty&quot;, applied to a rulebook, test whether any rule is present or not.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "400: Solitude" "e318" -->
<a id="e318"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example318'); return false;"><b>400</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example318'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Solitude</span></b></a><br />Novice mode that prefaces every prompt with a list of possible commands the player could try, and highlights every important word used, to alert players to interactive items in the scenery.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc93.html#e318"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example318" style="display: none;">
<p>Observation of novice IF players suggests that they often have a hard time figuring out how to get started, especially if they are encountering the game in a context where they don't have time to settle in and read instructions. Here we provide some training wheels to help them learn to communicate.</p>
<p>This is divided into several parts. The first part is the system of rules for general guidance, which could be excerpted and used anywhere. The second part is a scenario using these rules.</p>
<!-- START CODE "c7583_318" -->
<a id="c7583_318"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Solitude[=0x0022=][=0x000A=][=0x000A=]Part 1 - General Rules[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Have you played interactive fiction before? [=0x003E=][=0x0022=];[=0x000A=][=0x0009=]now novice mode is whether or not the player consents.[=0x000A=][=0x000A=][The rationale for asking the question this way, and not another, is that novices asked whether they would like instructions very often say no, even if they need them.][=0x000A=][=0x000A=]Novice mode is a truth state that varies. Novice mode is true.[=0x000A=][=0x000A=]Stopping novice mode is an action out of world.[=0x000A=]Starting novice mode is an action out of world.[=0x000A=][=0x000A=]Understand [=0x0022=]novice mode off[=0x0022=] or [=0x0022=]novice off[=0x0022=] as stopping novice mode.[=0x000A=]Understand [=0x0022=]novice mode on[=0x0022=] or [=0x0022=]novice on[=0x0022=] as starting novice mode.[=0x000A=][=0x000A=]Carry out stopping novice mode: now novice mode is false.[=0x000A=]Carry out starting novice mode: now novice mode is true.[=0x000A=][=0x000A=]Report stopping novice mode: say [=0x0022=]Novice mode is now off.[=0x0022=][=0x000A=]Report starting novice mode: say [=0x0022=]Novice mode is now on.[=0x0022=][=0x000A=][=0x000A=]Before reading a command when novice mode is true:[=0x000A=][=0x0009=]say [=0x0022=][line break]Some options to try:[line break][=0x0022=];[=0x000A=][=0x0009=]follow the novice suggestion rules.[=0x000A=][=0x000A=]The novice suggestion rules is a rulebook.[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he look rule):[=0x000A=][=0x0009=]if not looking and not going, say [=0x0022=]  [bold type]look[roman type][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he check inventory rule):[=0x000A=][=0x0009=]if the player carries something and we are not taking inventory, say [=0x0022=]  [bold type]inventory[roman type] (I)[=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he put things on rule):[=0x000A=][=0x0009=]if the player carries something and a free-standing supporter is relevant, say [=0x0022=]  [bold type]put[roman type] something [bold type]on[roman type] [the list of relevant supporters][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he take things rule):[=0x000A=][=0x0009=]if a gettable thing is relevant, say [=0x0022=]  [bold type]take[roman type] [the list of gettable relevant things][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he examine things rule):[=0x000A=][=0x0009=]if an unexamined thing is relevant, say [=0x0022=]  [bold type]examine[roman type] (X) [the list of unexamined relevant things][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he enter things rule):[=0x000A=][=0x0009=]if a relevant thing is worth entering, say [=0x0022=]  [bold type]enter[roman type] [the list of worth entering relevant things], or [bold type]get out[roman type][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he open things rule):[=0x000A=][=0x0009=]if an unlocked openable thing is relevant, say [=0x0022=]  [bold type]open[roman type] or [bold type]close[roman type] [the list of unlocked openable relevant things][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he lock things rule):[=0x000A=][=0x0009=]if a closed lockable thing is relevant, say [=0x0022=]  [bold type]lock[roman type] or [bold type]unlock[roman type] [the list of closed lockable relevant things][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he eat things rule):[=0x000A=][=0x0009=]if the player carries an edible relevant thing, say [=0x0022=]  [bold type]eat[roman type] [the list of edible relevant things carried by the player][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he wear things rule):[=0x000A=][=0x0009=]if the player carries a wearable relevant thing, say [=0x0022=]  [bold type]wear[roman type] [the list of wearable relevant things carried by the player][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he turn things on rule):[=0x000A=][=0x0009=]if a device is relevant, say [=0x0022=]  [bold type]turn on[roman type] or [bold type]turn off[roman type] [the list of relevant devices][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he go places rule):[=0x000A=][=0x0009=]if a room is adjacent, say [=0x0022=]  [bold type]go[roman type][exit list][if in darkness] or try other directions in the dark[otherwise][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he enter doors rule):[=0x000A=][=0x0009=]if an open door is relevant, say [=0x0022=]  [bold type]go through[roman type] [the list of relevant open doors][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he interact with people rule):[=0x000A=][=0x0009=]if another person is relevant, say [=0x0022=]  [bold type]kiss[roman type] or [bold type]wake[roman type] [the list of relevant other people][if the player carries something], or [bold type]give[roman type] things [bold type]to[roman type] someone[end if][=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he ask for help rule):[=0x000A=][=0x0009=]say [=0x0022=]  [bold type]help[roman type] to see a more complete set of instructions[=0x0022=].[=0x000A=][=0x000A=]A novice suggestion rule (this is the suggestion that he turn off help rule):[=0x000A=][=0x0009=]say [=0x0022=]  [bold type]novice mode off[roman type] to turn off this guidance[=0x0022=].[=0x000A=][=0x000A=]Last novice suggestion rule:[=0x000A=][=0x0009=]say [=0x0022=][line break][=0x0022=].[=0x000A=][=0x000A=][The suggestion about asking for help is no good unless we provide some. This might take any of a number of forms, but for the sake of example we[=0x0027=]ll use an easy way out:][=0x000A=][=0x000A=]Include Basic Screen Effects by Emily Short. Include Menus by Emily Short. Include Basic Help Menu by Emily Short.[=0x000A=][=0x000A=]After taking inventory when novice mode is true: say [=0x0022=]To get rid of any of these objects, [bold type]drop[roman type] it.[=0x0022=][=0x000A=][=0x000A=]A thing can be examined or unexamined. Carry out examining something: now the noun is examined.[=0x000A=][=0x000A=]A thing can be seen or unseen. A thing is usually unseen.[=0x000A=][=0x000A=]Definition: a thing is relevant if it is seen and it is visible. Before printing the name of something (called the target): now the target is seen; if novice mode is true, say [=0x0022=][bold type][=0x0022=]. After printing the name of something: say [=0x0022=][roman type][=0x0022=].[=0x000A=][=0x000A=]Definition: a supporter is worth entering:[=0x000A=][=0x0009=]if the player carries it, no;[=0x000A=][=0x0009=]if it is enterable, yes.[=0x000A=][=0x000A=]Definition: a container is worth entering:[=0x000A=][=0x0009=]if the player carries it, no;[=0x000A=][=0x0009=]if it is enterable and it is open, yes.[=0x000A=][=0x000A=]Definition: a person is other if it is not the player. Definition: a person is another if it is other.[=0x000A=][=0x000A=]Definition: a thing is free-standing if it is in a room.[=0x000A=][=0x000A=]To say exit list:[=0x000A=][=0x0009=]let place be location;[=0x000A=][=0x0009=]let count be 0;[=0x000A=][=0x0009=]repeat with way running through directions:[=0x000A=][=0x0009=][=0x0009=]let place be the room way from the location;[=0x000A=][=0x0009=][=0x0009=]if place is a room:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increment count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][if count is greater than 1] or[end if] [bold type][way][roman type][=0x0022=].[=0x000A=][=0x000A=]Definition: a thing is gettable:[=0x000A=][=0x0009=]if it is scenery, no;[=0x000A=][=0x0009=]if it is fixed in place, no;[=0x000A=][=0x0009=]if it is a person, no;[=0x000A=][=0x0009=]if the player is carrying it, no;[=0x000A=][=0x0009=]if the player is wearing it, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=]Part 2 - On the Ground[=0x000A=][=0x000A=]Antarctic Research Station is a room. [=0x0022=]Though not always the most stimulating of environments, the station is far from your ex-wife and most of the things in the world that annoy you, namely the other 6+ billion people. There is a second room to the south.[=0x0022=] The station contains a radio. The radio is a device. It is fixed in place.[=0x000A=][=0x000A=]South of the Station is Sitting Room. The description of the Sitting Room is [=0x0022=]Just big enough for a very [comfortable chair].[=0x0022=] The Sitting Room contains an enterable supporter called a comfortable chair. The chair is scenery. A monograph about penguins is in the Sitting Room.[=0x000A=][=0x000A=]Blistering Cold is a room. [=0x0022=]It is white out here and very very very cold.[=0x0022=] The white door is a door. [=0x0022=][The white door] leads to [the other side of the white door].[=0x0022=]  It is west of the Blistering Cold and east of the Antarctic Research Station.[=0x000A=][=0x000A=]Test me with [=0x0022=]i / x radio / x door / s / i / x chair / x monograph / sit in chair / get up / n / open door / enter door[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Solitude&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7584_318" -->
<a id="c7584_318"></a><blockquote class="code"><p class="quoted">
Part 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7585_318" -->
<a id="c7585_318"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;Have you played interactive fiction before? &gt;&quot;;
<br />&#160;&#160;&#160;&#160;now novice mode is whether or not the player consents.
</p></blockquote>
<!-- END CODE -->
<p>The rationale for asking the question this way, and not another, is that novices asked whether they would like instructions very often say no, even if they need them.</p>
<!-- START CODE "c7586_318" -->
<a id="c7586_318"></a><blockquote class="code"><p class="quoted">
Novice mode is a truth state that varies. Novice mode is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7587_318" -->
<a id="c7587_318"></a><blockquote class="code"><p class="quoted">
Stopping novice mode is an action out of world.
<br />Starting novice mode is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7588_318" -->
<a id="c7588_318"></a><blockquote class="code"><p class="quoted">
Understand &quot;novice mode off&quot; or &quot;novice off&quot; as stopping novice mode.
<br />Understand &quot;novice mode on&quot; or &quot;novice on&quot; as starting novice mode.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7589_318" -->
<a id="c7589_318"></a><blockquote class="code"><p class="quoted">
Carry out stopping novice mode: now novice mode is false.
<br />Carry out starting novice mode: now novice mode is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7590_318" -->
<a id="c7590_318"></a><blockquote class="code"><p class="quoted">
Report stopping novice mode: say &quot;Novice mode is now off.&quot;
<br />Report starting novice mode: say &quot;Novice mode is now on.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7591_318" -->
<a id="c7591_318"></a><blockquote class="code"><p class="quoted">
Before reading a command when novice mode is true:
<br />&#160;&#160;&#160;&#160;say &quot;[line break]Some options to try:[line break]&quot;;
<br />&#160;&#160;&#160;&#160;follow the novice suggestion rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7592_318" -->
<a id="c7592_318"></a><blockquote class="code"><p class="quoted">
The novice suggestion rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7593_318" -->
<a id="c7593_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he look rule):
<br />&#160;&#160;&#160;&#160;if not looking and not going, say &quot;  [bold type]look[roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7594_318" -->
<a id="c7594_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he check inventory rule):
<br />&#160;&#160;&#160;&#160;if the player carries something and we are not taking inventory, say &quot;  [bold type]inventory[roman type] (I)&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7595_318" -->
<a id="c7595_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he put things on rule):
<br />&#160;&#160;&#160;&#160;if the player carries something and a free-standing supporter is relevant, say &quot;  [bold type]put[roman type] something [bold type]on[roman type] [the list of relevant supporters]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7596_318" -->
<a id="c7596_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he take things rule):
<br />&#160;&#160;&#160;&#160;if a gettable thing is relevant, say &quot;  [bold type]take[roman type] [the list of gettable relevant things]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7597_318" -->
<a id="c7597_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he examine things rule):
<br />&#160;&#160;&#160;&#160;if an unexamined thing is relevant, say &quot;  [bold type]examine[roman type] (X) [the list of unexamined relevant things]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7598_318" -->
<a id="c7598_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he enter things rule):
<br />&#160;&#160;&#160;&#160;if a relevant thing is worth entering, say &quot;  [bold type]enter[roman type] [the list of worth entering relevant things], or [bold type]get out[roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7599_318" -->
<a id="c7599_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he open things rule):
<br />&#160;&#160;&#160;&#160;if an unlocked openable thing is relevant, say &quot;  [bold type]open[roman type] or [bold type]close[roman type] [the list of unlocked openable relevant things]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7600_318" -->
<a id="c7600_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he lock things rule):
<br />&#160;&#160;&#160;&#160;if a closed lockable thing is relevant, say &quot;  [bold type]lock[roman type] or [bold type]unlock[roman type] [the list of closed lockable relevant things]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7601_318" -->
<a id="c7601_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he eat things rule):
<br />&#160;&#160;&#160;&#160;if the player carries an edible relevant thing, say &quot;  [bold type]eat[roman type] [the list of edible relevant things carried by the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7602_318" -->
<a id="c7602_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he wear things rule):
<br />&#160;&#160;&#160;&#160;if the player carries a wearable relevant thing, say &quot;  [bold type]wear[roman type] [the list of wearable relevant things carried by the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7603_318" -->
<a id="c7603_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he turn things on rule):
<br />&#160;&#160;&#160;&#160;if a device is relevant, say &quot;  [bold type]turn on[roman type] or [bold type]turn off[roman type] [the list of relevant devices]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7604_318" -->
<a id="c7604_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he go places rule):
<br />&#160;&#160;&#160;&#160;if a room is adjacent, say &quot;  [bold type]go[roman type][exit list][if in darkness] or try other directions in the dark[otherwise]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7605_318" -->
<a id="c7605_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he enter doors rule):
<br />&#160;&#160;&#160;&#160;if an open door is relevant, say &quot;  [bold type]go through[roman type] [the list of relevant open doors]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7606_318" -->
<a id="c7606_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he interact with people rule):
<br />&#160;&#160;&#160;&#160;if another person is relevant, say &quot;  [bold type]kiss[roman type] or [bold type]wake[roman type] [the list of relevant other people][if the player carries something], or [bold type]give[roman type] things [bold type]to[roman type] someone[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7607_318" -->
<a id="c7607_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he ask for help rule):
<br />&#160;&#160;&#160;&#160;say &quot;  [bold type]help[roman type] to see a more complete set of instructions&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7608_318" -->
<a id="c7608_318"></a><blockquote class="code"><p class="quoted">
A novice suggestion rule (this is the suggestion that he turn off help rule):
<br />&#160;&#160;&#160;&#160;say &quot;  [bold type]novice mode off[roman type] to turn off this guidance&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7609_318" -->
<a id="c7609_318"></a><blockquote class="code"><p class="quoted">
Last novice suggestion rule:
<br />&#160;&#160;&#160;&#160;say &quot;[line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>The suggestion about asking for help is no good unless we provide some. This might take any of a number of forms, but for the sake of example we'll use an easy way out:</p>
<!-- START CODE "c7610_318" -->
<a id="c7610_318"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short. Include Menus by Emily Short. Include Basic Help Menu by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7611_318" -->
<a id="c7611_318"></a><blockquote class="code"><p class="quoted">
After taking inventory when novice mode is true: say &quot;To get rid of any of these objects, [bold type]drop[roman type] it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7612_318" -->
<a id="c7612_318"></a><blockquote class="code"><p class="quoted">
A thing can be examined or unexamined. Carry out examining something: now the noun is examined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7613_318" -->
<a id="c7613_318"></a><blockquote class="code"><p class="quoted">
A thing can be seen or unseen. A thing is usually unseen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7614_318" -->
<a id="c7614_318"></a><blockquote class="code"><p class="quoted">
Definition: a thing is relevant if it is seen and it is visible. Before printing the name of something (called the target): now the target is seen; if novice mode is true, say &quot;[bold type]&quot;. After printing the name of something: say &quot;[roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7615_318" -->
<a id="c7615_318"></a><blockquote class="code"><p class="quoted">
Definition: a supporter is worth entering:
<br />&#160;&#160;&#160;&#160;if the player carries it, no;
<br />&#160;&#160;&#160;&#160;if it is enterable, yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7616_318" -->
<a id="c7616_318"></a><blockquote class="code"><p class="quoted">
Definition: a container is worth entering:
<br />&#160;&#160;&#160;&#160;if the player carries it, no;
<br />&#160;&#160;&#160;&#160;if it is enterable and it is open, yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7617_318" -->
<a id="c7617_318"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player. Definition: a person is another if it is other.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7618_318" -->
<a id="c7618_318"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free-standing if it is in a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7619_318" -->
<a id="c7619_318"></a><blockquote class="code"><p class="quoted">
To say exit list:
<br />&#160;&#160;&#160;&#160;let place be location;
<br />&#160;&#160;&#160;&#160;let count be 0;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if place is a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if count is greater than 1] or[end if] [bold type][way][roman type]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7620_318" -->
<a id="c7620_318"></a><blockquote class="code"><p class="quoted">
Definition: a thing is gettable:
<br />&#160;&#160;&#160;&#160;if it is scenery, no;
<br />&#160;&#160;&#160;&#160;if it is fixed in place, no;
<br />&#160;&#160;&#160;&#160;if it is a person, no;
<br />&#160;&#160;&#160;&#160;if the player is carrying it, no;
<br />&#160;&#160;&#160;&#160;if the player is wearing it, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7621_318" -->
<a id="c7621_318"></a><blockquote class="code"><p class="quoted">
Part 2 - On the Ground
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7622_318" -->
<a id="c7622_318"></a><blockquote class="code"><p class="quoted">
Antarctic Research Station is a room. &quot;Though not always the most stimulating of environments, the station is far from your ex-wife and most of the things in the world that annoy you, namely the other 6+ billion people. There is a second room to the south.&quot; The station contains a radio. The radio is a device. It is fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7623_318" -->
<a id="c7623_318"></a><blockquote class="code"><p class="quoted">
South of the Station is Sitting Room. The description of the Sitting Room is &quot;Just big enough for a very [comfortable chair].&quot; The Sitting Room contains an enterable supporter called a comfortable chair. The chair is scenery. A monograph about penguins is in the Sitting Room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7624_318" -->
<a id="c7624_318"></a><blockquote class="code"><p class="quoted">
Blistering Cold is a room. &quot;It is white out here and very very very cold.&quot; The white door is a door. &quot;[The white door] leads to [the other side of the white door].&quot;  It is west of the Blistering Cold and east of the Antarctic Research Station.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7625_318" -->
<a id="c7625_318"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / x radio / x door / s / i / x chair / x monograph / sit in chair / get up / n / open door / enter door&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "401: In Fire or in Flood" "e356" -->
<a id="e356"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example356'); return false;"><b>401</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example356'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">In Fire or in Flood</span></b></a><br />A BURN command; flammable objects which light other items in their vicinity and can burn for different periods of time; the possibility of having parts or contents of a flaming item which survive being burnt.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc87.html#e356"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example356" style="display: none;">
<!-- START CODE "c7626_356" -->
<a id="c7626_356"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]In Fire or in Flood[=0x0022=][=0x000A=][=0x000A=]Part I - Rules for combustion[=0x000A=][=0x000A=]Heat is a kind of value. The heats are whole, damp, and flaming. A thing has a heat. A thing is usually whole.[=0x000A=][=0x000A=]A thing has a number called endurance. The endurance of a thing is usually 5. A thing has a number called turns of burning. A thing can be flammable or flame-retardant.[=0x000A=][=0x000A=]Before printing the name of something flaming:[=0x000A=][=0x0009=]say [=0x0022=]flaming [=0x0022=].[=0x000A=][=0x000A=]Before burning something when the player is not carrying something flaming:[=0x000A=][=0x0009=]if a flaming portable thing (called the lighter) is touchable:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](with [the lighter], which you first take)[command clarification break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try taking the lighter.[=0x000A=][=0x000A=]Instead of burning something when the player is not carrying something flaming:[=0x000A=][=0x0009=]say [=0x0022=]You would first need a fire source.[=0x0022=][=0x000A=][=0x000A=]Instead of burning something flame-retardant:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is not the sort of thing that catches fire.[=0x0022=][=0x000A=][=0x000A=]Instead of burning something flammable when the player is carrying something flaming (called the flame source):[=0x000A=][=0x0009=]say [=0x0022=]You light [the noun] with [the flame source].[=0x0022=];[=0x000A=][=0x0009=]now the heat of the noun is flaming.[=0x000A=][=0x000A=]Instead of burning something when the player is in the noun:[=0x000A=][=0x0009=]say [=0x0022=]That seems dangerous given that you yourself are in [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of burning something when the player is on the noun:[=0x000A=][=0x0009=]say [=0x0022=]That seems dangerous given that you yourself are on [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of examining something:[=0x000A=][=0x0009=]say [=0x0022=]Hm, the [printed name] appears to be [heat].[=0x0022=][=0x000A=][=0x000A=]Before taking a flaming thing:[=0x000A=][=0x0009=]let turns remaining be the endurance of the noun minus the turns of burning of the noun;[=0x000A=][=0x0009=]if turns remaining is less than two, say [=0x0022=]There[=0x0027=]s no portion of [the noun] sufficiently cool for you to pick up.[=0x0022=] instead.[=0x000A=][=0x000A=][=0x000A=][But that[=0x0027=]s only a small part of the battle. The thing about fire is that it keeps on doing fiery things even when the player is otherwise occupied: destroying items that are on fire, and spreading to other things nearby. So we need a set of rules for the fire[=0x0027=]s behavior.][=0x000A=][=0x000A=]Every turn when something is flaming:[=0x000A=][=0x0009=]follow the fire rules.[=0x000A=][=0x000A=]The fire rules is a rulebook.[=0x000A=][=0x000A=]A fire rule (this is the can[=0x0027=]t hold flaming objects rule):[=0x000A=][=0x0009=]repeat with item running through flaming things:[=0x000A=][=0x0009=][=0x0009=]if the item is held by the player:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let turns remaining be the endurance of the item minus the turns of burning of the item;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if turns remaining is less than two:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The item] becomes too hot to hold! [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]try dropping the item;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]if the item is held by the player, say [=0x0022=]This is certainly painful.[=0x0022=][=0x000A=][=0x000A=]A fire rule (this is the flames spread rule):[=0x000A=][=0x0009=]repeat with item running through flaming things:[=0x000A=][=0x0009=][=0x0009=]if the turns of burning of the item is one:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]spread the flames from the item.[=0x000A=][=0x000A=]A fire rule (this is the fire destroys things rule):[=0x000A=][=0x0009=]now started printing is false;[=0x000A=][=0x0009=]repeat with item running through flaming things:[=0x000A=][=0x0009=][=0x0009=]increment the turns of burning of the item;[=0x000A=][=0x0009=][=0x0009=]if the turns of burning of the item is greater than the endurance of the item, destroy the item;[=0x000A=][=0x0009=]if started printing is true, say [=0x0022=][paragraph break][=0x0022=];[=0x000A=][=0x0009=]now started printing is false.[=0x000A=][=0x000A=][Because we[=0x0027=]ve labelled all the fire rules, we could swap their order, or turn some of them off, while allowing the others run as usual. For instance, if there were a pair of fireproof gloves in the game, we might want to turn off the [=0x0022=]can[=0x0027=]t hold flaming objects rule[=0x0022=] whenever the player is wearing them.][=0x000A=][=0x000A=][This sort of flexibility is especially useful in the context of extensions. Someone writing an extension about burning would have no way of anticipating the need for a Fireproof Gauntlet of Thog, but the author would nonetheless be able to implement one easily.][=0x000A=][=0x000A=]Definition: a thing is vulnerable if it is flammable and it is whole.[=0x000A=][=0x000A=][The contact between things is a critical factor when it comes to fire, so we might add a couple of conditional relations do determine what is touching what.][=0x000A=][=0x000A=]Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.[=0x000A=][=0x000A=]Contact relates a thing (called X) to a thing (called Y) when X is relying on Y or Y is relying on X. The verb to be joined to means the contact relation.[=0x000A=][=0x000A=][Having these at our disposal makes it much tidier to write what happens next:][=0x000A=][=0x000A=]To spread the flames from (item - a thing):[=0x000A=][=0x0009=]now started printing is false;[=0x000A=][=0x0009=]if the item is joined to a flammable whole thing (called the sacrifice):[=0x000A=][=0x0009=][=0x0009=]if the sacrifice is visible:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now started printing is true;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]Flames engulf [the list of flammable whole things which are joined to the item].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now all the flammable whole things joined to the item are flaming.[=0x000A=][=0x000A=]Started printing is a truth state that varies. Started printing is false.[=0x000A=][=0x000A=]To destroy (item - a thing):[=0x000A=][=0x0009=]let home be the holder of the item;[=0x000A=][=0x0009=]if the item is part of something (called the superstructure), let home be the holder of the superstructure;[=0x000A=][=0x0009=]if the item is visible:[=0x000A=][=0x0009=][=0x0009=]now started printing is true;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The item] burns away[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if]. [=0x0022=];[=0x000A=][=0x0009=]if something is relying on the item,[=0x000A=][=0x0009=][=0x0009=]now all the things which are relying on the item are in the home;[=0x000A=][=0x0009=]now the item is nowhere;[=0x000A=][=0x0009=]now the item is damp;[=0x000A=][=0x0009=]now every flaming thing which is part of the item is damp.[=0x000A=][=0x000A=]To destroy (item - a door):[=0x000A=][=0x0009=]let home be the holder of the item;[=0x000A=][=0x0009=]if item is visible:[=0x000A=][=0x0009=][=0x0009=]now started printing is true;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The item] burns away[if something flame-retardant is part of the item], leaving [a list of flame-retardant parts of the item] behind[end if]. [=0x0022=];[=0x000A=][=0x0009=]if home is a room, now all of the flame-retardant parts of the item are in the home;[=0x000A=][=0x0009=]now the item is damp;[=0x000A=][=0x0009=]now the item is open;[=0x000A=][=0x0009=]now the item is unopenable.[=0x000A=][=0x000A=]Before printing the name of a damp door:[=0x000A=][=0x0009=]say [=0x0022=]burnt-out frame of [=0x0022=].[=0x000A=][=0x000A=]Instead of opening or closing a damp door:[=0x000A=][=0x0009=]say [=0x0022=][The noun] can no longer be opened or closed in any meaningful sense.[=0x0022=][=0x000A=][=0x000A=]Instead of doing something other than examining or dropping to a flaming thing when the turns of burning of the noun is greater than 1:[=0x000A=][=0x0009=]say [=0x0022=]Fire has too thoroughly engulfed [the noun] for that to be a good idea.[=0x0022=][=0x000A=][=0x000A=]Instead of taking something when the noun is in a flaming thing (called the receptacle):[=0x000A=][=0x0009=]say [=0x0022=]You don[=0x0027=]t quite dare reach into [the receptacle].[=0x0022=][=0x000A=][=0x000A=]Instead of touching something which is within a flaming thing (called the receptacle):[=0x000A=][=0x0009=]say [=0x0022=]It seems a little risky since [the receptacle] is on fire.[=0x0022=][=0x000A=][=0x000A=]Instead of turning something when the noun is contained in a flaming thing (called the receptacle):[=0x000A=][=0x0009=]say [=0x0022=]It seems a little risky since [the receptacle] is on fire.[=0x0022=][=0x000A=][=0x000A=]Instead of pushing or pulling something when the noun is inside a flaming thing (called the receptacle):[=0x000A=][=0x0009=]say [=0x0022=][The receptacle] deters you.[=0x0022=][=0x000A=][=0x000A=]Before burning something which is in a container when the holder of the noun contains the player:[=0x000A=][=0x0009=]say [=0x0022=]This could make things toasty for you...[=0x0022=][=0x000A=][=0x000A=][And that completes the rules which cover burning: things can catch fire, fire will spread, and gradually consume the world in flames. All of that was general and could be used in any setting, but we now provide a small game to show it off.][=0x000A=][=0x000A=]Part II - Escape from the Library of the Dead[=0x000A=][=0x000A=]The Library of the Dead is a room. [=0x0022=]This room -- little, dank, stone -- is filling with some miasma you do not quite dare breathe. It is imperative that you get out.[=0x0022=][=0x000A=][=0x000A=]The desk is a flammable supporter in the Library. A drawer is part of the desk. The drawer is a flammable closed container. It is openable, lockable, and locked. The desk is scenery.[=0x000A=][=0x000A=]A box is in the Library. A metal hinge is part of the box. The hinge is flame-retardant. The box is open, flammable, and openable. The shroud of Laertes is a flammable thing in the box.[=0x000A=][=0x000A=]Instead of examining something when something is part of the noun:[=0x000A=][=0x0009=]say [=0x0022=]You note [the list of things which are part of the noun].[=0x0022=][=0x000A=][=0x000A=]The world[=0x0027=]s last manuscript of the Psychagogoi by Aeschylus is on the desk. The manuscript is flammable. The manuscript has endurance 1.[=0x000A=][=0x000A=]The torch is a flammable flaming thing carried by the player. It has endurance 60. The asbestos sack is a flame-retardant player[=0x0027=]s holdall in the drawer.[=0x000A=][=0x000A=]The trapdoor is up of the Library and east of the Plaza. The trapdoor is a door. It is flammable, closed, lockable, and locked. [=0x0022=]A trapdoor in the ceiling is your only hope of escape[if flaming]. Fortunately, it is rapidly burning through[end if].[=0x0022=] The trapdoor has endurance 15.[=0x000A=][=0x000A=]Instead of going through the closed trapdoor, say [=0x0022=][The trapdoor] is closed.[=0x0022=][=0x000A=][=0x000A=][We can then add a special fire rule to handle the trapdoor, which will be called as part of the same sequence. Again, this would be most important if the fire rules were part of a standard extension, and the trapdoor fire rule the author[=0x0027=]s own addition.][=0x000A=][=0x000A=]A fire rule:[=0x000A=][=0x0009=]if the trapdoor is flaming and a random chance of 1 in 3 succeeds:[=0x000A=][=0x0009=][=0x0009=]let the caught thing be a random flammable whole thing which can be touched by the trapdoor;[=0x000A=][=0x0009=][=0x0009=]if the caught thing is a thing:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]A spark from [the trapdoor] catches [the caught thing]![=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the caught thing is flaming.[=0x000A=][=0x000A=]Instead of going to the Plaza:[=0x000A=][=0x0009=]say [=0x0022=]Out at last![=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]get manuscript / get shroud / light desk / look / g / open drawer / look / g / g / g / get sack / put shroud in sack / put manuscript in sack / close sack / light trapdoor / look / g / g / g / g / g / g / g / g / g / g / g / g / g / g / up[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;In Fire or in Flood&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7627_356" -->
<a id="c7627_356"></a><blockquote class="code"><p class="quoted">
Part I - Rules for combustion
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7628_356" -->
<a id="c7628_356"></a><blockquote class="code"><p class="quoted">
Heat is a kind of value. The heats are whole, damp, and flaming. A thing has a heat. A thing is usually whole.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7629_356" -->
<a id="c7629_356"></a><blockquote class="code"><p class="quoted">
A thing has a number called endurance. The endurance of a thing is usually 5. A thing has a number called turns of burning. A thing can be flammable or flame-retardant.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7630_356" -->
<a id="c7630_356"></a><blockquote class="code"><p class="quoted">
Before printing the name of something flaming:
<br />&#160;&#160;&#160;&#160;say &quot;flaming &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7631_356" -->
<a id="c7631_356"></a><blockquote class="code"><p class="quoted">
Before burning something when the player is not carrying something flaming:
<br />&#160;&#160;&#160;&#160;if a flaming portable thing (called the lighter) is touchable:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(with [the lighter], which you first take)[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try taking the lighter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7632_356" -->
<a id="c7632_356"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is not carrying something flaming:
<br />&#160;&#160;&#160;&#160;say &quot;You would first need a fire source.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7633_356" -->
<a id="c7633_356"></a><blockquote class="code"><p class="quoted">
Instead of burning something flame-retardant:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is not the sort of thing that catches fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7634_356" -->
<a id="c7634_356"></a><blockquote class="code"><p class="quoted">
Instead of burning something flammable when the player is carrying something flaming (called the flame source):
<br />&#160;&#160;&#160;&#160;say &quot;You light [the noun] with [the flame source].&quot;;
<br />&#160;&#160;&#160;&#160;now the heat of the noun is flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7635_356" -->
<a id="c7635_356"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is in the noun:
<br />&#160;&#160;&#160;&#160;say &quot;That seems dangerous given that you yourself are in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7636_356" -->
<a id="c7636_356"></a><blockquote class="code"><p class="quoted">
Instead of burning something when the player is on the noun:
<br />&#160;&#160;&#160;&#160;say &quot;That seems dangerous given that you yourself are on [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7637_356" -->
<a id="c7637_356"></a><blockquote class="code"><p class="quoted">
Instead of examining something:
<br />&#160;&#160;&#160;&#160;say &quot;Hm, the [printed name] appears to be [heat].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7638_356" -->
<a id="c7638_356"></a><blockquote class="code"><p class="quoted">
Before taking a flaming thing:
<br />&#160;&#160;&#160;&#160;let turns remaining be the endurance of the noun minus the turns of burning of the noun;
<br />&#160;&#160;&#160;&#160;if turns remaining is less than two, say &quot;There's no portion of [the noun] sufficiently cool for you to pick up.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>But that's only a small part of the battle. The thing about fire is that it keeps on doing fiery things even when the player is otherwise occupied: destroying items that are on fire, and spreading to other things nearby. So we need a set of rules for the fire's behavior.</p>
<!-- START CODE "c7639_356" -->
<a id="c7639_356"></a><blockquote class="code"><p class="quoted">
Every turn when something is flaming:
<br />&#160;&#160;&#160;&#160;follow the fire rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7640_356" -->
<a id="c7640_356"></a><blockquote class="code"><p class="quoted">
The fire rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7641_356" -->
<a id="c7641_356"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the can't hold flaming objects rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is held by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let turns remaining be the endurance of the item minus the turns of burning of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if turns remaining is less than two:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] becomes too hot to hold! &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try dropping the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is held by the player, say &quot;This is certainly painful.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7642_356" -->
<a id="c7642_356"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the flames spread rule):
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the turns of burning of the item is one:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spread the flames from the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7643_356" -->
<a id="c7643_356"></a><blockquote class="code"><p class="quoted">
A fire rule (this is the fire destroys things rule):
<br />&#160;&#160;&#160;&#160;now started printing is false;
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming things:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the turns of burning of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the turns of burning of the item is greater than the endurance of the item, destroy the item;
<br />&#160;&#160;&#160;&#160;if started printing is true, say &quot;[paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;now started printing is false.
</p></blockquote>
<!-- END CODE -->
<p>Because we've labelled all the fire rules, we could swap their order, or turn some of them off, while allowing the others run as usual. For instance, if there were a pair of fireproof gloves in the game, we might want to turn off the &quot;can't hold flaming objects rule&quot; whenever the player is wearing them.</p>
<p>This sort of flexibility is especially useful in the context of extensions. Someone writing an extension about burning would have no way of anticipating the need for a Fireproof Gauntlet of Thog, but the author would nonetheless be able to implement one easily.</p>
<!-- START CODE "c7644_356" -->
<a id="c7644_356"></a><blockquote class="code"><p class="quoted">
Definition: a thing is vulnerable if it is flammable and it is whole.
</p></blockquote>
<!-- END CODE -->
<p>The contact between things is a critical factor when it comes to fire, so we might add a couple of conditional relations do determine what is touching what.</p>
<!-- START CODE "c7645_356" -->
<a id="c7645_356"></a><blockquote class="code"><p class="quoted">
Reliance relates a thing (called X) to a thing (called Y) when X is part of Y or X is in Y or X is on Y. The verb to be relying on means the reliance relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7646_356" -->
<a id="c7646_356"></a><blockquote class="code"><p class="quoted">
Contact relates a thing (called X) to a thing (called Y) when X is relying on Y or Y is relying on X. The verb to be joined to means the contact relation.
</p></blockquote>
<!-- END CODE -->
<p>Having these at our disposal makes it much tidier to write what happens next:</p>
<!-- START CODE "c7647_356" -->
<a id="c7647_356"></a><blockquote class="code"><p class="quoted">
To spread the flames from (item - a thing):
<br />&#160;&#160;&#160;&#160;now started printing is false;
<br />&#160;&#160;&#160;&#160;if the item is joined to a flammable whole thing (called the sacrifice):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the sacrifice is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Flames engulf [the list of flammable whole things which are joined to the item].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the flammable whole things joined to the item are flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7648_356" -->
<a id="c7648_356"></a><blockquote class="code"><p class="quoted">
Started printing is a truth state that varies. Started printing is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7649_356" -->
<a id="c7649_356"></a><blockquote class="code"><p class="quoted">
To destroy (item - a thing):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if the item is part of something (called the superstructure), let home be the holder of the superstructure;
<br />&#160;&#160;&#160;&#160;if the item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] burns away[if something is relying on the item], leaving [a list of things which are relying on the item] behind[end if]. &quot;;
<br />&#160;&#160;&#160;&#160;if something is relying on the item,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now all the things which are relying on the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;now the item is damp;
<br />&#160;&#160;&#160;&#160;now every flaming thing which is part of the item is damp.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7650_356" -->
<a id="c7650_356"></a><blockquote class="code"><p class="quoted">
To destroy (item - a door):
<br />&#160;&#160;&#160;&#160;let home be the holder of the item;
<br />&#160;&#160;&#160;&#160;if item is visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now started printing is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The item] burns away[if something flame-retardant is part of the item], leaving [a list of flame-retardant parts of the item] behind[end if]. &quot;;
<br />&#160;&#160;&#160;&#160;if home is a room, now all of the flame-retardant parts of the item are in the home;
<br />&#160;&#160;&#160;&#160;now the item is damp;
<br />&#160;&#160;&#160;&#160;now the item is open;
<br />&#160;&#160;&#160;&#160;now the item is unopenable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7651_356" -->
<a id="c7651_356"></a><blockquote class="code"><p class="quoted">
Before printing the name of a damp door:
<br />&#160;&#160;&#160;&#160;say &quot;burnt-out frame of &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7652_356" -->
<a id="c7652_356"></a><blockquote class="code"><p class="quoted">
Instead of opening or closing a damp door:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] can no longer be opened or closed in any meaningful sense.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7653_356" -->
<a id="c7653_356"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than examining or dropping to a flaming thing when the turns of burning of the noun is greater than 1:
<br />&#160;&#160;&#160;&#160;say &quot;Fire has too thoroughly engulfed [the noun] for that to be a good idea.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7654_356" -->
<a id="c7654_356"></a><blockquote class="code"><p class="quoted">
Instead of taking something when the noun is in a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;You don't quite dare reach into [the receptacle].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7655_356" -->
<a id="c7655_356"></a><blockquote class="code"><p class="quoted">
Instead of touching something which is within a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;It seems a little risky since [the receptacle] is on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7656_356" -->
<a id="c7656_356"></a><blockquote class="code"><p class="quoted">
Instead of turning something when the noun is contained in a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;It seems a little risky since [the receptacle] is on fire.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7657_356" -->
<a id="c7657_356"></a><blockquote class="code"><p class="quoted">
Instead of pushing or pulling something when the noun is inside a flaming thing (called the receptacle):
<br />&#160;&#160;&#160;&#160;say &quot;[The receptacle] deters you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7658_356" -->
<a id="c7658_356"></a><blockquote class="code"><p class="quoted">
Before burning something which is in a container when the holder of the noun contains the player:
<br />&#160;&#160;&#160;&#160;say &quot;This could make things toasty for you...&quot;
</p></blockquote>
<!-- END CODE -->
<p>And that completes the rules which cover burning: things can catch fire, fire will spread, and gradually consume the world in flames. All of that was general and could be used in any setting, but we now provide a small game to show it off.</p>
<!-- START CODE "c7659_356" -->
<a id="c7659_356"></a><blockquote class="code"><p class="quoted">
Part II - Escape from the Library of the Dead
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7660_356" -->
<a id="c7660_356"></a><blockquote class="code"><p class="quoted">
The Library of the Dead is a room. &quot;This room -- little, dank, stone -- is filling with some miasma you do not quite dare breathe. It is imperative that you get out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7661_356" -->
<a id="c7661_356"></a><blockquote class="code"><p class="quoted">
The desk is a flammable supporter in the Library. A drawer is part of the desk. The drawer is a flammable closed container. It is openable, lockable, and locked. The desk is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7662_356" -->
<a id="c7662_356"></a><blockquote class="code"><p class="quoted">
A box is in the Library. A metal hinge is part of the box. The hinge is flame-retardant. The box is open, flammable, and openable. The shroud of Laertes is a flammable thing in the box.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7663_356" -->
<a id="c7663_356"></a><blockquote class="code"><p class="quoted">
Instead of examining something when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;You note [the list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7664_356" -->
<a id="c7664_356"></a><blockquote class="code"><p class="quoted">
The world's last manuscript of the Psychagogoi by Aeschylus is on the desk. The manuscript is flammable. The manuscript has endurance 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7665_356" -->
<a id="c7665_356"></a><blockquote class="code"><p class="quoted">
The torch is a flammable flaming thing carried by the player. It has endurance 60. The asbestos sack is a flame-retardant player's holdall in the drawer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7666_356" -->
<a id="c7666_356"></a><blockquote class="code"><p class="quoted">
The trapdoor is up of the Library and east of the Plaza. The trapdoor is a door. It is flammable, closed, lockable, and locked. &quot;A trapdoor in the ceiling is your only hope of escape[if flaming]. Fortunately, it is rapidly burning through[end if].&quot; The trapdoor has endurance 15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7667_356" -->
<a id="c7667_356"></a><blockquote class="code"><p class="quoted">
Instead of going through the closed trapdoor, say &quot;[The trapdoor] is closed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can then add a special fire rule to handle the trapdoor, which will be called as part of the same sequence. Again, this would be most important if the fire rules were part of a standard extension, and the trapdoor fire rule the author's own addition.</p>
<!-- START CODE "c7668_356" -->
<a id="c7668_356"></a><blockquote class="code"><p class="quoted">
A fire rule:
<br />&#160;&#160;&#160;&#160;if the trapdoor is flaming and a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the caught thing be a random flammable whole thing which can be touched by the trapdoor;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the caught thing is a thing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;A spark from [the trapdoor] catches [the caught thing]!&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the caught thing is flaming.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7669_356" -->
<a id="c7669_356"></a><blockquote class="code"><p class="quoted">
Instead of going to the Plaza:
<br />&#160;&#160;&#160;&#160;say &quot;Out at last!&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7670_356" -->
<a id="c7670_356"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get manuscript / get shroud / light desk / look / g / open drawer / look / g / g / g / get sack / put shroud in sack / put manuscript in sack / close sack / light trapdoor / look / g / g / g / g / g / g / g / g / g / g / g / g / g / g / up&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "402: Patient Zero" "e36" -->
<a id="e36"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example36'); return false;"><b>402</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example36'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Patient Zero</span></b></a><br />People who wander around the map performing various errands, and in the process spread a disease which only the player can eradicate.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc59.html#e36"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example36" style="display: none;">
<!-- START CODE "c7671_36" -->
<a id="c7671_36"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Patient Zero[=0x0022=][=0x000A=][=0x000A=]Use the serial comma and no scoring.[=0x000A=][=0x000A=]Understand [=0x0022=]about[=0x0022=] as asking for information. Asking for information is an action out of world.[=0x000A=][=0x000A=]Carry out asking for information: say [=0x0022=]An implementation of the following creative brief:[=0x000A=][=0x000A=]People wander around some small map, on errands. One, sad to tell, has Gelato[=0x0027=]s Syndrome, a tragic condition turning one[=0x0027=]s skin the colour of a random flavour of ice cream (raspberry ripple, neapolitan, etc.). When two people are in the same room, there[=0x0027=]s a 1/3 chance that an infected person will infect a non-infected one. The player can cure any single person: victory condition - to stamp out the disease.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]Gelato[=0x0027=]s Syndrome. It[=0x0027=]s struck, and it[=0x0027=]s struck hard. In these sticky summer months, there[=0x0027=]s no telling who will contract the disease next.[=0x0022=];[=0x000A=][=0x0009=]now the command prompt is [=0x0022=][if the destination of the player is not blank](heading to [destination of the player]) [end if][=0x003E=][=0x0022=].[=0x000A=][=0x000A=]Section 1 - Errands[=0x000A=][=0x000A=]The current actor is a person which varies. The current owner is a person which varies.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if player is active, follow the character movement rules.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]now the last person named is the player;[=0x000A=][=0x0009=]now the last thing named is the player;[=0x000A=][=0x0009=]now every person is active.[=0x000A=][=0x000A=]A person can be active or passive. The player is passive.[=0x000A=][=0x000A=]The character movement rules are a rulebook.[=0x000A=][=0x000A=]The first character movement rule:[=0x000A=][=0x0009=]now group size is 1;[=0x000A=][=0x0009=]now the last person named is the player;[=0x000A=][=0x0009=]now the last thing named is the player;[=0x000A=][=0x0009=]now the player is passive.[=0x000A=][=0x000A=]A character movement rule:[=0x000A=][=0x0009=]repeat with mover running through innocent people:[=0x000A=][=0x0009=][=0x0009=]now the current actor is the mover;[=0x000A=][=0x0009=][=0x0009=]follow the shopper rules;[=0x000A=][=0x0009=][=0x0009=]now the current actor is passive;[=0x000A=][=0x0009=]follow the movement reporting rule.[=0x000A=][=0x000A=]A character movement rule:[=0x000A=][=0x0009=]repeat with next mover running through mercantile people:[=0x000A=][=0x0009=][=0x0009=]now the current owner is the next mover;[=0x000A=][=0x0009=][=0x0009=]follow the shopowner rules;[=0x000A=][=0x0009=][=0x0009=]now the current owner is passive;[=0x000A=][=0x0009=]follow the infection rule.[=0x000A=][=0x000A=]To decide whether movement has not yet occurred:[=0x000A=][=0x0009=]if the player is passive, no;[=0x000A=][=0x0009=]yes.[=0x000A=][=0x000A=]Definition: a person is mercantile if it owns a room. Definition: a person is innocent if it is not mercantile and it is not the player.[=0x000A=][=0x000A=]The shopowner rules is a rulebook.[=0x000A=][=0x000A=]A shopowner rule:[=0x000A=][=0x0009=]let the shop be a random room owned by the current owner;[=0x000A=][=0x0009=]if the shop is air-conditioned and an open door (called the escape) protects the shop, try the current owner closing the escape instead.[=0x000A=][=0x000A=]Report someone closing a door when the person asked owns the location:[=0x000A=][=0x0009=]say [=0x0022=][The person asked], muttering darkly about air-conditioning and electricity, closes [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Report Vanessa closing the metal door when the metal door is visible:[=0x000A=][=0x0009=]if Vanessa is visible, say [=0x0022=]Vanessa watches serenely as the metal door slides automatically back in place, sealing Cold Comfort.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise say [=0x0022=]The metal door slides heavily back into place.[=0x0022=] instead.[=0x000A=][=0x000A=]A shopowner rule:[=0x000A=][=0x0009=]if the location of the current owner encloses a submitted artwork (called the target):[=0x000A=][=0x0009=][=0x0009=]try the current owner filing the target.[=0x000A=][=0x000A=]Filing is an action applying to one thing.[=0x000A=][=0x000A=]Before someone filing something which is not carried by the person asked:[=0x000A=][=0x0009=]try the person asked taking the noun instead.[=0x000A=][=0x000A=]Carry out someone filing:[=0x000A=][=0x0009=]if the person asked does not carry the noun and the person asked is visible, say [=0x0022=][The person asked] tries unsuccessfully to get [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]Report someone filing:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] registers [the noun] and files it away.[=0x0022=][=0x000A=][=0x000A=]The shopper rules is a rulebook.[=0x000A=][=0x000A=]A shopper rule:[=0x000A=][=0x0009=]if the current actor carries something (called the problem), try the current actor resolving the problem instead.[=0x000A=][=0x000A=]A shopper rule:[=0x000A=][=0x0009=]if the current actor is not in the pool hall and the air conditioner is switched on:[=0x000A=][=0x0009=][=0x0009=]try the current actor approaching the pool hall;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let way be a random direction;[=0x000A=][=0x0009=][=0x0009=]try the current actor going the way.[=0x000A=][=0x000A=][=0x000A=]Definition: a room is air-conditioned:[=0x000A=][=0x0009=]if it is outdoors, no;[=0x000A=][=0x0009=]if it is the Pool Hall and the air conditioner is switched off, no;[=0x000A=][=0x0009=]if it is protected by a door, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Protection relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to protect means the protection relation.[=0x000A=][=0x000A=]Ownership relates one person to various rooms. The verb to own means the ownership relation.[=0x000A=][=0x000A=]Resolving is an action applying to one thing.[=0x000A=][=0x000A=]An artwork is a kind of thing. Before printing the name of an artwork, say italic type. After printing the name of an artwork, say roman type. An artwork can be submitted or reserved.[=0x000A=][=0x000A=]A book is a kind of artwork.[=0x000A=][=0x000A=]Before someone resolving a book when the person asked is not in the Public Library:[=0x000A=][=0x0009=]try the person asked approaching the Public Library instead.[=0x000A=][=0x000A=]Carry out someone resolving a book:[=0x000A=][=0x0009=]move the noun to the Public Library;[=0x000A=][=0x0009=]now the noun is submitted.[=0x000A=][=0x000A=]Report someone resolving a book:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] turns in [the noun].[=0x0022=][=0x000A=][=0x000A=]Before listing contents: group books together.[=0x000A=][=0x000A=]Before grouping together books: say [=0x0022=]books entitled [=0x0022=].[=0x000A=][=0x000A=][=0x000A=]A stamped envelope is a kind of thing.[=0x000A=][=0x000A=]Before someone resolving a stamped envelope when the person asked is not in the Post Office:[=0x000A=][=0x0009=]try the person asked approaching the Post Office instead.[=0x000A=][=0x000A=]Carry out someone resolving a stamped envelope:[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]Report someone resolving a stamped envelope:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] slips [a noun] into the outgoing mail slot.[=0x0022=][=0x000A=][=0x000A=]Instead of someone resolving a stamped envelope when the person asked carries at least two stamped envelopes:[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] shoves into the mail slot [a list of stamped envelopes carried by the person asked].[=0x0022=];[=0x000A=][=0x0009=]repeat with item running through stamped envelopes carried by the person asked:[=0x000A=][=0x0009=][=0x0009=]now the item is nowhere.[=0x000A=][=0x000A=]A DVD is a kind of artwork.[=0x000A=][=0x000A=]Before someone resolving a DVD when the person asked is not in the Rental Store:[=0x000A=][=0x0009=]try the person asked approaching the Rental Store instead.[=0x000A=][=0x000A=]Carry out someone resolving a DVD:[=0x000A=][=0x0009=]now the noun is submitted;[=0x000A=][=0x0009=]move the noun to the Movie Rental Store.[=0x000A=][=0x000A=]Report someone resolving a DVD:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] returns [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of someone resolving a DVD when the person asked carries at least two DVDs:[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] turns in [a list of DVDs carried by the person asked].[=0x0022=];[=0x000A=][=0x0009=]now every DVD carried by the person asked is submitted;[=0x000A=][=0x0009=]now every DVD carried by the person asked is in the location of the person asked.[=0x000A=][=0x000A=]Before listing contents: group DVDs together.[=0x000A=][=0x000A=]Before grouping together DVDs: say [=0x0022=]DVDs of [=0x0022=].[=0x000A=][=0x000A=][=0x000A=]Approaching is an action applying to one thing.[=0x000A=][=0x000A=]Carry out someone approaching:[=0x000A=][=0x0009=]let the way be the best route from the location of the person asked to the noun, using doors;[=0x000A=][=0x0009=]if the way is a direction, try the person asked going the way;[=0x000A=][=0x0009=]otherwise stop the action.[=0x000A=][=0x000A=][=0x000A=]A coupon is a kind of thing.[=0x000A=][=0x000A=]Carry out someone resolving a coupon:[=0x000A=][=0x0009=]try the person asked giving the noun to Vanessa.[=0x000A=][=0x000A=]The block giving rule is not listed in any rulebook.[=0x000A=][=0x000A=]Check giving something to someone (this is the block player giving rule):[=0x000A=][=0x0009=]abide by the block giving rule.[=0x000A=][=0x000A=]Before someone resolving a coupon when the person asked is not in Cold Comfort:[=0x000A=][=0x0009=]try the person asked approaching Cold Comfort instead.[=0x000A=][=0x000A=]After someone giving a coupon to Vanessa:[=0x000A=][=0x0009=]let the reward be a random ice cream cone;[=0x000A=][=0x0009=]let the new flavor be a random infection color;[=0x000A=][=0x0009=]now the infection color of the reward is the new flavor;[=0x000A=][=0x0009=]move the reward to the person asked;[=0x000A=][=0x0009=]now the noun is nowhere;[=0x000A=][=0x0009=]if Vanessa is visible, say [=0x0022=][The person asked] trades in [the noun] and receives [a reward] from Vanessa.[=0x0022=][=0x000A=][=0x000A=]Infection color is a kind of value. The infection colors are french vanilla, whole-bean vanilla, mint, chocolate, dark chocolate, chocolate chip, chocolate fudge, mint chocolate chip, chocolate chocolate chip, triple chocolate, white chocolate, white chocolate chip, aztec cocoa-chili, raspberry ripple, neapolitan, rum raisin, dulce de leche, strawberry chunk, rocky road, blackberry sorbet, lemon sherbet, lime ice, caramel swirl, mango, saffron silk, and cookie dough cream.[=0x000A=][=0x000A=]To say list of flavors:[=0x000A=][=0x0009=]let current color be french vanilla;[=0x000A=][=0x0009=]while current color is not cookie dough cream:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][current color], [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now current color is the infection color after the current color;[=0x000A=][=0x0009=]say [=0x0022=]and [current color][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]ask vanessa for [flavored ice cream][=0x0022=] as buying the flavor. Understand [=0x0022=]buy [flavored ice cream][=0x0022=] as buying the flavor.[=0x000A=][=0x000A=]Buying the flavor is an action applying to one infection color.[=0x000A=][=0x000A=]Check buying the flavor:[=0x000A=][=0x0009=]unless the player can see Vanessa:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]It would help if you were in the presence of an ice cream salesperson.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out buying the flavor: say [=0x0022=][=0x0027=]Do you have a coupon?[=0x0027=] Vanessa demands. You admit you do not. [=0x0027=]No [infection color understood] for you![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]ice cream[=0x0022=] or [=0x0022=]cream[=0x0022=] or [=0x0022=]ice[=0x0022=] or [=0x0022=]sherbet[=0x0022=] or [=0x0022=]sorbet[=0x0022=] as [=0x0022=][ice cream][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=][infection color][=0x0022=] or [=0x0022=][infection color] [ice cream][=0x0022=] as [=0x0022=][flavored ice cream][=0x0022=].[=0x000A=][=0x000A=]An ice cream cone is a kind of thing. An ice cream cone is always edible. An ice cream cone has an infection color. An ice cream cone can be half-eaten or fresh. Understand the infection color property as referring to an ice cream cone.[=0x000A=][=0x000A=]Carry out someone resolving an ice cream cone:[=0x000A=][=0x0009=]try the person asked eating the noun instead.[=0x000A=][=0x000A=]Instead of someone eating a fresh ice cream cone:[=0x000A=][=0x0009=]now the noun is half-eaten;[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] licks [the noun].[=0x0022=][=0x000A=][=0x000A=]Report someone eating an ice cream cone:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] pops the end of [the noun] into [if the person asked is female]her[otherwise]his[end if] mouth and swallows.[=0x0022=] instead.[=0x000A=][=0x000A=]Before printing the name of an ice cream cone:[=0x000A=][=0x0009=]say [=0x0022=][if half-eaten]half-eaten [end if][infection color] [=0x0022=].[=0x000A=][=0x000A=]Section 2 - Infection Rules[=0x000A=][=0x000A=]This is the infection rule:[=0x000A=][=0x0009=]if an infected person (called typhoid mary) can see a clean person (called random bystander) and a random chance of 1 in 3 succeeds:[=0x000A=][=0x0009=][=0x0009=]try typhoid mary sneezing on the random bystander.[=0x000A=][=0x000A=]A person can be infected or clean. A person has an infection color.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if the player is infected, say [=0x0022=]You feel itchy.[=0x0022=][=0x000A=][=0x000A=]Definition: a person is other if it is not the player. Definition: a person is another if it is other.[=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Sick: [number of infected people]/[number of people][=0x0022=].[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]if every person is infected, end the story saying [=0x0022=]Everyone succumbs[=0x0022=];[=0x000A=][=0x0009=]if every person is clean, end the story finally saying [=0x0022=]The Syndrome is eradicated[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]sneeze on [something][=0x0022=] as sneezing on. Sneezing on is an action applying to one thing.[=0x000A=][=0x000A=]Check sneezing on:[=0x000A=][=0x0009=]if the player is clean, say [=0x0022=]You[=0x0027=]re not sickly.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the player, say [=0x0022=]Ew.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is not a person, say [=0x0022=][The noun] cannot be infected.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out sneezing on:[=0x000A=][=0x0009=]now the noun is infected;[=0x000A=][=0x0009=]now the infection color of the noun is a random infection color.[=0x000A=][=0x000A=]Carry out someone sneezing on:[=0x000A=][=0x0009=]now the noun is infected;[=0x000A=][=0x0009=]now the infection color of the noun is a random infection color.[=0x000A=][=0x000A=]Report sneezing on:[=0x000A=][=0x0009=]say  [=0x0022=]Unable to control yourself, you sneeze on [noun].[=0x0022=].[=0x000A=][=0x000A=]Report someone sneezing on:[=0x000A=][=0x0009=]say [=0x0022=][The person asked] sneezes on [if the noun is the player]you[otherwise][noun][end if]![=0x0022=].[=0x000A=][=0x000A=][=0x000A=]Understand [=0x0022=]inject [someone] with [something][=0x0022=] as injecting it with. Understand [=0x0022=]inject [someone] with [syringe][=0x0022=] as injecting it with. Understand [=0x0022=]use [syringe] on [someone][=0x0022=] as injecting it with. Understand the commands [=0x0022=]innoculate[=0x0022=] and [=0x0022=]vaccinate[=0x0022=] as [=0x0022=]inject[=0x0022=].[=0x000A=][=0x000A=]Injecting it with is an action applying to two things.[=0x000A=][=0x000A=]Check injecting it with:[=0x000A=][=0x0009=]if the second noun is not the syringe, say [=0x0022=][The second noun] cannot inject anything.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is clean:[=0x000A=][=0x0009=][=0x0009=]if the noun is the player, say [=0x0022=]You[=0x0027=]re not infected yet.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] is not infected, and the syringe contains a cure, not a vaccine.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out injecting it with: now the noun is clean.[=0x000A=][=0x000A=]After injecting the player with something: say [=0x0022=]You inject yourself, wincing at the sting. But the itching fades almost at once.[=0x0022=][=0x000A=][=0x000A=]Report injecting it with: say [=0x0022=]You inject [the noun], who is now cured (but could easily be reinfected).[=0x0022=][=0x000A=][=0x000A=]Section 3 - Geography[=0x000A=][=0x000A=]Include Locksmith by Emily Short.[=0x000A=][=0x000A=]Understand [=0x0022=]go to/toward/into [any room][=0x0022=] as going toward.  Understand [=0x0022=]enter [any room][=0x0022=] as going toward.[=0x000A=][=0x000A=]A person has a room called the destination.[=0x000A=][=0x000A=]Going toward is an action applying to one thing.[=0x000A=][=0x000A=]Check going toward:[=0x000A=][=0x0009=]if the noun is the location, say [=0x0022=]You[=0x0027=]re already in [the location].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out going toward:[=0x000A=][=0x0009=]now the destination of the player is the noun;[=0x000A=][=0x0009=]let heading be the best route from the location to the noun, using even locked doors;[=0x000A=][=0x0009=]if heading is not a direction, say [=0x0022=]You can[=0x0027=]t think how to get there from here.[=0x0022=] instead;[=0x000A=][=0x0009=]try going heading;[=0x000A=][=0x0009=]if the location is the destination of the player, now the destination of the player is blank.[=0x000A=][=0x000A=]Instead of waiting when the destination of the player is not blank:[=0x000A=][=0x0009=]if the destination of the player is the location:[=0x000A=][=0x0009=][=0x0009=]now the destination of the player is blank;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]try going toward destination of the player;[=0x000A=][=0x0009=][=0x0009=]if the location is the destination of the player, now the destination of the player is blank.[=0x000A=][=0x000A=]Understand [=0x0022=]stop[=0x0022=] or [=0x0022=]cease[=0x0022=] as stopping. Stopping is an action applying to nothing. Carry out stopping: now the destination of the player is blank. Report stopping: say [=0x0022=]You stop in your tracks.[=0x0022=][=0x000A=][=0x000A=]After going to an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]You step into the mercifully air-conditioned surroundings of...[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]After going from an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]You emerge from the air-conditioning into heat like a wall...[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Instead of listening to an air-conditioned room:[=0x000A=][=0x0009=]say [=0x0022=]The air-conditioning hums softly.[=0x0022=][=0x000A=][=0x000A=]The Alfred Cralle Pool Hall is a room. [=0x0022=]The town[=0x0027=]s most popular gathering-place, the pool hall is decorated in honor of the inventor of the ice cream scoop.[=0x0022=] The air conditioner is a device in the Pool Hall. [=0x0022=][if switched off]An air conditioner sits in the corner, unhappily inert[otherwise]The air conditioner hums briskly[end if].[=0x0022=][=0x000A=][=0x000A=]The felt door is west of the Pool Hall. The felt door is a door. The felt door is open. The felt door is lockable and unlocked. The key to the city unlocks the felt door. The description of the felt door is [=0x0022=]It has a prominent lock, designed for an old-fashioned key.[=0x0022=][=0x000A=][=0x000A=]After locking a door with something in the presence of an other person (called audience):[=0x000A=][=0x0009=]say [=0x0022=][The audience] looks a little non-plussed when you lock [the noun], but shrugs.[=0x0022=][=0x000A=][=0x000A=]Nancy Johnson Memorial Square is west of the felt door. The description of Nancy Johnson Memorial Square is [=0x0022=]Waves of August heat rise from the pavement: more than once you[=0x0027=]ve had the fancy that your shoes are simply going to stick. At the center of the square, rubbed to a brownish polish by many adoring hands, is the statue of Mrs. Nancy Johnson of New Jersey.[=0x0022=][=0x000A=][=0x000A=]The statue is scenery in Memorial Square. Understand [=0x0022=]nancy[=0x0022=] or [=0x0022=]johnson[=0x0022=] or [=0x0022=]mrs[=0x0022=] as the statue. The description of the statue is [=0x0022=]Mrs. Johnson is pictured with a hand-cranked ice cream freezer tucked under one arm. Her other hand grips an ice cream scoop, ready to serve frozen dessert to the huddled masses.[=0x0022=] A hand-cranked ice cream freezer is part of the statue. The description is [=0x0022=]The hand-cranked ice cream freezer was Mrs. Johnson[=0x0027=]s invention in 1846, though it was William Young who had the sense to patent the thing in 1848.[=0x0022=] The scoop is part of the statue. The description of the scoop is [=0x0022=]An anachronism: Alfred Cralle would not invent the tool until 1897.[=0x0022=][=0x000A=][=0x000A=]The Post Office is northwest of Nancy Johnson Memorial Square. [=0x0022=]Service at the post office is on the slow side since everything went automated.[=0x0022=] The slot is scenery in the post office. The slot is a container. Carry out inserting something into the slot: now the noun is nowhere. Report inserting something into the slot: say [=0x0022=][The noun] falls out of sight, and you know you will never see it again.[=0x0022=][=0x000A=][=0x000A=]Hamwi Street is northeast of an iron gate. [=0x0022=]A U-shaped street running from Main Street around to the Memorial Square, Hamwi Street was recently added by ambitious city planners. The small and straggly line of trees has yet to grow enough to provide perceptible shade, so the street is even hotter and more unforgiving than the other parts of town.[=0x0022=][=0x000A=][=0x000A=]The iron gate is northeast of Nancy Johnson Memorial Square. The iron gate is a door. It is lockable and unlocked.[=0x000A=][=0x000A=]Before printing the name of the iron gate while not opening or closing or locking or unlocking:[=0x000A=][=0x0009=]if the person asked is the player:[=0x000A=][=0x0009=][=0x0009=]if the gate is open, say [=0x0022=]open [=0x0022=];[=0x000A=][=0x0009=]otherwise if the gate is locked:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]locked [=0x0022=];[=0x000A=][=0x0009=]otherwise if the gate is closed:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]closed [=0x0022=].[=0x000A=][=0x000A=]Cold Comfort Ice Cream is north of a metal door. The metal door is north of Hamwi Street. A poster is fixed in place in Cold Comfort. [=0x0022=]A poster fills one wall with the blazing promise of treats to come.[=0x0022=] The description of the poster is [=0x0022=]Coming soon! Thai ice creams! Durian, jackfruit, taro, and coconut flavors![=0x0022=][=0x000A=][=0x000A=]The metal door is a door. [=0x0022=]A frosty metallic door separates [the location] from [the other side of the metal door].[=0x0022=] The metal door is lockable and unlocked. The key to the city unlocks the metal door.[=0x000A=][=0x000A=][=0x000A=]Marciony Street is southeast of Nancy Johnson Memorial Square. [=0x0022=]A semi-circular terrace, named somewhat fancifully after one claimant to the invention of the ice cream cone -- though Hamwi Street competes for the same honor. There are wedges of cool shadow here and there thanks to the buildings, but for the most part the southern exposure keeps Marciony unpleasantly hot.[=0x0022=][=0x000A=][=0x000A=]The Movie Rental Store is west of a glass door. The glass door is a door. It is west of Marciony Street.  The glass door is lockable and unlocked. The key to the city unlocks the glass door.[=0x000A=][=0x000A=]Main Street is southeast of Hamwi Street. Main Street is northeast of some bronze gates.[=0x000A=][=0x000A=]The emergency box is in Main Street. The emergency box is fixed in place. [=0x0022=]A fire-red box with a glass front faces the sidewalk, with [=0x0027=]In case of emergency, BREAK GLASS[=0x0027=] lettered on it.[=0x0022=] The emergency box is closed and transparent. Understand [=0x0022=]glass[=0x0022=] as the box. Instead of attacking the closed emergency box: say [=0x0022=]You hit the emergency box, which shatters open.[=0x0022=]; now the emergency box is open. Instead of attacking the open emergency box: say [=0x0022=]The glass has already been thoroughly broken.[=0x0022=][=0x000A=][=0x000A=]The syringe is in the emergency box. The description of the syringe is [=0x0022=]It contains the cure for Gelato[=0x0027=]s Syndrome. You can inject anyone you like with it.[=0x0022=][=0x000A=][=0x000A=]The bronze gates are northeast of Marciony Street. The bronze gates are a door. The bronze gates are lockable and unlocked.  The description of the bronze gates is [=0x0022=]Erected during the milk-taint revolution of 1937, they were designed to keep Main Street safe from the depredations of dairy-starved rioters.[=0x0022=][=0x000A=][=0x000A=]The Public Library is east of Main Street. [=0x0022=]Built in the 1920s during the height of the dairy boom, the public library has lush pink velvet seats, marble walls the color of fresh cream, and a motif of cherries carved around every doorframe. An incongruous sign hangs from the ceiling.[=0x0022=] The incongruous sign is scenery in the Public Library. The description of the incongruous sign is [=0x0022=]Eating and drinking in the library is STRICTLY PROHIBITED.[=0x0022=][=0x000A=][=0x000A=]Town Hall is southeast of Main Street. [=0x0022=]Town Hall was built during the slow days of the ice-cream bust, and therefore it is as joyless and utilitarian as the Public Library is ridiculous. Unwilling to be reminded of their pain, the inhabitants steered clear of any decoration that might remotely be construed to resemble a scoop of anything: so there are no curves, only disciplined right angles.[=0x0022=] The key to the city is in Town Hall. It unlocks the iron gate. It unlocks the bronze gates.  The description of the key to the city is [=0x0022=]A skeleton key.[=0x0022=][=0x000A=][=0x000A=]A room can be indoors or outdoors. The Post Office, the Alfred Cralle Pool Hall, the Store, Cold Comfort, Town Hall, and the Library are indoors.[=0x000A=][=0x000A=]Use full-length room descriptions.[=0x000A=][=0x000A=]After looking in an outdoors room:[=0x000A=][=0x0009=]let started printing be false;[=0x000A=][=0x0009=]now every proximate door is not mentioned;[=0x000A=][=0x0009=]if an indoors room is adjacent:[=0x000A=][=0x0009=][=0x0009=]let started printing be true;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]From here you can head into [the list of adjacent indoors rooms][if a proximate door is not mentioned], or go through [the list of proximate doors which are not mentioned][end if]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=]if an outdoors room is adjacent:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You could[if started printing is true] also[end if] go [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let count be the number of adjacent outdoors rooms;[=0x000A=][=0x0009=][=0x0009=]let index be count;[=0x000A=][=0x0009=][=0x0009=]repeat with next room running through adjacent outdoors rooms:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let way be the best route from the location to the next room;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][way] to [the next room][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count, continuing;[=0x000A=][=0x0009=]if a proximate door is not mentioned:[=0x000A=][=0x0009=][=0x0009=]let started printing be true;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][if started printing is true]Also available[otherwise]Your available exits[end if] [is-are the list of proximate doors which are not mentioned].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if started printing is true, say paragraph break.[=0x000A=][=0x000A=]Definition: a door is proximate:[=0x000A=][=0x0009=]if the front side of it is the location, yes;[=0x000A=][=0x0009=]if the back side of it is the location, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Before exiting when the player is in an indoors room:[=0x000A=][=0x0009=]if the player can see a door (called nearest exit), try entering the nearest exit instead;[=0x000A=][=0x0009=]repeat with way running through directions:[=0x000A=][=0x0009=][=0x0009=]let next room be the room way from the location;[=0x000A=][=0x0009=][=0x0009=]if the next room is a room, try going way instead.[=0x000A=][=0x000A=]Blank is a room. The destination of the player is Blank. Blank contains 15 ice cream cones.[=0x000A=][=0x000A=][=0x000A=]Section 4 - Other Players[=0x000A=][=0x000A=]Vanessa is a woman in Cold Comfort. Vanessa owns Cold Comfort.[=0x000A=][=0x000A=]Francine is a woman in the Public Library. Francine carries a book called Phlox for Phyllis. Francine carries a stamped envelope called a pink stamped envelope.[=0x000A=][=0x000A=]Lewis is a man in the Alfred Cralle Pool Hall. Lewis carries 3 stamped envelopes. Lewis carries a book called Idiot[=0x0027=]s Guide to Dating. Lewis carries a book called How to Meet Women. Lewis carries a book called Seduction in Three Easy Steps. Lewis carries a DVD called Sleepless in Seattle.[=0x000A=][=0x000A=]Gene is a man in Nancy Johnson Memorial Square. Gene carries a stamped envelope. Gene carries a DVD called Casablanca. Gene carries a coupon.[=0x000A=][=0x000A=]Rhoda is a woman in Marciony Street. Rhoda carries a book called The Marciony Street Murders. Rhoda carries a DVD called Unsolved Serial Killings XVIII. Rhoda carries a stamped envelope called a squashy package.[=0x000A=][=0x000A=]Martin is a man in Main Street. Martin carries a DVD called The Lifecycle of the South Sea Tortoise. Martin carries a coupon.[=0x000A=][=0x000A=]Antony is a man in Movie Rental. Antony carries a coupon. Antony carries a stamped envelope called a postcard.[=0x000A=][=0x000A=]Shelby is a man in the Town Hall. Shelby carries a DVD called  Conducting An Orderly Meeting. Shelby carries 5 stamped envelopes. Shelby carries an ice cream cone. Shelby carries a coupon.[=0x000A=][=0x000A=]Christopher is a man in the Library. Christopher owns the Library.[=0x000A=][=0x000A=]Linnea is a woman in the Alfred Cralle Pool Hall. Linnea owns the Alfred Cralle Pool Hall.[=0x000A=][=0x000A=]Ned is a man in the Movie Rental Store. Ned owns the Movie Rental.[=0x000A=][=0x000A=]After printing the name of someone (called target) while listing contents: if the target owns the location of the target, say [=0x0022=] (the owner)[=0x0022=].[=0x000A=][=0x000A=]The description of a person is usually [=0x0022=][The noun] [if the noun is clean]looks healthy[otherwise]is the color of [infection color of the noun][end if].[=0x0022=][=0x000A=][=0x000A=]After examining another person who is carrying something: say [=0x0022=][if the noun is female]She[otherwise]He[end if] is carrying [a list of things carried by the noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: let Patient Zero be a random other person; now patient zero is infected.[=0x000A=][=0x000A=][This is a light variation of a previous example, but we use it here because it is convenient:][=0x000A=][=0x000A=]Section 5 - Conversation[=0x000A=][=0x000A=]A person has a table name called conversation.[=0x000A=][=0x000A=]Instead of asking someone about something:[=0x000A=][=0x0009=]let the source be the conversation of the noun;[=0x000A=][=0x0009=]if topic understood is a topic listed in source:[=0x000A=][=0x0009=][=0x0009=]if there is a turn stamp entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You have already heard that [summary entry].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now turn stamp entry is the turn count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the character entry is the noun;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][reply entry][paragraph break][=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] stares at you blankly.[=0x0022=].[=0x000A=][=0x000A=]Instead of telling someone about something:[=0x000A=][=0x0009=]try asking the noun about it.[=0x000A=][=0x000A=]Understand [=0x0022=]recap[=0x0022=] or [=0x0022=]recall[=0x0022=] or [=0x0022=]review[=0x0022=] as recalling conversations.[=0x000A=][=0x000A=]Recalling conversations is an action applying to nothing.[=0x000A=][=0x000A=]Carry out recalling conversations:[=0x000A=][=0x0009=]repeat with speaker running through other people:[=0x000A=][=0x0009=][=0x0009=]let source be the conversation of the speaker;[=0x000A=][=0x0009=][=0x0009=]sort source in turn stamp order;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The speaker] has so far told you: [line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]let index be 0;[=0x000A=][=0x0009=][=0x0009=]repeat through source:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if there is a turn stamp entry and the speaker is character entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]let index be 1;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]  [summary entry][line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if index is 0, say [=0x0022=]  absolutely nothing[line break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say line break.[=0x000A=][=0x000A=]The conversation of a person is usually Table of General ChitChat.[=0x000A=][=0x000A=]Table of General ChitChat[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x0009=]character[=0x000A=][=0x0022=]weather/heat/warmth[=0x0022=][=0x0009=][=0x0022=][=0x0027=]It[=0x0027=]s appalling, isn[=0x0027=]t it? You[=0x0027=]d think we didn[=0x0027=]t pay our taxes.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather is appalling[=0x0022=][=0x0009=]a number[=0x0009=]a person[=0x000A=][=0x0022=]sun/sunlight[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Good thing the town mostly switched to solar power, har, har.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the town is mostly relying on solar power[=0x0022=][=0x000A=][=0x0022=]rain[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Nope, there isn[=0x0027=]t going to be rain for 132 days,[=0x0027=] replies [the noun].[=0x0022=][=0x0009=][=0x0022=]that rain is not expected for another 132 days[=0x0022=][=0x000A=][=0x0022=]snow/hail/ice[=0x0022=][=0x0009=][=0x0022=]This hilarious sally is greeted with hoots of laughter only.[=0x0022=][=0x0009=][=0x0022=]that the concept of snow is downright laughable[=0x0022=][=0x000A=][=0x0022=]disease/sickness/illness/syndrome[=0x0022=][=0x0009=][=0x0022=]You get a cold, fixed stare in response. [=0x0027=]That[=0x0027=]s not funny,[=0x0027=] [the noun] replies finally.[=0x0022=][=0x0009=][=0x0022=]that discussing the disease is more or less taboo[=0x0022=][=0x000A=][=0x0022=]cold comfort[=0x0022=][=0x0009=][=0x0022=][=0x0027=]If you haven[=0x0027=]t tried it, you should,[=0x0027=] says [the noun]. [=0x0027=]Best ice cream in town, and that[=0x0027=]s saying something, you bet.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that Cold Comfort has the best ice cream in town[=0x0022=][=0x000A=][=0x0022=]town/city/village[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Yeah, it[=0x0027=]s a mite odd,[=0x0027=] allows [the noun]. [=0x0027=]Not to everyone[=0x0027=]s taste, like...[=0x0027=] [the noun as pronoun] considers for a moment. [=0x0027=]Like ginger ice cream. Big pieces of crystallized ginger... not everyone likes that.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the town is a mite odd[=0x0022=][=0x000A=][=0x0022=]forecast/weatherman[=0x0022=] or [=0x0022=]weather forecast/man[=0x0022=][=0x0009=][=0x0022=][=0x0027=]Oh, the weather man[=0x0027=]s gotten a lot more reliable since the gummint started making it for us,[=0x0027=] says [the noun]. [=0x0027=]Now he just reads off the schedule on the air every morning. Pretty much takes the fun right out of the news, if you ask me.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather is all generated by schedule[=0x0022=][=0x000A=][=0x0022=]taxes/tax[=0x0022=] or [=0x0022=]weather tax[=0x0022=][=0x0009=][=0x0022=]A snort. [=0x0027=]You[=0x0027=]d think for the rates we pay we[=0x0027=]d get something a little pleasanter, don[=0x0027=]t you?[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the weather tax really ought to be paying for something nicer than what you get[=0x0022=][=0x000A=][=0x0022=]job/employment/work[=0x0022=][=0x0009=][=0x0022=][=0x0027=][if the noun owns a room (called the shop)]I own [the shop],[=0x0027=] replies [the noun][otherwise]Work at the creamery, like most folk around here,[=0x0027=] answers [the noun].[=0x0022=][=0x0009=][=0x0022=]this and that about employment in town[=0x0022=][=0x000A=][=0x0022=]book/books/reading[=0x0022=][=0x0009=][=0x0022=][=0x0027=]The Public Library has a good selection, excepting only the cookbook section,[=0x0027=] says [the noun]. [=0x0027=]That got censored way back when-- well, way back.[=0x0027=][=0x0022=][=0x0009=][=0x0022=]that the Public Library has a good collection, except for the cookbook section[=0x0022=][=0x000A=][=0x000A=]The conversation of Vanessa is the Table of Vanessa Chatter.[=0x000A=][=0x000A=]Table of Vanessa Chatter[=0x000A=]topic[=0x0009=]reply[=0x0009=]summary[=0x0009=]turn stamp[=0x0009=]character[=0x000A=][=0x0022=]ice cream[=0x0022=] or [=0x0022=]sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices[=0x0022=][=0x0009=][=0x0022=][=0x0027=]The flavors are [list of flavors],[=0x0027=] she responds promptly, without needing to draw breath.[=0x0022=][=0x0009=][=0x0022=]that the flavors are [list of flavors][=0x0022=][=0x0009=]a number[=0x0009=]a person[=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]while player[=0x0027=]s command includes [=0x0022=]the[=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]cut the matched text.[=0x000A=][=0x000A=][This strips [=0x0027=]the[=0x0027=] out of the command, so that ASK PERSON ABOUT THE RAIN will be understood as well as ASK PERSON ABOUT RAIN.][=0x000A=][=0x000A=][Now we try something a bit unusual. Inform on its own will report each action on its own line, so that each character who walks into or out of a room will be described in a separate paragraph. This is usually fine, but in a game with a lot of characters moving around simultaneously, it can become a bit overwhelming. Instead, we may want to condense these reports into a single line, such as [=0x0022=]Ben and Jerry enter from the south[=0x0022=]. The following accomplishes that goal by replacing some of the reporting rules, storing the information in a table, and then reading the table back later, once all the character movement has been resolved and the reports can usefully be collated:][=0x000A=][=0x000A=]Section 6 - Movement Description[=0x000A=][=0x000A=]A person has some text called walk style. The walk style of a man is usually [=0x0022=]stride[=0x0022=]. The walk style of a woman is usually [=0x0022=]strut[=0x0022=]. The walk style of Gene is [=0x0022=][one of]wander[or]stroll[purely at random][=0x0022=]. The walk style of Francine is [=0x0022=]waddle[=0x0022=]. The walk style of Antony is [=0x0022=]scamper[=0x0022=]. The walk style of Rhoda is [=0x0022=]sashay[=0x0022=].[=0x000A=][=0x000A=]Table of Visible Exits[=0x000A=]character[=0x0009=]second[=0x0009=]third[=0x0009=]heading chosen[=0x0009=]total[=0x000A=]a person[=0x0009=]a person[=0x0009=]a person[=0x0009=]a direction[=0x0009=]a number[=0x000A=]with 10 blank rows.[=0x000A=][=0x000A=]Table of Visible Entrances[=0x000A=]character[=0x0009=]second[=0x0009=]third[=0x0009=]heading chosen[=0x0009=]total[=0x000A=]a person[=0x0009=]a person[=0x0009=]a person[=0x0009=]a direction[=0x0009=]a number[=0x000A=]with 10 blank rows.[=0x000A=][=0x000A=]To clear (current table - a table name):[=0x000A=][=0x0009=]repeat through current table:[=0x000A=][=0x0009=][=0x0009=]blank out the whole row.[=0x000A=][=0x000A=]To tidy departures of (current table - a table name):[=0x000A=][=0x0009=]let next direction be up;[=0x000A=][=0x0009=]repeat through current table:[=0x000A=][=0x0009=][=0x0009=]if heading chosen entry is next direction:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let accomplice be character entry;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]choose row with heading chosen of next direction in the current table;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if total entry is 1:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]now second entry is accomplice;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]now total entry is 2;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if total entry is 2:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]unless the second entry is accomplice:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]now third entry is accomplice;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]now total entry is 3;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]choose row with character of accomplice in the current table;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]blank out the whole row;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let next direction be heading chosen entry.[=0x000A=][=0x000A=]A door has a person called last opener.[=0x000A=][=0x000A=]Report someone opening a door:[=0x000A=][=0x0009=]now group size is 1;[=0x000A=][=0x0009=]now the last opener of the noun is the person asked;[=0x000A=][=0x0009=]if the person asked is visible, say [=0x0022=][The person asked] opens [the noun]. [run paragraph on][=0x0022=] instead;[=0x000A=][=0x0009=]otherwise say [=0x0022=][The noun] opens from the other side. [run paragraph on][=0x0022=] instead.[=0x000A=][=0x000A=]Report someone going through a door (called route):[=0x000A=][=0x0009=]if the person asked is not the last opener of the route, continue the action;[=0x000A=][=0x0009=]if the person asked is the last person named, say [=0x0022=][The person asked as pronoun][=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=][The person asked][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=] [if the person asked is in the location]comes[otherwise]goes[end if] through[if the last thing named is not the route] [the route][end if].[=0x0022=] instead.[=0x000A=][=0x000A=]The last thing named is a thing that varies. Before printing the name of something (called target) which is not a person: now the last thing named is the target.[=0x000A=][=0x000A=]Report someone going a direction:[=0x000A=][=0x0009=]if the person asked is in the location,[=0x000A=][=0x0009=][=0x0009=]choose a blank row in the table of visible entrances;[=0x000A=][=0x0009=]otherwise choose a blank row in the table of visible exits;[=0x000A=][=0x0009=]now character entry is the person asked;[=0x000A=][=0x0009=]now total entry is 1;[=0x000A=][=0x0009=]if the person asked is in the location,[=0x000A=][=0x0009=][=0x0009=]now heading chosen entry is the opposite of the noun;[=0x000A=][=0x0009=]otherwise now heading chosen entry is the noun;[=0x000A=][=0x0009=]stop the action.[=0x000A=][=0x000A=]This is the movement reporting rule:[=0x000A=][=0x0009=]sort the Table of Visible Entrances in heading chosen order;[=0x000A=][=0x0009=]tidy departures of the table of visible entrances;[=0x000A=][=0x0009=]sort the Table of Visible exits in heading chosen order;[=0x000A=][=0x0009=]tidy departures of the table of visible exits;[=0x000A=][=0x0009=]let total row count be the number of filled rows in the Table of Visible Entrances plus the number of filled rows in the Table of Visible Exits;[=0x000A=][=0x0009=]if total row count is 0, rule succeeds;[=0x000A=][=0x0009=]generate descriptions from the Table of Visible Entrances;[=0x000A=][=0x0009=]generate descriptions from the Table of Visible Exits;[=0x000A=][=0x0009=]clear the Table of Visible Entrances; clear the Table of Visible Exits.[=0x000A=][=0x000A=]To generate descriptions from (current table - a table name):[=0x000A=][=0x0009=]let count be the number of filled rows in the current table;[=0x000A=][=0x0009=]if count is 0, rule succeeds;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat through the current table:[=0x000A=][=0x0009=][=0x0009=]let accomplice be character entry;[=0x000A=][=0x0009=][=0x0009=]if character entry is a person, now character entry is marked for listing;[=0x000A=][=0x0009=][=0x0009=]if there is a second entry and second entry is a person, now second entry is marked for listing;[=0x000A=][=0x0009=][=0x0009=]if there is a third entry and third entry is a person, now third entry is marked for listing;[=0x000A=][=0x0009=][=0x0009=]let target be the room the heading chosen entry from the location;[=0x000A=][=0x0009=][=0x0009=]if total entry is 3, say [=0x0022=][The character entry], [the second entry][optional comma] and [the third entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if total entry is 2, say [=0x0022=][The character entry] and [the second entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if total entry is 1:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the character entry is the last person named, say [=0x0022=][The character entry as pronoun] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise say [=0x0022=][The character entry] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if total entry is 1, say [=0x0022=][walk style of the character entry]s [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]walk[if total entry is 1]s[end if] [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if the character entry is in the location:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is indoors, say [=0x0022=]over from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is indoors, say [=0x0022=]out of [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is outdoors, say [=0x0022=]in from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is outdoors, say [=0x0022=]over from [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is indoors, say [=0x0022=]over to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is indoors, say [=0x0022=]into [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is indoors and target is outdoors, say [=0x0022=]out [if a door is visible][the random visible door][end if] to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if location is outdoors and target is outdoors, say [=0x0022=]over to [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if target is outdoors, say [=0x0022=][the heading chosen entry][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][the target][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if the total entry is 1 and count is 1 and accomplice carries something, say [=0x0022=], carrying [a list of things carried by the accomplice][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count, continuing;[=0x000A=][=0x0009=][=0x0009=]now group size is total entry;[=0x000A=][=0x0009=]if a marked for listing person is infected:[=0x000A=][=0x0009=][=0x0009=][eliminate the case in which we have already seen this description because we just typed LOOK and the patient was in the room at the time][=0x000A=][=0x0009=][=0x0009=]if looking and a marked for listing person is not in the location:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]describe patients;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=]say paragraph break.[=0x000A=][=0x000A=]The last person named is a person that varies. Before printing the name of a person (called target): now the last person named is the target. Group size is a number that varies. Group size is 1.[=0x000A=][=0x000A=]To clear marked people:[=0x000A=][=0x0009=]repeat with named party running through people:[=0x000A=][=0x0009=][=0x0009=]now the named party is not marked for listing.[=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]if the number of people who are marked for listing is 0, make no decision;[=0x000A=][=0x0009=]say [=0x0022=]You can see [a list of people who are marked for listing] here. [=0x0022=];[=0x000A=][=0x0009=]now group size is the number of people who are marked for listing;[=0x000A=][=0x0009=]describe patients;[=0x000A=][=0x0009=]now every marked for listing person is not marked for listing.[=0x000A=][=0x000A=]To describe patients:[=0x000A=][=0x0009=]if every marked for listing person is infected and at least three people are marked for listing:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]They are all sick as dogs, every one.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if the number of people who are marked for listing is greater than two and the number of infected people who are marked for listing is greater than the number of clean people who are marked for listing:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]Only [the list of clean people who are marked for listing] currently remain[if the number of clean people who are marked for listing is 1]s[end if] untainted.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]clear marked people;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]rule succeeds;[=0x000A=][=0x0009=]let count be the number of marked for listing other people who are infected;[=0x000A=][=0x0009=]if count is 0:[=0x000A=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]make no decision;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat with patient running through marked for listing other people who are infected:[=0x000A=][=0x0009=][=0x0009=]if index is count:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if count is 1 and the patient is the last person named:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The patient as pronoun][=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][The patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][the patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] [looks as though dipped in for index] [infection color of the patient][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count;[=0x000A=][=0x0009=]clear marked people.[=0x000A=][=0x000A=]To say (named character - a man) as pronoun:[=0x000A=][=0x0009=]if group size is 1, say [=0x0022=]He[=0x0022=]; if group size is 2, say [=0x0022=]The latter[=0x0022=]; if group size is greater than 2, say [=0x0022=]The last[=0x0022=].[=0x000A=][=0x000A=]To say (named character - a woman) as pronoun: if group size is 1, say [=0x0022=]She[=0x0022=]; if group size is 2, say [=0x0022=]The latter[=0x0022=]; if group size is greater than 2, say [=0x0022=]The last[=0x0022=].[=0x000A=][=0x000A=]To say looks as though dipped in for (index - a number):[=0x000A=][=0x0009=]let divider be the number of filled rows in the Table of Dipping Phrases;[=0x000A=][=0x0009=]if index is greater than 4, let index be the remainder after dividing index by divider;[=0x000A=][=0x0009=]choose row index in the Table of Dipping Phrases;[=0x000A=][=0x0009=]say dipping entry.[=0x000A=][=0x000A=]Table of Dipping Phrases[=0x000A=]dipping[=0x000A=][=0x0022=]looks as though dipped in[=0x0022=][=0x000A=][=0x0022=]could have been rolling in[=0x0022=][=0x000A=][=0x0022=]has a bad case of[=0x0022=][=0x000A=][=0x0022=]suffers from[=0x0022=][=0x000A=][=0x0022=]contracted a virulent[=0x0022=][=0x000A=][=0x000A=]A door is usually scenery.[=0x000A=][=0x000A=][The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.][=0x000A=][=0x000A=]To make delimiter (index - a number) of (count - a number), continuing or halting:[=0x000A=][=0x0009=]if index is 0:[=0x000A=][=0x0009=][=0x0009=]if continuing, say [=0x0022=]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=].[=0x0022=];[=0x000A=][=0x0009=]otherwise if index is 1:[=0x000A=][=0x0009=][=0x0009=]if count is 2, say [=0x0022=] and [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][optional comma] and [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=], [=0x0022=].[=0x000A=][=0x000A=]To say optional comma:[=0x000A=][=0x0009=]if the serial comma option is active:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=],[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]go to cold comfort / z / z / z / z / ask vanessa for french vanilla / ask vanessa for chocolate / ask vanessa about flavors / ask vanessa for chocolate chocolate chip[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Patient Zero&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7672_36" -->
<a id="c7672_36"></a><blockquote class="code"><p class="quoted">
Use the serial comma and no scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7673_36" -->
<a id="c7673_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;about&quot; as asking for information. Asking for information is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7674_36" -->
<a id="c7674_36"></a><blockquote class="code"><p class="quoted">
Carry out asking for information: say &quot;An implementation of the following creative brief:
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7675_36" -->
<a id="c7675_36"></a><blockquote class="code"><p class="quoted">
People wander around some small map, on errands. One, sad to tell, has Gelato's Syndrome, a tragic condition turning one's skin the colour of a random flavour of ice cream (raspberry ripple, neapolitan, etc.). When two people are in the same room, there's a 1/3 chance that an infected person will infect a non-infected one. The player can cure any single person: victory condition - to stamp out the disease.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7676_36" -->
<a id="c7676_36"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;Gelato's Syndrome. It's struck, and it's struck hard. In these sticky summer months, there's no telling who will contract the disease next.&quot;;
<br />&#160;&#160;&#160;&#160;now the command prompt is &quot;[if the destination of the player is not blank](heading to [destination of the player]) [end if]&gt;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7677_36" -->
<a id="c7677_36"></a><blockquote class="code"><p class="quoted">
Section 1 - Errands
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7678_36" -->
<a id="c7678_36"></a><blockquote class="code"><p class="quoted">
The current actor is a person which varies. The current owner is a person which varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7679_36" -->
<a id="c7679_36"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if player is active, follow the character movement rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7680_36" -->
<a id="c7680_36"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;now the last person named is the player;
<br />&#160;&#160;&#160;&#160;now the last thing named is the player;
<br />&#160;&#160;&#160;&#160;now every person is active.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7681_36" -->
<a id="c7681_36"></a><blockquote class="code"><p class="quoted">
A person can be active or passive. The player is passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7682_36" -->
<a id="c7682_36"></a><blockquote class="code"><p class="quoted">
The character movement rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7683_36" -->
<a id="c7683_36"></a><blockquote class="code"><p class="quoted">
The first character movement rule:
<br />&#160;&#160;&#160;&#160;now group size is 1;
<br />&#160;&#160;&#160;&#160;now the last person named is the player;
<br />&#160;&#160;&#160;&#160;now the last thing named is the player;
<br />&#160;&#160;&#160;&#160;now the player is passive.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7684_36" -->
<a id="c7684_36"></a><blockquote class="code"><p class="quoted">
A character movement rule:
<br />&#160;&#160;&#160;&#160;repeat with mover running through innocent people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current actor is the mover;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the shopper rules;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current actor is passive;
<br />&#160;&#160;&#160;&#160;follow the movement reporting rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7685_36" -->
<a id="c7685_36"></a><blockquote class="code"><p class="quoted">
A character movement rule:
<br />&#160;&#160;&#160;&#160;repeat with next mover running through mercantile people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current owner is the next mover;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the shopowner rules;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current owner is passive;
<br />&#160;&#160;&#160;&#160;follow the infection rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7686_36" -->
<a id="c7686_36"></a><blockquote class="code"><p class="quoted">
To decide whether movement has not yet occurred:
<br />&#160;&#160;&#160;&#160;if the player is passive, no;
<br />&#160;&#160;&#160;&#160;yes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7687_36" -->
<a id="c7687_36"></a><blockquote class="code"><p class="quoted">
Definition: a person is mercantile if it owns a room. Definition: a person is innocent if it is not mercantile and it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7688_36" -->
<a id="c7688_36"></a><blockquote class="code"><p class="quoted">
The shopowner rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7689_36" -->
<a id="c7689_36"></a><blockquote class="code"><p class="quoted">
A shopowner rule:
<br />&#160;&#160;&#160;&#160;let the shop be a random room owned by the current owner;
<br />&#160;&#160;&#160;&#160;if the shop is air-conditioned and an open door (called the escape) protects the shop, try the current owner closing the escape instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7690_36" -->
<a id="c7690_36"></a><blockquote class="code"><p class="quoted">
Report someone closing a door when the person asked owns the location:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked], muttering darkly about air-conditioning and electricity, closes [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7691_36" -->
<a id="c7691_36"></a><blockquote class="code"><p class="quoted">
Report Vanessa closing the metal door when the metal door is visible:
<br />&#160;&#160;&#160;&#160;if Vanessa is visible, say &quot;Vanessa watches serenely as the metal door slides automatically back in place, sealing Cold Comfort.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;The metal door slides heavily back into place.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7692_36" -->
<a id="c7692_36"></a><blockquote class="code"><p class="quoted">
A shopowner rule:
<br />&#160;&#160;&#160;&#160;if the location of the current owner encloses a submitted artwork (called the target):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the current owner filing the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7693_36" -->
<a id="c7693_36"></a><blockquote class="code"><p class="quoted">
Filing is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7694_36" -->
<a id="c7694_36"></a><blockquote class="code"><p class="quoted">
Before someone filing something which is not carried by the person asked:
<br />&#160;&#160;&#160;&#160;try the person asked taking the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7695_36" -->
<a id="c7695_36"></a><blockquote class="code"><p class="quoted">
Carry out someone filing:
<br />&#160;&#160;&#160;&#160;if the person asked does not carry the noun and the person asked is visible, say &quot;[The person asked] tries unsuccessfully to get [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7696_36" -->
<a id="c7696_36"></a><blockquote class="code"><p class="quoted">
Report someone filing:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] registers [the noun] and files it away.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7697_36" -->
<a id="c7697_36"></a><blockquote class="code"><p class="quoted">
The shopper rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7698_36" -->
<a id="c7698_36"></a><blockquote class="code"><p class="quoted">
A shopper rule:
<br />&#160;&#160;&#160;&#160;if the current actor carries something (called the problem), try the current actor resolving the problem instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7699_36" -->
<a id="c7699_36"></a><blockquote class="code"><p class="quoted">
A shopper rule:
<br />&#160;&#160;&#160;&#160;if the current actor is not in the pool hall and the air conditioner is switched on:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the current actor approaching the pool hall;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be a random direction;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try the current actor going the way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7700_36" -->
<a id="c7700_36"></a><blockquote class="code"><p class="quoted">
Definition: a room is air-conditioned:
<br />&#160;&#160;&#160;&#160;if it is outdoors, no;
<br />&#160;&#160;&#160;&#160;if it is the Pool Hall and the air conditioner is switched off, no;
<br />&#160;&#160;&#160;&#160;if it is protected by a door, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7701_36" -->
<a id="c7701_36"></a><blockquote class="code"><p class="quoted">
Protection relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to protect means the protection relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7702_36" -->
<a id="c7702_36"></a><blockquote class="code"><p class="quoted">
Ownership relates one person to various rooms. The verb to own means the ownership relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7703_36" -->
<a id="c7703_36"></a><blockquote class="code"><p class="quoted">
Resolving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7704_36" -->
<a id="c7704_36"></a><blockquote class="code"><p class="quoted">
An artwork is a kind of thing. Before printing the name of an artwork, say italic type. After printing the name of an artwork, say roman type. An artwork can be submitted or reserved.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7705_36" -->
<a id="c7705_36"></a><blockquote class="code"><p class="quoted">
A book is a kind of artwork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7706_36" -->
<a id="c7706_36"></a><blockquote class="code"><p class="quoted">
Before someone resolving a book when the person asked is not in the Public Library:
<br />&#160;&#160;&#160;&#160;try the person asked approaching the Public Library instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7707_36" -->
<a id="c7707_36"></a><blockquote class="code"><p class="quoted">
Carry out someone resolving a book:
<br />&#160;&#160;&#160;&#160;move the noun to the Public Library;
<br />&#160;&#160;&#160;&#160;now the noun is submitted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7708_36" -->
<a id="c7708_36"></a><blockquote class="code"><p class="quoted">
Report someone resolving a book:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] turns in [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7709_36" -->
<a id="c7709_36"></a><blockquote class="code"><p class="quoted">
Before listing contents: group books together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7710_36" -->
<a id="c7710_36"></a><blockquote class="code"><p class="quoted">
Before grouping together books: say &quot;books entitled &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7711_36" -->
<a id="c7711_36"></a><blockquote class="code"><p class="quoted">
A stamped envelope is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7712_36" -->
<a id="c7712_36"></a><blockquote class="code"><p class="quoted">
Before someone resolving a stamped envelope when the person asked is not in the Post Office:
<br />&#160;&#160;&#160;&#160;try the person asked approaching the Post Office instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7713_36" -->
<a id="c7713_36"></a><blockquote class="code"><p class="quoted">
Carry out someone resolving a stamped envelope:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7714_36" -->
<a id="c7714_36"></a><blockquote class="code"><p class="quoted">
Report someone resolving a stamped envelope:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] slips [a noun] into the outgoing mail slot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7715_36" -->
<a id="c7715_36"></a><blockquote class="code"><p class="quoted">
Instead of someone resolving a stamped envelope when the person asked carries at least two stamped envelopes:
<br />&#160;&#160;&#160;&#160;if the person asked is visible, say &quot;[The person asked] shoves into the mail slot [a list of stamped envelopes carried by the person asked].&quot;;
<br />&#160;&#160;&#160;&#160;repeat with item running through stamped envelopes carried by the person asked:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7716_36" -->
<a id="c7716_36"></a><blockquote class="code"><p class="quoted">
A DVD is a kind of artwork.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7717_36" -->
<a id="c7717_36"></a><blockquote class="code"><p class="quoted">
Before someone resolving a DVD when the person asked is not in the Rental Store:
<br />&#160;&#160;&#160;&#160;try the person asked approaching the Rental Store instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7718_36" -->
<a id="c7718_36"></a><blockquote class="code"><p class="quoted">
Carry out someone resolving a DVD:
<br />&#160;&#160;&#160;&#160;now the noun is submitted;
<br />&#160;&#160;&#160;&#160;move the noun to the Movie Rental Store.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7719_36" -->
<a id="c7719_36"></a><blockquote class="code"><p class="quoted">
Report someone resolving a DVD:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] returns [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7720_36" -->
<a id="c7720_36"></a><blockquote class="code"><p class="quoted">
Instead of someone resolving a DVD when the person asked carries at least two DVDs:
<br />&#160;&#160;&#160;&#160;if the person asked is visible, say &quot;[The person asked] turns in [a list of DVDs carried by the person asked].&quot;;
<br />&#160;&#160;&#160;&#160;now every DVD carried by the person asked is submitted;
<br />&#160;&#160;&#160;&#160;now every DVD carried by the person asked is in the location of the person asked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7721_36" -->
<a id="c7721_36"></a><blockquote class="code"><p class="quoted">
Before listing contents: group DVDs together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7722_36" -->
<a id="c7722_36"></a><blockquote class="code"><p class="quoted">
Before grouping together DVDs: say &quot;DVDs of &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7723_36" -->
<a id="c7723_36"></a><blockquote class="code"><p class="quoted">
Approaching is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7724_36" -->
<a id="c7724_36"></a><blockquote class="code"><p class="quoted">
Carry out someone approaching:
<br />&#160;&#160;&#160;&#160;let the way be the best route from the location of the person asked to the noun, using doors;
<br />&#160;&#160;&#160;&#160;if the way is a direction, try the person asked going the way;
<br />&#160;&#160;&#160;&#160;otherwise stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7725_36" -->
<a id="c7725_36"></a><blockquote class="code"><p class="quoted">
A coupon is a kind of thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7726_36" -->
<a id="c7726_36"></a><blockquote class="code"><p class="quoted">
Carry out someone resolving a coupon:
<br />&#160;&#160;&#160;&#160;try the person asked giving the noun to Vanessa.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7727_36" -->
<a id="c7727_36"></a><blockquote class="code"><p class="quoted">
The block giving rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7728_36" -->
<a id="c7728_36"></a><blockquote class="code"><p class="quoted">
Check giving something to someone (this is the block player giving rule):
<br />&#160;&#160;&#160;&#160;abide by the block giving rule.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7729_36" -->
<a id="c7729_36"></a><blockquote class="code"><p class="quoted">
Before someone resolving a coupon when the person asked is not in Cold Comfort:
<br />&#160;&#160;&#160;&#160;try the person asked approaching Cold Comfort instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7730_36" -->
<a id="c7730_36"></a><blockquote class="code"><p class="quoted">
After someone giving a coupon to Vanessa:
<br />&#160;&#160;&#160;&#160;let the reward be a random ice cream cone;
<br />&#160;&#160;&#160;&#160;let the new flavor be a random infection color;
<br />&#160;&#160;&#160;&#160;now the infection color of the reward is the new flavor;
<br />&#160;&#160;&#160;&#160;move the reward to the person asked;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;if Vanessa is visible, say &quot;[The person asked] trades in [the noun] and receives [a reward] from Vanessa.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7731_36" -->
<a id="c7731_36"></a><blockquote class="code"><p class="quoted">
Infection color is a kind of value. The infection colors are french vanilla, whole-bean vanilla, mint, chocolate, dark chocolate, chocolate chip, chocolate fudge, mint chocolate chip, chocolate chocolate chip, triple chocolate, white chocolate, white chocolate chip, aztec cocoa-chili, raspberry ripple, neapolitan, rum raisin, dulce de leche, strawberry chunk, rocky road, blackberry sorbet, lemon sherbet, lime ice, caramel swirl, mango, saffron silk, and cookie dough cream.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7732_36" -->
<a id="c7732_36"></a><blockquote class="code"><p class="quoted">
To say list of flavors:
<br />&#160;&#160;&#160;&#160;let current color be french vanilla;
<br />&#160;&#160;&#160;&#160;while current color is not cookie dough cream:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[current color], &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current color is the infection color after the current color;
<br />&#160;&#160;&#160;&#160;say &quot;and [current color]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7733_36" -->
<a id="c7733_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;ask vanessa for [flavored ice cream]&quot; as buying the flavor. Understand &quot;buy [flavored ice cream]&quot; as buying the flavor.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7734_36" -->
<a id="c7734_36"></a><blockquote class="code"><p class="quoted">
Buying the flavor is an action applying to one infection color.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7735_36" -->
<a id="c7735_36"></a><blockquote class="code"><p class="quoted">
Check buying the flavor:
<br />&#160;&#160;&#160;&#160;unless the player can see Vanessa:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It would help if you were in the presence of an ice cream salesperson.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7736_36" -->
<a id="c7736_36"></a><blockquote class="code"><p class="quoted">
Carry out buying the flavor: say &quot;'Do you have a coupon?' Vanessa demands. You admit you do not. 'No [infection color understood] for you!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7737_36" -->
<a id="c7737_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;ice cream&quot; or &quot;cream&quot; or &quot;ice&quot; or &quot;sherbet&quot; or &quot;sorbet&quot; as &quot;[ice cream]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7738_36" -->
<a id="c7738_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;[infection color]&quot; or &quot;[infection color] [ice cream]&quot; as &quot;[flavored ice cream]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7739_36" -->
<a id="c7739_36"></a><blockquote class="code"><p class="quoted">
An ice cream cone is a kind of thing. An ice cream cone is always edible. An ice cream cone has an infection color. An ice cream cone can be half-eaten or fresh. Understand the infection color property as referring to an ice cream cone.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7740_36" -->
<a id="c7740_36"></a><blockquote class="code"><p class="quoted">
Carry out someone resolving an ice cream cone:
<br />&#160;&#160;&#160;&#160;try the person asked eating the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7741_36" -->
<a id="c7741_36"></a><blockquote class="code"><p class="quoted">
Instead of someone eating a fresh ice cream cone:
<br />&#160;&#160;&#160;&#160;now the noun is half-eaten;
<br />&#160;&#160;&#160;&#160;if the person asked is visible, say &quot;[The person asked] licks [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7742_36" -->
<a id="c7742_36"></a><blockquote class="code"><p class="quoted">
Report someone eating an ice cream cone:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] pops the end of [the noun] into [if the person asked is female]her[otherwise]his[end if] mouth and swallows.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7743_36" -->
<a id="c7743_36"></a><blockquote class="code"><p class="quoted">
Before printing the name of an ice cream cone:
<br />&#160;&#160;&#160;&#160;say &quot;[if half-eaten]half-eaten [end if][infection color] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7744_36" -->
<a id="c7744_36"></a><blockquote class="code"><p class="quoted">
Section 2 - Infection Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7745_36" -->
<a id="c7745_36"></a><blockquote class="code"><p class="quoted">
This is the infection rule:
<br />&#160;&#160;&#160;&#160;if an infected person (called typhoid mary) can see a clean person (called random bystander) and a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try typhoid mary sneezing on the random bystander.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7746_36" -->
<a id="c7746_36"></a><blockquote class="code"><p class="quoted">
A person can be infected or clean. A person has an infection color.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7747_36" -->
<a id="c7747_36"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if the player is infected, say &quot;You feel itchy.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7748_36" -->
<a id="c7748_36"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player. Definition: a person is another if it is other.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7749_36" -->
<a id="c7749_36"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Sick: [number of infected people]/[number of people]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7750_36" -->
<a id="c7750_36"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;if every person is infected, end the story saying &quot;Everyone succumbs&quot;;
<br />&#160;&#160;&#160;&#160;if every person is clean, end the story finally saying &quot;The Syndrome is eradicated&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7751_36" -->
<a id="c7751_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;sneeze on [something]&quot; as sneezing on. Sneezing on is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7752_36" -->
<a id="c7752_36"></a><blockquote class="code"><p class="quoted">
Check sneezing on:
<br />&#160;&#160;&#160;&#160;if the player is clean, say &quot;You're not sickly.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the player, say &quot;Ew.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is not a person, say &quot;[The noun] cannot be infected.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7753_36" -->
<a id="c7753_36"></a><blockquote class="code"><p class="quoted">
Carry out sneezing on:
<br />&#160;&#160;&#160;&#160;now the noun is infected;
<br />&#160;&#160;&#160;&#160;now the infection color of the noun is a random infection color.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7754_36" -->
<a id="c7754_36"></a><blockquote class="code"><p class="quoted">
Carry out someone sneezing on:
<br />&#160;&#160;&#160;&#160;now the noun is infected;
<br />&#160;&#160;&#160;&#160;now the infection color of the noun is a random infection color.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7755_36" -->
<a id="c7755_36"></a><blockquote class="code"><p class="quoted">
Report sneezing on:
<br />&#160;&#160;&#160;&#160;say  &quot;Unable to control yourself, you sneeze on [noun].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7756_36" -->
<a id="c7756_36"></a><blockquote class="code"><p class="quoted">
Report someone sneezing on:
<br />&#160;&#160;&#160;&#160;say &quot;[The person asked] sneezes on [if the noun is the player]you[otherwise][noun][end if]!&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7757_36" -->
<a id="c7757_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;inject [someone] with [something]&quot; as injecting it with. Understand &quot;inject [someone] with [syringe]&quot; as injecting it with. Understand &quot;use [syringe] on [someone]&quot; as injecting it with. Understand the commands &quot;innoculate&quot; and &quot;vaccinate&quot; as &quot;inject&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7758_36" -->
<a id="c7758_36"></a><blockquote class="code"><p class="quoted">
Injecting it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7759_36" -->
<a id="c7759_36"></a><blockquote class="code"><p class="quoted">
Check injecting it with:
<br />&#160;&#160;&#160;&#160;if the second noun is not the syringe, say &quot;[The second noun] cannot inject anything.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is clean:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the noun is the player, say &quot;You're not infected yet.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] is not infected, and the syringe contains a cure, not a vaccine.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7760_36" -->
<a id="c7760_36"></a><blockquote class="code"><p class="quoted">
Carry out injecting it with: now the noun is clean.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7761_36" -->
<a id="c7761_36"></a><blockquote class="code"><p class="quoted">
After injecting the player with something: say &quot;You inject yourself, wincing at the sting. But the itching fades almost at once.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7762_36" -->
<a id="c7762_36"></a><blockquote class="code"><p class="quoted">
Report injecting it with: say &quot;You inject [the noun], who is now cured (but could easily be reinfected).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7763_36" -->
<a id="c7763_36"></a><blockquote class="code"><p class="quoted">
Section 3 - Geography
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7764_36" -->
<a id="c7764_36"></a><blockquote class="code"><p class="quoted">
Include Locksmith by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7765_36" -->
<a id="c7765_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;go to/toward/into [any room]&quot; as going toward.  Understand &quot;enter [any room]&quot; as going toward.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7766_36" -->
<a id="c7766_36"></a><blockquote class="code"><p class="quoted">
A person has a room called the destination.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7767_36" -->
<a id="c7767_36"></a><blockquote class="code"><p class="quoted">
Going toward is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7768_36" -->
<a id="c7768_36"></a><blockquote class="code"><p class="quoted">
Check going toward:
<br />&#160;&#160;&#160;&#160;if the noun is the location, say &quot;You're already in [the location].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7769_36" -->
<a id="c7769_36"></a><blockquote class="code"><p class="quoted">
Carry out going toward:
<br />&#160;&#160;&#160;&#160;now the destination of the player is the noun;
<br />&#160;&#160;&#160;&#160;let heading be the best route from the location to the noun, using even locked doors;
<br />&#160;&#160;&#160;&#160;if heading is not a direction, say &quot;You can't think how to get there from here.&quot; instead;
<br />&#160;&#160;&#160;&#160;try going heading;
<br />&#160;&#160;&#160;&#160;if the location is the destination of the player, now the destination of the player is blank.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7770_36" -->
<a id="c7770_36"></a><blockquote class="code"><p class="quoted">
Instead of waiting when the destination of the player is not blank:
<br />&#160;&#160;&#160;&#160;if the destination of the player is the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the destination of the player is blank;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try going toward destination of the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the location is the destination of the player, now the destination of the player is blank.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7771_36" -->
<a id="c7771_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;stop&quot; or &quot;cease&quot; as stopping. Stopping is an action applying to nothing. Carry out stopping: now the destination of the player is blank. Report stopping: say &quot;You stop in your tracks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7772_36" -->
<a id="c7772_36"></a><blockquote class="code"><p class="quoted">
After going to an air-conditioned room:
<br />&#160;&#160;&#160;&#160;say &quot;You step into the mercifully air-conditioned surroundings of...&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7773_36" -->
<a id="c7773_36"></a><blockquote class="code"><p class="quoted">
After going from an air-conditioned room:
<br />&#160;&#160;&#160;&#160;say &quot;You emerge from the air-conditioning into heat like a wall...&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7774_36" -->
<a id="c7774_36"></a><blockquote class="code"><p class="quoted">
Instead of listening to an air-conditioned room:
<br />&#160;&#160;&#160;&#160;say &quot;The air-conditioning hums softly.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7775_36" -->
<a id="c7775_36"></a><blockquote class="code"><p class="quoted">
The Alfred Cralle Pool Hall is a room. &quot;The town's most popular gathering-place, the pool hall is decorated in honor of the inventor of the ice cream scoop.&quot; The air conditioner is a device in the Pool Hall. &quot;[if switched off]An air conditioner sits in the corner, unhappily inert[otherwise]The air conditioner hums briskly[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7776_36" -->
<a id="c7776_36"></a><blockquote class="code"><p class="quoted">
The felt door is west of the Pool Hall. The felt door is a door. The felt door is open. The felt door is lockable and unlocked. The key to the city unlocks the felt door. The description of the felt door is &quot;It has a prominent lock, designed for an old-fashioned key.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7777_36" -->
<a id="c7777_36"></a><blockquote class="code"><p class="quoted">
After locking a door with something in the presence of an other person (called audience):
<br />&#160;&#160;&#160;&#160;say &quot;[The audience] looks a little non-plussed when you lock [the noun], but shrugs.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7778_36" -->
<a id="c7778_36"></a><blockquote class="code"><p class="quoted">
Nancy Johnson Memorial Square is west of the felt door. The description of Nancy Johnson Memorial Square is &quot;Waves of August heat rise from the pavement: more than once you've had the fancy that your shoes are simply going to stick. At the center of the square, rubbed to a brownish polish by many adoring hands, is the statue of Mrs. Nancy Johnson of New Jersey.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7779_36" -->
<a id="c7779_36"></a><blockquote class="code"><p class="quoted">
The statue is scenery in Memorial Square. Understand &quot;nancy&quot; or &quot;johnson&quot; or &quot;mrs&quot; as the statue. The description of the statue is &quot;Mrs. Johnson is pictured with a hand-cranked ice cream freezer tucked under one arm. Her other hand grips an ice cream scoop, ready to serve frozen dessert to the huddled masses.&quot; A hand-cranked ice cream freezer is part of the statue. The description is &quot;The hand-cranked ice cream freezer was Mrs. Johnson's invention in 1846, though it was William Young who had the sense to patent the thing in 1848.&quot; The scoop is part of the statue. The description of the scoop is &quot;An anachronism: Alfred Cralle would not invent the tool until 1897.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7780_36" -->
<a id="c7780_36"></a><blockquote class="code"><p class="quoted">
The Post Office is northwest of Nancy Johnson Memorial Square. &quot;Service at the post office is on the slow side since everything went automated.&quot; The slot is scenery in the post office. The slot is a container. Carry out inserting something into the slot: now the noun is nowhere. Report inserting something into the slot: say &quot;[The noun] falls out of sight, and you know you will never see it again.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7781_36" -->
<a id="c7781_36"></a><blockquote class="code"><p class="quoted">
Hamwi Street is northeast of an iron gate. &quot;A U-shaped street running from Main Street around to the Memorial Square, Hamwi Street was recently added by ambitious city planners. The small and straggly line of trees has yet to grow enough to provide perceptible shade, so the street is even hotter and more unforgiving than the other parts of town.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7782_36" -->
<a id="c7782_36"></a><blockquote class="code"><p class="quoted">
The iron gate is northeast of Nancy Johnson Memorial Square. The iron gate is a door. It is lockable and unlocked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7783_36" -->
<a id="c7783_36"></a><blockquote class="code"><p class="quoted">
Before printing the name of the iron gate while not opening or closing or locking or unlocking:
<br />&#160;&#160;&#160;&#160;if the person asked is the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the gate is open, say &quot;open &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the gate is locked:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;locked &quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the gate is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;closed &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7784_36" -->
<a id="c7784_36"></a><blockquote class="code"><p class="quoted">
Cold Comfort Ice Cream is north of a metal door. The metal door is north of Hamwi Street. A poster is fixed in place in Cold Comfort. &quot;A poster fills one wall with the blazing promise of treats to come.&quot; The description of the poster is &quot;Coming soon! Thai ice creams! Durian, jackfruit, taro, and coconut flavors!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7785_36" -->
<a id="c7785_36"></a><blockquote class="code"><p class="quoted">
The metal door is a door. &quot;A frosty metallic door separates [the location] from [the other side of the metal door].&quot; The metal door is lockable and unlocked. The key to the city unlocks the metal door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7786_36" -->
<a id="c7786_36"></a><blockquote class="code"><p class="quoted">
Marciony Street is southeast of Nancy Johnson Memorial Square. &quot;A semi-circular terrace, named somewhat fancifully after one claimant to the invention of the ice cream cone -- though Hamwi Street competes for the same honor. There are wedges of cool shadow here and there thanks to the buildings, but for the most part the southern exposure keeps Marciony unpleasantly hot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7787_36" -->
<a id="c7787_36"></a><blockquote class="code"><p class="quoted">
The Movie Rental Store is west of a glass door. The glass door is a door. It is west of Marciony Street.  The glass door is lockable and unlocked. The key to the city unlocks the glass door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7788_36" -->
<a id="c7788_36"></a><blockquote class="code"><p class="quoted">
Main Street is southeast of Hamwi Street. Main Street is northeast of some bronze gates.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7789_36" -->
<a id="c7789_36"></a><blockquote class="code"><p class="quoted">
The emergency box is in Main Street. The emergency box is fixed in place. &quot;A fire-red box with a glass front faces the sidewalk, with 'In case of emergency, BREAK GLASS' lettered on it.&quot; The emergency box is closed and transparent. Understand &quot;glass&quot; as the box. Instead of attacking the closed emergency box: say &quot;You hit the emergency box, which shatters open.&quot;; now the emergency box is open. Instead of attacking the open emergency box: say &quot;The glass has already been thoroughly broken.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7790_36" -->
<a id="c7790_36"></a><blockquote class="code"><p class="quoted">
The syringe is in the emergency box. The description of the syringe is &quot;It contains the cure for Gelato's Syndrome. You can inject anyone you like with it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7791_36" -->
<a id="c7791_36"></a><blockquote class="code"><p class="quoted">
The bronze gates are northeast of Marciony Street. The bronze gates are a door. The bronze gates are lockable and unlocked.  The description of the bronze gates is &quot;Erected during the milk-taint revolution of 1937, they were designed to keep Main Street safe from the depredations of dairy-starved rioters.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7792_36" -->
<a id="c7792_36"></a><blockquote class="code"><p class="quoted">
The Public Library is east of Main Street. &quot;Built in the 1920s during the height of the dairy boom, the public library has lush pink velvet seats, marble walls the color of fresh cream, and a motif of cherries carved around every doorframe. An incongruous sign hangs from the ceiling.&quot; The incongruous sign is scenery in the Public Library. The description of the incongruous sign is &quot;Eating and drinking in the library is STRICTLY PROHIBITED.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7793_36" -->
<a id="c7793_36"></a><blockquote class="code"><p class="quoted">
Town Hall is southeast of Main Street. &quot;Town Hall was built during the slow days of the ice-cream bust, and therefore it is as joyless and utilitarian as the Public Library is ridiculous. Unwilling to be reminded of their pain, the inhabitants steered clear of any decoration that might remotely be construed to resemble a scoop of anything: so there are no curves, only disciplined right angles.&quot; The key to the city is in Town Hall. It unlocks the iron gate. It unlocks the bronze gates.  The description of the key to the city is &quot;A skeleton key.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7794_36" -->
<a id="c7794_36"></a><blockquote class="code"><p class="quoted">
A room can be indoors or outdoors. The Post Office, the Alfred Cralle Pool Hall, the Store, Cold Comfort, Town Hall, and the Library are indoors.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7795_36" -->
<a id="c7795_36"></a><blockquote class="code"><p class="quoted">
Use full-length room descriptions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7796_36" -->
<a id="c7796_36"></a><blockquote class="code"><p class="quoted">
After looking in an outdoors room:
<br />&#160;&#160;&#160;&#160;let started printing be false;
<br />&#160;&#160;&#160;&#160;now every proximate door is not mentioned;
<br />&#160;&#160;&#160;&#160;if an indoors room is adjacent:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let started printing be true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From here you can head into [the list of adjacent indoors rooms][if a proximate door is not mentioned], or go through [the list of proximate doors which are not mentioned][end if]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;if an outdoors room is adjacent:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You could[if started printing is true] also[end if] go &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let count be the number of adjacent outdoors rooms;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with next room running through adjacent outdoors rooms:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let way be the best route from the location to the next room;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[way] to [the next room]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count, continuing;
<br />&#160;&#160;&#160;&#160;if a proximate door is not mentioned:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let started printing be true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if started printing is true]Also available[otherwise]Your available exits[end if] [is-are the list of proximate doors which are not mentioned].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if started printing is true, say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7797_36" -->
<a id="c7797_36"></a><blockquote class="code"><p class="quoted">
Definition: a door is proximate:
<br />&#160;&#160;&#160;&#160;if the front side of it is the location, yes;
<br />&#160;&#160;&#160;&#160;if the back side of it is the location, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7798_36" -->
<a id="c7798_36"></a><blockquote class="code"><p class="quoted">
Before exiting when the player is in an indoors room:
<br />&#160;&#160;&#160;&#160;if the player can see a door (called nearest exit), try entering the nearest exit instead;
<br />&#160;&#160;&#160;&#160;repeat with way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let next room be the room way from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the next room is a room, try going way instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7799_36" -->
<a id="c7799_36"></a><blockquote class="code"><p class="quoted">
Blank is a room. The destination of the player is Blank. Blank contains 15 ice cream cones.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7800_36" -->
<a id="c7800_36"></a><blockquote class="code"><p class="quoted">
Section 4 - Other Players
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7801_36" -->
<a id="c7801_36"></a><blockquote class="code"><p class="quoted">
Vanessa is a woman in Cold Comfort. Vanessa owns Cold Comfort.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7802_36" -->
<a id="c7802_36"></a><blockquote class="code"><p class="quoted">
Francine is a woman in the Public Library. Francine carries a book called Phlox for Phyllis. Francine carries a stamped envelope called a pink stamped envelope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7803_36" -->
<a id="c7803_36"></a><blockquote class="code"><p class="quoted">
Lewis is a man in the Alfred Cralle Pool Hall. Lewis carries 3 stamped envelopes. Lewis carries a book called Idiot's Guide to Dating. Lewis carries a book called How to Meet Women. Lewis carries a book called Seduction in Three Easy Steps. Lewis carries a DVD called Sleepless in Seattle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7804_36" -->
<a id="c7804_36"></a><blockquote class="code"><p class="quoted">
Gene is a man in Nancy Johnson Memorial Square. Gene carries a stamped envelope. Gene carries a DVD called Casablanca. Gene carries a coupon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7805_36" -->
<a id="c7805_36"></a><blockquote class="code"><p class="quoted">
Rhoda is a woman in Marciony Street. Rhoda carries a book called The Marciony Street Murders. Rhoda carries a DVD called Unsolved Serial Killings XVIII. Rhoda carries a stamped envelope called a squashy package.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7806_36" -->
<a id="c7806_36"></a><blockquote class="code"><p class="quoted">
Martin is a man in Main Street. Martin carries a DVD called The Lifecycle of the South Sea Tortoise. Martin carries a coupon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7807_36" -->
<a id="c7807_36"></a><blockquote class="code"><p class="quoted">
Antony is a man in Movie Rental. Antony carries a coupon. Antony carries a stamped envelope called a postcard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7808_36" -->
<a id="c7808_36"></a><blockquote class="code"><p class="quoted">
Shelby is a man in the Town Hall. Shelby carries a DVD called  Conducting An Orderly Meeting. Shelby carries 5 stamped envelopes. Shelby carries an ice cream cone. Shelby carries a coupon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7809_36" -->
<a id="c7809_36"></a><blockquote class="code"><p class="quoted">
Christopher is a man in the Library. Christopher owns the Library.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7810_36" -->
<a id="c7810_36"></a><blockquote class="code"><p class="quoted">
Linnea is a woman in the Alfred Cralle Pool Hall. Linnea owns the Alfred Cralle Pool Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7811_36" -->
<a id="c7811_36"></a><blockquote class="code"><p class="quoted">
Ned is a man in the Movie Rental Store. Ned owns the Movie Rental.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7812_36" -->
<a id="c7812_36"></a><blockquote class="code"><p class="quoted">
After printing the name of someone (called target) while listing contents: if the target owns the location of the target, say &quot; (the owner)&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7813_36" -->
<a id="c7813_36"></a><blockquote class="code"><p class="quoted">
The description of a person is usually &quot;[The noun] [if the noun is clean]looks healthy[otherwise]is the color of [infection color of the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7814_36" -->
<a id="c7814_36"></a><blockquote class="code"><p class="quoted">
After examining another person who is carrying something: say &quot;[if the noun is female]She[otherwise]He[end if] is carrying [a list of things carried by the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7815_36" -->
<a id="c7815_36"></a><blockquote class="code"><p class="quoted">
When play begins: let Patient Zero be a random other person; now patient zero is infected.
</p></blockquote>
<!-- END CODE -->
<p>This is a light variation of a previous example, but we use it here because it is convenient:</p>
<!-- START CODE "c7816_36" -->
<a id="c7816_36"></a><blockquote class="code"><p class="quoted">
Section 5 - Conversation
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7817_36" -->
<a id="c7817_36"></a><blockquote class="code"><p class="quoted">
A person has a table name called conversation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7818_36" -->
<a id="c7818_36"></a><blockquote class="code"><p class="quoted">
Instead of asking someone about something:
<br />&#160;&#160;&#160;&#160;let the source be the conversation of the noun;
<br />&#160;&#160;&#160;&#160;if topic understood is a topic listed in source:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a turn stamp entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You have already heard that [summary entry].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now turn stamp entry is the turn count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the character entry is the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[reply entry][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] stares at you blankly.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7819_36" -->
<a id="c7819_36"></a><blockquote class="code"><p class="quoted">
Instead of telling someone about something:
<br />&#160;&#160;&#160;&#160;try asking the noun about it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7820_36" -->
<a id="c7820_36"></a><blockquote class="code"><p class="quoted">
Understand &quot;recap&quot; or &quot;recall&quot; or &quot;review&quot; as recalling conversations.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7821_36" -->
<a id="c7821_36"></a><blockquote class="code"><p class="quoted">
Recalling conversations is an action applying to nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7822_36" -->
<a id="c7822_36"></a><blockquote class="code"><p class="quoted">
Carry out recalling conversations:
<br />&#160;&#160;&#160;&#160;repeat with speaker running through other people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let source be the conversation of the speaker;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort source in turn stamp order;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The speaker] has so far told you: [line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let index be 0;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat through source:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a turn stamp entry and the speaker is character entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let index be 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [summary entry][line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is 0, say &quot;  absolutely nothing[line break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say line break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7823_36" -->
<a id="c7823_36"></a><blockquote class="code"><p class="quoted">
The conversation of a person is usually Table of General ChitChat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7824_36" -->
<a id="c7824_36"></a><blockquote class="code"><p class="quoted">
Table of General ChitChat
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td><td class="quotedtablecell"><p class="quoted">summary</p></td><td class="quotedtablecell"><p class="quoted">turn stamp</p></td><td class="quotedtablecell"><p class="quoted">character</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;weather/heat/warmth&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'It's appalling, isn't it? You'd think we didn't pay our taxes.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the weather is appalling&quot;</p></td><td class="quotedtablecell"><p class="quoted">a number</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;sun/sunlight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Good thing the town mostly switched to solar power, har, har.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the town is mostly relying on solar power&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;rain&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Nope, there isn't going to be rain for 132 days,' replies [the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that rain is not expected for another 132 days&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;snow/hail/ice&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;This hilarious sally is greeted with hoots of laughter only.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the concept of snow is downright laughable&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;disease/sickness/illness/syndrome&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;You get a cold, fixed stare in response. 'That's not funny,' [the noun] replies finally.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that discussing the disease is more or less taboo&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;cold comfort&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'If you haven't tried it, you should,' says [the noun]. 'Best ice cream in town, and that's saying something, you bet.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that Cold Comfort has the best ice cream in town&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;town/city/village&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Yeah, it's a mite odd,' allows [the noun]. 'Not to everyone's taste, like...' [the noun as pronoun] considers for a moment. 'Like ginger ice cream. Big pieces of crystallized ginger... not everyone likes that.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the town is a mite odd&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;forecast/weatherman&quot; or &quot;weather forecast/man&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'Oh, the weather man's gotten a lot more reliable since the gummint started making it for us,' says [the noun]. 'Now he just reads off the schedule on the air every morning. Pretty much takes the fun right out of the news, if you ask me.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the weather is all generated by schedule&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;taxes/tax&quot; or &quot;weather tax&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A snort. 'You'd think for the rates we pay we'd get something a little pleasanter, don't you?'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the weather tax really ought to be paying for something nicer than what you get&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;job/employment/work&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'[if the noun owns a room (called the shop)]I own [the shop],' replies [the noun][otherwise]Work at the creamery, like most folk around here,' answers [the noun].&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;this and that about employment in town&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;book/books/reading&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'The Public Library has a good selection, excepting only the cookbook section,' says [the noun]. 'That got censored way back when-- well, way back.'&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the Public Library has a good collection, except for the cookbook section&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7825_36" -->
<a id="c7825_36"></a><blockquote class="code"><p class="quoted">
The conversation of Vanessa is the Table of Vanessa Chatter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7826_36" -->
<a id="c7826_36"></a><blockquote class="code"><p class="quoted">
Table of Vanessa Chatter
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">topic</p></td><td class="quotedtablecell"><p class="quoted">reply</p></td><td class="quotedtablecell"><p class="quoted">summary</p></td><td class="quotedtablecell"><p class="quoted">turn stamp</p></td><td class="quotedtablecell"><p class="quoted">character</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ice cream&quot; or &quot;sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;'The flavors are [list of flavors],' she responds promptly, without needing to draw breath.&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;that the flavors are [list of flavors]&quot;</p></td><td class="quotedtablecell"><p class="quoted">a number</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7827_36" -->
<a id="c7827_36"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;while player's command includes &quot;the&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text.
</p></blockquote>
<!-- END CODE -->
<p>This strips 'the' out of the command, so that ASK PERSON ABOUT THE RAIN will be understood as well as ASK PERSON ABOUT RAIN.</p>
<p>Now we try something a bit unusual. Inform on its own will report each action on its own line, so that each character who walks into or out of a room will be described in a separate paragraph. This is usually fine, but in a game with a lot of characters moving around simultaneously, it can become a bit overwhelming. Instead, we may want to condense these reports into a single line, such as &quot;Ben and Jerry enter from the south&quot;. The following accomplishes that goal by replacing some of the reporting rules, storing the information in a table, and then reading the table back later, once all the character movement has been resolved and the reports can usefully be collated:</p>
<!-- START CODE "c7828_36" -->
<a id="c7828_36"></a><blockquote class="code"><p class="quoted">
Section 6 - Movement Description
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7829_36" -->
<a id="c7829_36"></a><blockquote class="code"><p class="quoted">
A person has some text called walk style. The walk style of a man is usually &quot;stride&quot;. The walk style of a woman is usually &quot;strut&quot;. The walk style of Gene is &quot;[one of]wander[or]stroll[purely at random]&quot;. The walk style of Francine is &quot;waddle&quot;. The walk style of Antony is &quot;scamper&quot;. The walk style of Rhoda is &quot;sashay&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7830_36" -->
<a id="c7830_36"></a><blockquote class="code"><p class="quoted">
Table of Visible Exits
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">character</p></td><td class="quotedtablecell"><p class="quoted">second</p></td><td class="quotedtablecell"><p class="quoted">third</p></td><td class="quotedtablecell"><p class="quoted">heading chosen</p></td><td class="quotedtablecell"><p class="quoted">total</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a direction</p></td><td class="quotedtablecell"><p class="quoted">a number</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">with 10 blank rows.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7831_36" -->
<a id="c7831_36"></a><blockquote class="code"><p class="quoted">
Table of Visible Entrances
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">character</p></td><td class="quotedtablecell"><p class="quoted">second</p></td><td class="quotedtablecell"><p class="quoted">third</p></td><td class="quotedtablecell"><p class="quoted">heading chosen</p></td><td class="quotedtablecell"><p class="quoted">total</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a person</p></td><td class="quotedtablecell"><p class="quoted">a direction</p></td><td class="quotedtablecell"><p class="quoted">a number</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">with 10 blank rows.</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7832_36" -->
<a id="c7832_36"></a><blockquote class="code"><p class="quoted">
To clear (current table - a table name):
<br />&#160;&#160;&#160;&#160;repeat through current table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7833_36" -->
<a id="c7833_36"></a><blockquote class="code"><p class="quoted">
To tidy departures of (current table - a table name):
<br />&#160;&#160;&#160;&#160;let next direction be up;
<br />&#160;&#160;&#160;&#160;repeat through current table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if heading chosen entry is next direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let accomplice be character entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with heading chosen of next direction in the current table;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now second entry is accomplice;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now total entry is 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the second entry is accomplice:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now third entry is accomplice;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now total entry is 3;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row with character of accomplice in the current table;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let next direction be heading chosen entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7834_36" -->
<a id="c7834_36"></a><blockquote class="code"><p class="quoted">
A door has a person called last opener.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7835_36" -->
<a id="c7835_36"></a><blockquote class="code"><p class="quoted">
Report someone opening a door:
<br />&#160;&#160;&#160;&#160;now group size is 1;
<br />&#160;&#160;&#160;&#160;now the last opener of the noun is the person asked;
<br />&#160;&#160;&#160;&#160;if the person asked is visible, say &quot;[The person asked] opens [the noun]. [run paragraph on]&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The noun] opens from the other side. [run paragraph on]&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7836_36" -->
<a id="c7836_36"></a><blockquote class="code"><p class="quoted">
Report someone going through a door (called route):
<br />&#160;&#160;&#160;&#160;if the person asked is not the last opener of the route, continue the action;
<br />&#160;&#160;&#160;&#160;if the person asked is the last person named, say &quot;[The person asked as pronoun]&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;[The person asked]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot; [if the person asked is in the location]comes[otherwise]goes[end if] through[if the last thing named is not the route] [the route][end if].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7837_36" -->
<a id="c7837_36"></a><blockquote class="code"><p class="quoted">
The last thing named is a thing that varies. Before printing the name of something (called target) which is not a person: now the last thing named is the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7838_36" -->
<a id="c7838_36"></a><blockquote class="code"><p class="quoted">
Report someone going a direction:
<br />&#160;&#160;&#160;&#160;if the person asked is in the location,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose a blank row in the table of visible entrances;
<br />&#160;&#160;&#160;&#160;otherwise choose a blank row in the table of visible exits;
<br />&#160;&#160;&#160;&#160;now character entry is the person asked;
<br />&#160;&#160;&#160;&#160;now total entry is 1;
<br />&#160;&#160;&#160;&#160;if the person asked is in the location,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now heading chosen entry is the opposite of the noun;
<br />&#160;&#160;&#160;&#160;otherwise now heading chosen entry is the noun;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7839_36" -->
<a id="c7839_36"></a><blockquote class="code"><p class="quoted">
This is the movement reporting rule:
<br />&#160;&#160;&#160;&#160;sort the Table of Visible Entrances in heading chosen order;
<br />&#160;&#160;&#160;&#160;tidy departures of the table of visible entrances;
<br />&#160;&#160;&#160;&#160;sort the Table of Visible exits in heading chosen order;
<br />&#160;&#160;&#160;&#160;tidy departures of the table of visible exits;
<br />&#160;&#160;&#160;&#160;let total row count be the number of filled rows in the Table of Visible Entrances plus the number of filled rows in the Table of Visible Exits;
<br />&#160;&#160;&#160;&#160;if total row count is 0, rule succeeds;
<br />&#160;&#160;&#160;&#160;generate descriptions from the Table of Visible Entrances;
<br />&#160;&#160;&#160;&#160;generate descriptions from the Table of Visible Exits;
<br />&#160;&#160;&#160;&#160;clear the Table of Visible Entrances; clear the Table of Visible Exits.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7840_36" -->
<a id="c7840_36"></a><blockquote class="code"><p class="quoted">
To generate descriptions from (current table - a table name):
<br />&#160;&#160;&#160;&#160;let count be the number of filled rows in the current table;
<br />&#160;&#160;&#160;&#160;if count is 0, rule succeeds;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat through the current table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let accomplice be character entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if character entry is a person, now character entry is marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a second entry and second entry is a person, now second entry is marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if there is a third entry and third entry is a person, now third entry is marked for listing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let target be the room the heading chosen entry from the location;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 3, say &quot;[The character entry], [the second entry][optional comma] and [the third entry] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 2, say &quot;[The character entry] and [the second entry] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the character entry is the last person named, say &quot;[The character entry as pronoun] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[The character entry] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total entry is 1, say &quot;[walk style of the character entry]s &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;walk[if total entry is 1]s[end if] &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the character entry is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is indoors and target is indoors, say &quot;over from &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is outdoors and target is indoors, say &quot;out of &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is indoors and target is outdoors, say &quot;in from &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is outdoors and target is outdoors, say &quot;over from &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is indoors and target is indoors, say &quot;over to &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is outdoors and target is indoors, say &quot;into &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is indoors and target is outdoors, say &quot;out [if a door is visible][the random visible door][end if] to &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if location is outdoors and target is outdoors, say &quot;over to &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if target is outdoors, say &quot;[the heading chosen entry]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the total entry is 1 and count is 1 and accomplice carries something, say &quot;, carrying [a list of things carried by the accomplice]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count, continuing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now group size is total entry;
<br />&#160;&#160;&#160;&#160;if a marked for listing person is infected:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[eliminate the case in which we have already seen this description because we just typed LOOK and the patient was in the room at the time]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if looking and a marked for listing person is not in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clear marked people;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;describe patients;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clear marked people;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7841_36" -->
<a id="c7841_36"></a><blockquote class="code"><p class="quoted">
The last person named is a person that varies. Before printing the name of a person (called target): now the last person named is the target. Group size is a number that varies. Group size is 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7842_36" -->
<a id="c7842_36"></a><blockquote class="code"><p class="quoted">
To clear marked people:
<br />&#160;&#160;&#160;&#160;repeat with named party running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the named party is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7843_36" -->
<a id="c7843_36"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;if the number of people who are marked for listing is 0, make no decision;
<br />&#160;&#160;&#160;&#160;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br />&#160;&#160;&#160;&#160;now group size is the number of people who are marked for listing;
<br />&#160;&#160;&#160;&#160;describe patients;
<br />&#160;&#160;&#160;&#160;now every marked for listing person is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7844_36" -->
<a id="c7844_36"></a><blockquote class="code"><p class="quoted">
To describe patients:
<br />&#160;&#160;&#160;&#160;if every marked for listing person is infected and at least three people are marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;They are all sick as dogs, every one.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clear marked people;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the number of people who are marked for listing is greater than two and the number of infected people who are marked for listing is greater than the number of clean people who are marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Only [the list of clean people who are marked for listing] currently remain[if the number of clean people who are marked for listing is 1]s[end if] untainted.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;clear marked people;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rule succeeds;
<br />&#160;&#160;&#160;&#160;let count be the number of marked for listing other people who are infected;
<br />&#160;&#160;&#160;&#160;if count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat with patient running through marked for listing other people who are infected:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is count:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 1 and the patient is the last person named:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The patient as pronoun]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The patient]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[the patient]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [looks as though dipped in for index] [infection color of the patient]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count;
<br />&#160;&#160;&#160;&#160;clear marked people.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7845_36" -->
<a id="c7845_36"></a><blockquote class="code"><p class="quoted">
To say (named character - a man) as pronoun:
<br />&#160;&#160;&#160;&#160;if group size is 1, say &quot;He&quot;; if group size is 2, say &quot;The latter&quot;; if group size is greater than 2, say &quot;The last&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7846_36" -->
<a id="c7846_36"></a><blockquote class="code"><p class="quoted">
To say (named character - a woman) as pronoun: if group size is 1, say &quot;She&quot;; if group size is 2, say &quot;The latter&quot;; if group size is greater than 2, say &quot;The last&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7847_36" -->
<a id="c7847_36"></a><blockquote class="code"><p class="quoted">
To say looks as though dipped in for (index - a number):
<br />&#160;&#160;&#160;&#160;let divider be the number of filled rows in the Table of Dipping Phrases;
<br />&#160;&#160;&#160;&#160;if index is greater than 4, let index be the remainder after dividing index by divider;
<br />&#160;&#160;&#160;&#160;choose row index in the Table of Dipping Phrases;
<br />&#160;&#160;&#160;&#160;say dipping entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7848_36" -->
<a id="c7848_36"></a><blockquote class="code"><p class="quoted">
Table of Dipping Phrases
<br />dipping
<br />&quot;looks as though dipped in&quot;
<br />&quot;could have been rolling in&quot;
<br />&quot;has a bad case of&quot;
<br />&quot;suffers from&quot;
<br />&quot;contracted a virulent&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7849_36" -->
<a id="c7849_36"></a><blockquote class="code"><p class="quoted">
A door is usually scenery.
</p></blockquote>
<!-- END CODE -->
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>
<!-- START CODE "c7850_36" -->
<a id="c7850_36"></a><blockquote class="code"><p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br />&#160;&#160;&#160;&#160;if index is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if continuing, say &quot;. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if index is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 2, say &quot; and &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[optional comma] and &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7851_36" -->
<a id="c7851_36"></a><blockquote class="code"><p class="quoted">
To say optional comma:
<br />&#160;&#160;&#160;&#160;if the serial comma option is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;,&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7852_36" -->
<a id="c7852_36"></a><blockquote class="code"><p class="quoted">
Test me with &quot;go to cold comfort / z / z / z / z / ask vanessa for french vanilla / ask vanessa for chocolate / ask vanessa about flavors / ask vanessa for chocolate chocolate chip&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Because so much of this game is randomized, it will not be possible to provide a test command that systematically solves it. A good strategy is to go to Main Street, get the syringe; go to the Town Hall and get the key; then visit the shops, inject everyone, and lock them in when they've all been injected. Then go to the Pool Hall, turn on the air conditioner, and wait for the remaining parties to show up.</p>
<p>This is also something that could get fairly slow if we added many more rooms and characters to it. In that case, we might want to select fast route-finding so that character movement won't take as long. This will cost memory, possibly forcing the game into Glulx format if it isn't already, but significantly reduce the run-time for large maps with numerous people moving each turn:</p>
<!-- START CODE "c7853_36" -->
<a id="c7853_36"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Use fast route-finding.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> Use fast route-finding.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc333.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc335.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
