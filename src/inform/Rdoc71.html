<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>9.4. Money</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Money" -->
<!-- SEARCH SECTION "9.4" -->
<!-- SEARCH SORT "001-009-004-000" -->
<!-- START IGNORE 70 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc70.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc72.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง9.4. Money</p>
<p>Money could be anything which the two people in a bargain both agree is valuable. Here, the player and an ogre agree on a copper coin as money:</p>
<!-- START CODE "c14210" -->
<a id="c14210"></a><blockquote class="code"><p class="quoted">
The player carries a copper coin. The ogre carries a rock cake. The cake is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14211" -->
<a id="c14211"></a><blockquote class="code"><p class="quoted">
Instead of giving the coin to the ogre:
<br />&#160;&#160;&#160;&#160;now the ogre carries the coin;
<br />&#160;&#160;&#160;&#160;now the player carries the cake;
<br />&#160;&#160;&#160;&#160;say &quot;The ogre grunts and hands you a rock cake.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now Inform does provide an action, &quot;buying&quot;, and a command for it, BUY, but they ordinarily respond simply &quot;Nothing is on sale.&quot; This is no longer true, so we should make BUY CAKE work. The difficulty here is that a command like BUY CAKE does not specify what should be handed over in exchange. Here we just check that the player has the coin, but in principle we could check for any of a range of monetary tokens - coins, notes, cheque book, debit card, and so on.</p>
<!-- START CODE "c14212" -->
<a id="c14212"></a><blockquote class="code"><p class="quoted">
Instead of buying the cake:
<br />&#160;&#160;&#160;&#160;if the player has the coin, try giving the coin to the ogre;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You have no money.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In more advanced economies, where shopping replaces barter, the seller will stock a wide range of differently priced goods. For a tabulated catalogue of wares, see <span class="boldface">Introduction to Juggling</span>: to allow the player to negotiate prices, see <span class="boldface">Money for Nothing</span>. In both of those examples, the player's current financial worth is simulated only as a current total amount of money carried - say, $2.50. This is typical, because in most situations what matters is how much money is in the pocket, not how it is made up. Money behaves more like a liquid than a set of items: hence terms like &quot;liquidity&quot;, &quot;cash flow&quot; or <span class="boldface">Frozen Assets</span> - the name of the simplest example demonstrating this. If we really need a comprehensive simulation down to pieces of currency - where it makes a difference carrying four quarters rather than a dollar bill, because the quarters can be fed into a vending machine - see <span class="boldface">Nickel and Dimed</span>.</p>
<p><span class="boldface">Fabrication</span> takes the problem in a different direction, making calculations about the cost of a new garment based on the price of the pattern, the quantity of fabric required, and the value of the fabric type chosen -- showing off what we can do with unit multiplication in Inform.</p>
<p><span class="boldface">Widget Enterprises</span> explores the challenge of pricing widgets for maximum profit, given certain necessary costs and customers with varying willingness to pay.</p>
<p class="crossreference"><a href="Rdoc43.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Actions on Multiple Objects</b></a><i> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "263: Widget Enterprises" "e254" -->
<a id="e254"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example254'); return false;"><b>263</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example254'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Widget Enterprises</span></b></a><br />Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc243.html#e254"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example254" style="display: none;">
<p>Suppose the player is responsible for pricing at Widget Enterprises. Widget production entails a certain fixed cost as well as a cost per unit; and somewhere out in the world there are a number of customers interested in purchasing widgets, but the player starts without knowing what this distribution looks like.</p>
<p>We can express the profits as an equation: the total made by selling widgets, minus the cost thereof.</p>
<p>The Table of Customers holds the data about customer preferences, and whenever the player selects a widget price, we consult it to determine how many customers in total would be willing to buy at that price.</p>
<!-- START CODE "c14213_254" -->
<a id="c14213_254"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Widget Enterprises[=0x0022=][=0x000A=][=0x000A=]Widget Stand is a room.[=0x000A=][=0x000A=]A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.[=0x000A=][=0x000A=]Equation - Profit Equation[=0x000A=][=0x0009=]P = nV - (F + nC)[=0x000A=]where P is a monetary value, F is the fixed cost, C is the unit cost, V is a monetary value, and n is a number.[=0x000A=][=0x000A=]The fixed cost is a monetary value that varies. The fixed cost is $5.00.[=0x000A=]The unit cost is a monetary value that varies. The unit cost is $10.66.[=0x000A=][=0x000A=]Table of Customers[=0x000A=]base[=0x0009=]maximum value[=0x000A=]2[=0x0009=]$26.00[=0x000A=]5[=0x0009=]$20.00[=0x000A=]8 [=0x0009=]$15.00[=0x000A=]2[=0x0009=]$13.50[=0x000A=]1[=0x0009=]$9.00[=0x000A=][=0x000A=]To decide what number is the units sold at (V - a monetary value):[=0x000A=][=0x0009=]let total units be 0;[=0x000A=][=0x0009=]repeat through the Table of Customers:[=0x000A=][=0x0009=][=0x0009=]if V is less than the maximum value entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increase total units by the base entry;[=0x000A=][=0x0009=]decide on total units.[=0x000A=][=0x000A=]Understand [=0x0022=]set price to [monetary value][=0x0022=] as setting price to. Setting price to is an action applying to one monetary value.[=0x000A=][=0x000A=]Carry out setting price to:[=0x000A=][=0x0009=]let V be the monetary value understood;[=0x000A=][=0x0009=]let n be the units sold at the monetary value understood;[=0x000A=][=0x0009=]let P be given by the Profit Equation;[=0x000A=][=0x0009=]say [=0x0022=]You set the price of your widgets to [V], resulting in sales of [n] unit[s] and [=0x0022=];[=0x000A=][=0x0009=]if P is less than $0.00:[=0x000A=][=0x0009=][=0x0009=]let L be $0.00 - P;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]a loss of [L].[=0x0022=];[=0x000A=][=0x0009=]otherwise if P is $0.00:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]break even.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]a profit of [P].[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]set price to $0.00 / set price to $100.00 / set price to $15.00 / set price to $8.00 / set price to $25.00 / set price to $14.99[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Widget Enterprises&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14214_254" -->
<a id="c14214_254"></a><blockquote class="code"><p class="quoted">
Widget Stand is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14215_254" -->
<a id="c14215_254"></a><blockquote class="code"><p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14216_254" -->
<a id="c14216_254"></a><blockquote class="code"><p class="quoted">
Equation - Profit Equation
<br />&#160;&#160;&#160;&#160;P = nV - (F + nC)
<br />where P is a monetary value, F is the fixed cost, C is the unit cost, V is a monetary value, and n is a number.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14217_254" -->
<a id="c14217_254"></a><blockquote class="code"><p class="quoted">
The fixed cost is a monetary value that varies. The fixed cost is $5.00.
<br />The unit cost is a monetary value that varies. The unit cost is $10.66.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14218_254" -->
<a id="c14218_254"></a><blockquote class="code"><p class="quoted">
Table of Customers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">base</p></td><td class="quotedtablecell"><p class="quoted">maximum value</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$26.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">$20.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8 </p></td><td class="quotedtablecell"><p class="quoted">$15.00</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">$13.50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">$9.00</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14219_254" -->
<a id="c14219_254"></a><blockquote class="code"><p class="quoted">
To decide what number is the units sold at (V - a monetary value):
<br />&#160;&#160;&#160;&#160;let total units be 0;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Customers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if V is less than the maximum value entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase total units by the base entry;
<br />&#160;&#160;&#160;&#160;decide on total units.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14220_254" -->
<a id="c14220_254"></a><blockquote class="code"><p class="quoted">
Understand &quot;set price to [monetary value]&quot; as setting price to. Setting price to is an action applying to one monetary value.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14221_254" -->
<a id="c14221_254"></a><blockquote class="code"><p class="quoted">
Carry out setting price to:
<br />&#160;&#160;&#160;&#160;let V be the monetary value understood;
<br />&#160;&#160;&#160;&#160;let n be the units sold at the monetary value understood;
<br />&#160;&#160;&#160;&#160;let P be given by the Profit Equation;
<br />&#160;&#160;&#160;&#160;say &quot;You set the price of your widgets to [V], resulting in sales of [n] unit[s] and &quot;;
<br />&#160;&#160;&#160;&#160;if P is less than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let L be $0.00 - P;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a loss of [L].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if P is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;break even.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;a profit of [P].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14222_254" -->
<a id="c14222_254"></a><blockquote class="code"><p class="quoted">
Test me with &quot;set price to $0.00 / set price to $100.00 / set price to $15.00 / set price to $8.00 / set price to $25.00 / set price to $14.99&quot;.
</p></blockquote>
<!-- END CODE -->
<p>As written this will be a rather dull guessing game for the player; more interesting would be to enhance it into a fuller economic simulator with more control over fixed costs and customer price points.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "264: Frozen Assets" "e386" -->
<a id="e386"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example386'); return false;"><b>264</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example386'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frozen Assets</span></b></a><br />A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc244.html#e386"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example386" style="display: none;">
<p>In our brave new world, everything will have a price, so we had better spell this out.</p>
<!-- START CODE "c14223_386" -->
<a id="c14223_386"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Frozen Assets[=0x0022=][=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price. A thing has a price. The price of a thing is usually $0.00. After examining something for sale, say [=0x0022=]It can be yours for [the price of the noun].[=0x0022=][=0x000A=][=0x000A=][Now we assume a simple shopping model in which the player can[=0x0027=]t take anything without paying for it.][=0x000A=][=0x000A=]Definition: a thing is free if the price of it is $0.00.[=0x000A=]Definition: a thing is for sale if it is not free.[=0x000A=][=0x000A=]Instead of taking something for sale:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]ll have to pay for that.[=0x0022=][=0x000A=][=0x000A=]Before buying something for sale when the money is not in the wallet:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re broke.[=0x0022=] instead.[=0x000A=][=0x000A=]Before buying something for sale when the money is free:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re broke.[=0x0022=] instead.[=0x000A=][=0x000A=]Before buying something for sale when the price of the money is less than the price of the noun:[=0x000A=][=0x0009=]say [=0x0022=]Your funds do not run to the price of [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of buying something:[=0x000A=][=0x0009=]decrease the price of the money by the price of the noun;[=0x000A=][=0x0009=]say [=0x0022=]You fork over [the price of the noun] for [the noun], leaving yourself with [the price of the money].[=0x0022=];[=0x000A=][=0x0009=]if the money is free:[=0x000A=][=0x0009=][=0x0009=]now the money is nowhere;[=0x000A=][=0x0009=]now the price of the noun is $0.00;[=0x000A=][=0x0009=]now the player is carrying the noun.[=0x000A=][=0x000A=][The player[=0x0027=]s money object is going to be a bit unusual, because it has value but cannot itself be bought.][=0x000A=][=0x000A=]The player carries a wallet. The wallet contains money. The price of the money is $4.50. The printed name of the money is [=0x0022=][price of the money] in cash[=0x0022=]. Understand [=0x0022=]cash[=0x0022=] as the money.[=0x000A=][=0x000A=]Instead of taking the money:[=0x000A=][=0x0009=]say [=0x0022=]Best to leave it alone until you need to buy something.[=0x0022=][=0x000A=][=0x000A=]Instead of buying something free:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is yours already.[=0x0022=][=0x000A=][=0x000A=]Instead of buying the money:[=0x000A=][=0x0009=]say [=0x0022=]The money belongs to you; you buy things with it.[=0x0022=][=0x000A=][=0x000A=][Now we just need something to buy.][=0x000A=][=0x000A=]The Dessert Parlor is a room. [=0x0022=]An underlit, over-crowded room campily furnished with a lot of gilt-frame mirrors and twinkle lights: it is essentially a brothel of food. The service is slow at best, and on Saturday nights glacial. However. The wares on display more than make up for these trivial inconveniences.[=0x0022=][=0x000A=][=0x000A=]The vanilla ice cream is an edible thing in the Parlor. The price of the ice cream is $2.45. The description is [=0x0022=]In the scale of ice creams, you recognize this as a very inferior vanilla because it has no adjectives in the title.[=0x0022=][=0x000A=][=0x000A=]The raspberry tart is an edible thing in the Parlor. The price of the tart is $4.50. The description is [=0x0022=]An almond-laced shell packed with raspberries-under-glaze.[=0x0022=][=0x000A=][=0x000A=]The syllabub is an edible thing in the Parlor. The price of the syllabub is $4.25. The description is [=0x0022=]Whipped cream, alcohol, and lime juice, a substance without any redeeming food value whatever.[=0x0022=][=0x000A=][=0x000A=]The espresso cake is an edible thing in the Parlor. The price of the espresso cake is $5.50. The description is [=0x0022=]A lethal wedge of purest blackness.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]inventory / examine syllabub / get syllabub / buy syllabub / drop it / get it / buy raspberry tart[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Frozen Assets&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14224_386" -->
<a id="c14224_386"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price. A thing has a price. The price of a thing is usually $0.00. After examining something for sale, say &quot;It can be yours for [the price of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we assume a simple shopping model in which the player can't take anything without paying for it.</p>
<!-- START CODE "c14225_386" -->
<a id="c14225_386"></a><blockquote class="code"><p class="quoted">
Definition: a thing is free if the price of it is $0.00.
<br />Definition: a thing is for sale if it is not free.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14226_386" -->
<a id="c14226_386"></a><blockquote class="code"><p class="quoted">
Instead of taking something for sale:
<br />&#160;&#160;&#160;&#160;say &quot;You'll have to pay for that.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14227_386" -->
<a id="c14227_386"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is not in the wallet:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14228_386" -->
<a id="c14228_386"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the money is free:
<br />&#160;&#160;&#160;&#160;say &quot;You're broke.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14229_386" -->
<a id="c14229_386"></a><blockquote class="code"><p class="quoted">
Before buying something for sale when the price of the money is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;Your funds do not run to the price of [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14230_386" -->
<a id="c14230_386"></a><blockquote class="code"><p class="quoted">
Instead of buying something:
<br />&#160;&#160;&#160;&#160;decrease the price of the money by the price of the noun;
<br />&#160;&#160;&#160;&#160;say &quot;You fork over [the price of the noun] for [the noun], leaving yourself with [the price of the money].&quot;;
<br />&#160;&#160;&#160;&#160;if the money is free:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the money is nowhere;
<br />&#160;&#160;&#160;&#160;now the price of the noun is $0.00;
<br />&#160;&#160;&#160;&#160;now the player is carrying the noun.
</p></blockquote>
<!-- END CODE -->
<p>The player's money object is going to be a bit unusual, because it has value but cannot itself be bought.</p>
<!-- START CODE "c14231_386" -->
<a id="c14231_386"></a><blockquote class="code"><p class="quoted">
The player carries a wallet. The wallet contains money. The price of the money is $4.50. The printed name of the money is &quot;[price of the money] in cash&quot;. Understand &quot;cash&quot; as the money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14232_386" -->
<a id="c14232_386"></a><blockquote class="code"><p class="quoted">
Instead of taking the money:
<br />&#160;&#160;&#160;&#160;say &quot;Best to leave it alone until you need to buy something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14233_386" -->
<a id="c14233_386"></a><blockquote class="code"><p class="quoted">
Instead of buying something free:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is yours already.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14234_386" -->
<a id="c14234_386"></a><blockquote class="code"><p class="quoted">
Instead of buying the money:
<br />&#160;&#160;&#160;&#160;say &quot;The money belongs to you; you buy things with it.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we just need something to buy.</p>
<!-- START CODE "c14235_386" -->
<a id="c14235_386"></a><blockquote class="code"><p class="quoted">
The Dessert Parlor is a room. &quot;An underlit, over-crowded room campily furnished with a lot of gilt-frame mirrors and twinkle lights: it is essentially a brothel of food. The service is slow at best, and on Saturday nights glacial. However. The wares on display more than make up for these trivial inconveniences.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14236_386" -->
<a id="c14236_386"></a><blockquote class="code"><p class="quoted">
The vanilla ice cream is an edible thing in the Parlor. The price of the ice cream is $2.45. The description is &quot;In the scale of ice creams, you recognize this as a very inferior vanilla because it has no adjectives in the title.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14237_386" -->
<a id="c14237_386"></a><blockquote class="code"><p class="quoted">
The raspberry tart is an edible thing in the Parlor. The price of the tart is $4.50. The description is &quot;An almond-laced shell packed with raspberries-under-glaze.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14238_386" -->
<a id="c14238_386"></a><blockquote class="code"><p class="quoted">
The syllabub is an edible thing in the Parlor. The price of the syllabub is $4.25. The description is &quot;Whipped cream, alcohol, and lime juice, a substance without any redeeming food value whatever.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14239_386" -->
<a id="c14239_386"></a><blockquote class="code"><p class="quoted">
The espresso cake is an edible thing in the Parlor. The price of the espresso cake is $5.50. The description is &quot;A lethal wedge of purest blackness.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14240_386" -->
<a id="c14240_386"></a><blockquote class="code"><p class="quoted">
Test me with &quot;inventory / examine syllabub / get syllabub / buy syllabub / drop it / get it / buy raspberry tart&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Implementing caloric units for this scenario is left as an exercise for the reader.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "265: Money for Nothing" "e331" -->
<a id="e331"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example331'); return false;"><b>265</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example331'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Money for Nothing</span></b></a><br />An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc244.html#e331"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example331" style="display: none;">
<!-- START CODE "c14241_331" -->
<a id="c14241_331"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14242_331" -->
<a id="c14242_331"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14243_331" -->
<a id="c14243_331"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14244_331" -->
<a id="c14244_331"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14245_331" -->
<a id="c14245_331"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14246_331" -->
<a id="c14246_331"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14247_331" -->
<a id="c14247_331"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14248_331" -->
<a id="c14248_331"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14249_331" -->
<a id="c14249_331"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14250_331" -->
<a id="c14250_331"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14251_331" -->
<a id="c14251_331"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14252_331" -->
<a id="c14252_331"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14253_331" -->
<a id="c14253_331"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c14254_331" -->
<a id="c14254_331"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14255_331" -->
<a id="c14255_331"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14256_331" -->
<a id="c14256_331"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c14257_331" -->
<a id="c14257_331"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14258_331" -->
<a id="c14258_331"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14259_331" -->
<a id="c14259_331"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14260_331" -->
<a id="c14260_331"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14261_331" -->
<a id="c14261_331"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14262_331" -->
<a id="c14262_331"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "270: Fabrication" "e406" -->
<a id="e406"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example406'); return false;"><b>270</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example406'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fabrication</span></b></a><br />A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc245.html#e406"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example406" style="display: none;">
<p>When we make a new kind of value, the new named values can themselves have properties. That is convenient because, for instance, we might want to associate a material (itself the property of an object) with certain features, such as price.</p>
<!-- START CODE "c14263_406" -->
<a id="c14263_406"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Fabrication[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A material is a kind of value. The materials are silk, velvet, cotton, and wool.[=0x000A=][=0x000A=]Price is a kind of value. $1.99 specifies a price.[=0x000A=][=0x000A=]Area is a kind of value. 5 sq yards specifies an area.[=0x000A=][=0x000A=]Cost is a kind of value.. $1.99 per sq yard specifies a cost.  A cost times an area specifies a price.[=0x000A=][=0x000A=]A material has a cost.[=0x000A=][=0x000A=]The cost of silk is usually $5.75 per sq yard. The cost of velvet is usually $9.50 per sq yard. The cost of cotton is usually $2.29 per sq yard. The cost of wool is usually $4.75 per sq yard.[=0x000A=][=0x000A=]A pattern is a kind of thing. A pattern has a material. A pattern has an area. A pattern has a price. The price of a pattern is usually $9.99. Understand [=0x0022=]pattern[=0x0022=] as a pattern. Understand [=0x0022=]patterns[=0x0022=] as the plural of a pattern.[=0x000A=][=0x000A=]After printing the name of a pattern:[=0x000A=][=0x0009=]if planning:[=0x000A=][=0x0009=][=0x0009=]do nothing;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] pattern[=0x0022=].[=0x000A=][=0x000A=]To decide what price is the material price of (chosen item - pattern):[=0x000A=][=0x0009=]let C be the cost of the material of the chosen item;[=0x000A=][=0x0009=]let A be the area of the chosen item;[=0x000A=][=0x0009=]decide on C * A.[=0x000A=][=0x000A=]To decide what price is the overall price of (chosen item - pattern):[=0x000A=][=0x0009=]let P be the price of the chosen item;[=0x000A=][=0x0009=]let M be the material price of the chosen item;[=0x000A=][=0x0009=]decide on P + M.[=0x000A=][=0x000A=]Understand [=0x0022=]plan [material] [pattern][=0x0022=] as planning it for.[=0x000A=][=0x000A=]Planning it for is an action applying to one material and one thing.[=0x000A=][=0x000A=]Carry out planning it for:[=0x000A=][=0x0009=]now the material of the second noun is the material understood.[=0x000A=][=0x000A=]Report planning it for:[=0x000A=][=0x0009=]say [=0x0022=]You lay plans for a [material understood] [second noun], running [material price of the second noun] for materials and [price of the second noun] for the pattern itself, for a total of [overall price of the second noun].[=0x0022=][=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]Joanne[=0x0027=]s Fabrics is a room. Joanne[=0x0027=]s Fabrics contains a pattern bin.[=0x000A=][=0x000A=]The cape is a pattern. The material of the cape is velvet. The area of the cape is 9 sq yards.[=0x000A=][=0x000A=]The bodice is a pattern. The material of the bodice is silk. The area of the bodice is 2 sq yards. The price of the bodice is $11.99.[=0x000A=][=0x000A=]The cape and the bodice are in the pattern bin.[=0x000A=][=0x000A=]Test me with [=0x0022=]plan silk bodice / plan velvet bodice / plan velvet cape / plan wool cape[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Fabrication&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14264_406" -->
<a id="c14264_406"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14265_406" -->
<a id="c14265_406"></a><blockquote class="code"><p class="quoted">
A material is a kind of value. The materials are silk, velvet, cotton, and wool.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14266_406" -->
<a id="c14266_406"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $1.99 specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14267_406" -->
<a id="c14267_406"></a><blockquote class="code"><p class="quoted">
Area is a kind of value. 5 sq yards specifies an area.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14268_406" -->
<a id="c14268_406"></a><blockquote class="code"><p class="quoted">
Cost is a kind of value.. $1.99 per sq yard specifies a cost.  A cost times an area specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14269_406" -->
<a id="c14269_406"></a><blockquote class="code"><p class="quoted">
A material has a cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14270_406" -->
<a id="c14270_406"></a><blockquote class="code"><p class="quoted">
The cost of silk is usually $5.75 per sq yard. The cost of velvet is usually $9.50 per sq yard. The cost of cotton is usually $2.29 per sq yard. The cost of wool is usually $4.75 per sq yard.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14271_406" -->
<a id="c14271_406"></a><blockquote class="code"><p class="quoted">
A pattern is a kind of thing. A pattern has a material. A pattern has an area. A pattern has a price. The price of a pattern is usually $9.99. Understand &quot;pattern&quot; as a pattern. Understand &quot;patterns&quot; as the plural of a pattern.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14272_406" -->
<a id="c14272_406"></a><blockquote class="code"><p class="quoted">
After printing the name of a pattern:
<br />&#160;&#160;&#160;&#160;if planning:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; pattern&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14273_406" -->
<a id="c14273_406"></a><blockquote class="code"><p class="quoted">
To decide what price is the material price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let C be the cost of the material of the chosen item;
<br />&#160;&#160;&#160;&#160;let A be the area of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on C * A.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14274_406" -->
<a id="c14274_406"></a><blockquote class="code"><p class="quoted">
To decide what price is the overall price of (chosen item - pattern):
<br />&#160;&#160;&#160;&#160;let P be the price of the chosen item;
<br />&#160;&#160;&#160;&#160;let M be the material price of the chosen item;
<br />&#160;&#160;&#160;&#160;decide on P + M.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14275_406" -->
<a id="c14275_406"></a><blockquote class="code"><p class="quoted">
Understand &quot;plan [material] [pattern]&quot; as planning it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14276_406" -->
<a id="c14276_406"></a><blockquote class="code"><p class="quoted">
Planning it for is an action applying to one material and one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14277_406" -->
<a id="c14277_406"></a><blockquote class="code"><p class="quoted">
Carry out planning it for:
<br />&#160;&#160;&#160;&#160;now the material of the second noun is the material understood.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14278_406" -->
<a id="c14278_406"></a><blockquote class="code"><p class="quoted">
Report planning it for:
<br />&#160;&#160;&#160;&#160;say &quot;You lay plans for a [material understood] [second noun], running [material price of the second noun] for materials and [price of the second noun] for the pattern itself, for a total of [overall price of the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14279_406" -->
<a id="c14279_406"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14280_406" -->
<a id="c14280_406"></a><blockquote class="code"><p class="quoted">
Joanne's Fabrics is a room. Joanne's Fabrics contains a pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14281_406" -->
<a id="c14281_406"></a><blockquote class="code"><p class="quoted">
The cape is a pattern. The material of the cape is velvet. The area of the cape is 9 sq yards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14282_406" -->
<a id="c14282_406"></a><blockquote class="code"><p class="quoted">
The bodice is a pattern. The material of the bodice is silk. The area of the bodice is 2 sq yards. The price of the bodice is $11.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14283_406" -->
<a id="c14283_406"></a><blockquote class="code"><p class="quoted">
The cape and the bodice are in the pattern bin.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14284_406" -->
<a id="c14284_406"></a><blockquote class="code"><p class="quoted">
Test me with &quot;plan silk bodice / plan velvet bodice / plan velvet cape / plan wool cape&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "262: Nickel and Dimed" "e108" -->
<a id="e108"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example108'); return false;"><b>262</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example108'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nickel and Dimed</span></b></a><br />A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc242.html#e108"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example108" style="display: none;">
<p>Typically games which keep track of the player's wealth need only do so as an abstract number, but occasionally it becomes useful to represent money as physical coins and bills. Here is an example that does exactly that:</p>
<!-- START CODE "c14285_108" -->
<a id="c14285_108"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Nickel and Dimed[=0x0022=][=0x000A=][=0x000A=]Section 1 - Currency[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents. A thing has a price. The price of a thing is usually $0.00.[=0x000A=][=0x000A=]Money is a kind of thing. Coin is a kind of money.[=0x000A=][=0x000A=]A dollar bill is a kind of money. The price of a dollar bill is $1.00. The printed name of a dollar bill is [=0x0022=]dollar bill[=0x0022=]. Rule for printing the plural name of a dollar bill: say [=0x0022=]dollar bills[=0x0022=]. The description of a dollar bill is [=0x0022=]It has George Washington[=0x0027=]s head on the front, which with a bit of creative folding can be scrunched to look like a mushroom. All important things really are learned in kindergarten.[=0x0022=][=0x000A=][=0x000A=]A five-dollar bill is a kind of money. The price of a five-dollar bill is $5.00. Understand [=0x0022=]five[=0x0022=] or [=0x0022=]five dollar[=0x0022=] as the five-dollar bill. The description of a five-dollar bill is [=0x0022=]Abraham Lincoln. He looks slightly less dignified here than he does on the penny.[=0x0022=][=0x000A=][=0x000A=]A hundred-dollar bill is a kind of money. The price of the hundred-dollar bill is $100.00. Understand [=0x0022=]hundred[=0x0022=] or [=0x0022=]hundred dollar[=0x0022=] as the hundred-dollar bill. Understand [=0x0022=]dollar[=0x0022=] as the dollar bill. The description of a hundred-dollar bill is [=0x0022=]It[=0x0027=]s got Benjamin Franklin, who always gets shafted: a denomination too large for anyone to carry conveniently, and a lot of local fame in Philadelphia.[=0x0022=][=0x000A=][=0x000A=][Our choice of understand rules guarantees that [=0x0022=]five dollar[=0x0022=] will be understood as the five, but [=0x0022=]dollar[=0x0022=] alone as the single. We will learn more about [=0x0022=]understand[=0x0022=] in later chapters, but here is a test to check the functionality:][=0x000A=][=0x000A=]Test bills with [=0x0022=]x hundred dollar bill / x five dollar bill / x hundred / x five / x dollar / x dollar bill[=0x0022=].[=0x000A=][=0x000A=]A quarter is a kind of coin. The price of a quarter is $0.25. The description of a quarter is [=0x0022=]One of the old-fashioned variety, not a state quarter.[=0x0022=][=0x000A=][=0x000A=]A dime is a kind of coin. The price of a dime is $0.10. The description of a dime is [=0x0022=]Franklin Roosevelt, trying not to look too annoyed that his coin is so small and thin.[=0x0022=][=0x000A=][=0x000A=]A nickel is a kind of coin. The price of a nickel is $0.05. The description of a nickel is [=0x0022=]A chubby coin, but you[=0x0027=]ve always liked Thomas Jefferson, and the Monticello on the back is a nice touch.[=0x0022=][=0x000A=][=0x000A=]A penny is a kind of coin. The price of a penny is $0.01. The description of the penny is [=0x0022=]A profile of Abe Lincoln. Sometime soon they[=0x0027=]ll stop minting these, you[=0x0027=]re sure of it.[=0x0022=][=0x000A=][=0x000A=]Section 2 - Ownership[=0x000A=][=0x000A=]Ownership relates one person (called the owner) to various things. The verb to own means the ownership relation.[=0x000A=][=0x000A=]Definition: a thing is owned if the player owns it.[=0x000A=][=0x000A=]Instead of buying something which is owned by the player:[=0x000A=][=0x0009=]say [=0x0022=]You already own [the noun].[=0x0022=][=0x000A=][=0x000A=]Instead of going somewhere when the player encloses something (called the stolen goods) which is not owned by the player:[=0x000A=][=0x0009=]if the owner of the stolen goods is not a person:[=0x000A=][=0x0009=][=0x0009=]now the player owns the stolen goods;[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]if the owner of the stolen goods can see the player,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]Hey there buddy, not so fast,[=0x0027=] says [the owner of the stolen goods]. [=0x0027=]You going to buy [the stolen goods] first, or am I gonna call the cops?[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]otherwise continue the action.[=0x000A=][=0x000A=]After taking inventory:[=0x000A=][=0x0009=]say [=0x0022=]Altogether, you[=0x0027=]ve got [the player[=0x0027=]s cash] on your person.[=0x0022=][=0x000A=][=0x000A=]To decide what price is the player[=0x0027=]s cash:[=0x000A=][=0x0009=]let sum be the total price of money enclosed by the player;[=0x000A=][=0x0009=]decide on sum.[=0x000A=][=0x000A=]To decide what price is the sum in (item - a container):[=0x000A=][=0x0009=]let sum be the total price of the money in the item;[=0x000A=][=0x0009=]decide on sum.[=0x000A=][=0x000A=]When play begins: now every thing carried by the player is owned by the player.[=0x000A=][=0x000A=]Section 3 - Purchasing and Sales[=0x000A=][=0x000A=]Definition: a thing is worthless if the price of it is $0.00. Definition: a thing is valuable if it is not worthless.[=0x000A=][=0x000A=]A thing can be for sale.[=0x000A=][=0x000A=]Rule for printing room description details of something (called target) which is for sale (this is the disclose prices in room description rule): say [=0x0022=] ([price of the target])[=0x0022=].[=0x000A=][=0x000A=]Before listing contents: group money together giving articles.[=0x000A=][=0x000A=]Instead of examining a for sale thing (this is the describe things by price rule):[=0x000A=][=0x0009=]say [=0x0022=][The noun] costs [the price of the noun], payable to [the owner of the noun].[=0x0022=][=0x000A=][=0x000A=][The cashbox is a theoretical construct, not something the player will ever encounter in the course of the game. It contains all the money that is available for non-player characters to use in making change. If we wanted, we could give each character his own stash of change, but this would increase the likelihood that any given person would run out of cash to make change with. (And in this example there is only one vendor anyway.)][=0x000A=][=0x000A=]The cashbox is a container. The cashbox contains 10 pennies. The cashbox contains 10 nickels.  The cashbox contains 10 dimes.  The cashbox contains 10 quarters.  The cashbox contains 10 dollar bills.  The cashbox contains 10 five-dollar bills.[=0x000A=][=0x000A=]The block buying rule is not listed in the check buying rules.[=0x000A=][=0x000A=]Check buying something:[=0x000A=][=0x0009=]if the noun is not for sale, say [=0x0022=][The owner of the noun] does not want to sell you [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the player[=0x0027=]s cash is less than the price of the noun, say [=0x0022=]You can[=0x0027=]t afford the asking price of [the price of the noun] for [the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out buying something:[=0x000A=][=0x0009=]let sum paid be $0.00;[=0x000A=][=0x0009=]while sum paid is less than the price of the noun:[=0x000A=][=0x0009=][=0x0009=]let current target be the price of the noun minus the sum paid;[=0x000A=][=0x0009=][=0x0009=]let bill offered be the best money from the player for the current target;[=0x000A=][=0x0009=][=0x0009=]if the bill offered is money:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]move the bill offered to the owner of the noun;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the bill offered is spent;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increase the sum paid by the price of the bill offered;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let current target be the price of the noun minus the sum paid;[=0x000A=][=0x0009=]say [=0x0022=]You hand [the owner of the noun] [a list of spent money]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=]let change be $0.00;[=0x000A=][=0x0009=]if the sum paid is greater than the price of the noun:[=0x000A=][=0x0009=][=0x0009=]now the change is the sum paid minus the price of the noun;[=0x000A=][=0x0009=]if change is greater than the sum in the cashbox:[=0x000A=][=0x0009=][=0x0009=]now the player carries every spent money;[=0x000A=][=0x0009=][=0x0009=]now every spent thing is fresh;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]Whoa,[=0x0027=] says [the owner of the noun], handing the cash back to you. [=0x0027=]I can[=0x0027=]t make change for that, man, sorry.[=0x0027=][=0x0022=] instead;[=0x000A=][=0x0009=]now every spent thing is in the cashbox;[=0x000A=][=0x0009=]now every spent thing is fresh;[=0x000A=][=0x0009=]while change is greater than $0.00:[=0x000A=][=0x0009=][=0x0009=]let change bill be the best money from the cashbox for change;[=0x000A=][=0x0009=][=0x0009=]decrease change by the price of the change bill;[=0x000A=][=0x0009=][=0x0009=]now change bill is spent;[=0x000A=][=0x0009=][=0x0009=]move change bill to player;[=0x000A=][=0x0009=]if money is spent, say [=0x0022=][The owner of the noun] makes change with [a list of spent money]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=]now every spent thing is fresh;[=0x000A=][=0x0009=]if the noun is not enclosed by the player and the owner of the noun can touch the noun:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]Here ya go,[=0x0027=] says [the owner of the noun], handing [the noun] to you. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]move the noun to the player;[=0x000A=][=0x0009=]now the player owns the noun.[=0x000A=][=0x000A=]Money can be spent or fresh.[=0x000A=][=0x000A=]Report buying something:[=0x000A=][=0x0009=]if the player owns the noun,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Your transaction is now complete, leaving you with [the player[=0x0027=]s cash].[=0x0022=][=0x000A=][=0x000A=][We[=0x0027=]ve skipped over defining what makes a denomination the best for a given transaction, so we[=0x0027=]d better do that now. Our goal is to avoid ever having the player gratuitously overpay -- he should always offer the smallest amount of money that will meet the price of what he[=0x0027=]s buying.][=0x000A=][=0x000A=][We also assume that all money [=0x0022=]enclosed by the buyer[=0x0022=] -- that is, somewhere in the buyer[=0x0027=]s possession -- is available for use. This might not be true in a game where the player could pick up, say, a sealed lucite container with a ten-dollar bill inside; in that case we would have to define our terms more rigorously, perhaps by requiring that the bills be both enclosed and touchable by the buyer. The touchability check adds an extra layer of calculation, however, and since it is not necessary in this example (and probably not in most other cases either), we[=0x0027=]ll leave it out:][=0x000A=][=0x000A=]Definition: money is costly if its price is $2.50 or more. Definition: money is cheap if its price is $0.99 or less.[=0x000A=][=0x000A=]Functional relation is a kind of value. The functional relations are overpayment, underpayment and irrelevant. Money has a functional relation.[=0x000A=][=0x000A=]To decide what money is the best money from (buyer - a thing) for (cost - a price):[=0x000A=][=0x0009=]repeat with bill offered running through money:[=0x000A=][=0x0009=][=0x0009=]if the bill offered is enclosed by the buyer:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the price of the bill offered is the cost, decide on the bill offered;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the price of the bill offered is greater than the cost, now the functional relation of bill offered is overpayment;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise now the functional relation of the bill offered is underpayment;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the functional relation of the bill offered is irrelevant;[=0x000A=][=0x0009=][say [=0x0022=]underpayment: [a list of underpayment money][=0x000A=][=0x0009=]overpayment: [a list of overpayment money][=0x0022=];][=0x000A=][=0x0009=]if the total price of underpayment money is less than the cost:[=0x000A=][=0x0009=][=0x0009=]decide on the cheapest money which is overpayment;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]decide on the costliest money which is underpayment.[=0x000A=][=0x000A=][Notice the [=0x0022=]say underpayment/overpayment section...[=0x0022=] noted out, above. This is for debugging purposes: when writing complex code, it is sometimes useful to put in lines that will say explicitly what is going on. We can enclose them in brackets and Inform will ignore them as though they were comments; if we run into any problems with the code later, we can erase the brackets and see the diagnostic printed to the screen as we play.][=0x000A=][=0x000A=]Instead of giving money to someone:[=0x000A=][=0x0009=]say [=0x0022=]Best to keep the transaction simple by buying whatever you want.[=0x0022=][=0x000A=][=0x000A=]Section 4 - The Scenario[=0x000A=][=0x000A=]The player carries 2 dollar bills. The player carries a nickel. The player carries 2 pennies. The player carries a five-dollar bill. The player carries 1 hundred-dollar bill.[=0x000A=][=0x000A=]The Subway Station is a room.[=0x000A=][=0x000A=]The Bitterly Cold Street is north of the Subway Station. [=0x0022=]Even though there is no actual snow or ice, the street is about as cold as you can stand, for which reason walking the twenty blocks uptown is not an acceptable option.[=0x0022=] The Bitterly Cold Street contains a dollar bill.[=0x000A=][=0x000A=]The newspaper man is a man in the Subway Station. [=0x0022=]A newspaper man in a knit cap and fingerless gloves is hopping up and down behind his stand[if the turn count is 1]. Cold weather, caffeine overdose, or mental illness? You may never know. Welcome to New York[end if].[=0x0022=] The description is [=0x0022=]Eye contact with strangers is something to avoid around here.[=0x0022=][=0x000A=][=0x000A=]The stand is a supporter in the Station. The stand is scenery.[=0x000A=][=0x000A=]A copy of the New York Times is on the stand. The price of the New York Times is $1.25.[=0x000A=][=0x000A=]A pack of gum is on the stand. The price of the gum is $0.40.[=0x000A=][=0x000A=]A paperback novel is on the stand. The price of the paperback novel is $7.99.[=0x000A=][=0x000A=]A packet of trading cards is on the stand. The price of the packet is $0.99.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every thing on the stand is owned by the newspaper man;[=0x000A=][=0x0009=]now every thing on the stand is for sale.[=0x000A=][=0x000A=][We could have done all that by hand, but the initialization requires a little less work.][=0x000A=][=0x000A=]The ticket machine is a container in the Subway Station. It is fixed in place. The description of the ticket machine is [=0x0022=]An LED screen on the front instructs you to insert [remaining ticket total] to complete your purchase. You also notice that the NO CHANGE light is lit up.[=0x0022=] The light is part of the ticket machine. The printed name of the light is [=0x0022=]no change light[=0x0022=]. Understand [=0x0022=]no change[=0x0022=] or [=0x0022=]no change light[=0x0022=] as the light.[=0x000A=][=0x000A=]The description of the light is [=0x0022=]In the whole of your recollection, the ticket machine has actually had change a total of twice. Usually, as now, the no-change light gleams angrily, daring you to put in more than you owe.[=0x0022=] A cash return button is part of the ticket machine. Instead of pushing the cash return button: say [=0x0022=]The ticket machine regurgitates [the list of things in the ticket machine].[=0x0022=]; now every thing in the ticket machine is carried by the player. Instead of taking something which is in the ticket machine: say [=0x0022=]The ticket machine has swallowed your money, but it can be retrieved (you hope) with the cash return button.[=0x0022=][=0x000A=][=0x000A=]Instead of inserting a hundred-dollar bill into the ticket machine:[=0x000A=][=0x0009=]say [=0x0022=]What, are you nuts?[=0x0022=][=0x000A=][=0x000A=]To decide what price is the remaining ticket total:[=0x000A=][=0x0009=]let absolute cost be $2.25;[=0x000A=][=0x0009=]let remaining cost be absolute cost minus the total price of things in the ticket machine;[=0x000A=][=0x0009=]if remaining cost is less than $0.00, decide on $0.00;[=0x000A=][=0x0009=]decide on remaining cost.[=0x000A=][=0x000A=]Instead of inserting something which is not money into the ticket machine: say [=0x0022=]The ticket machine only accepts money, not other tokens of your esteem and regard.[=0x0022=][=0x000A=][=0x000A=]Instead of inserting a penny into the ticket machine:[=0x000A=][=0x0009=]say [=0x0022=]The penny rattles out again mockingly: not even the ticket machine thinks these are worth anything.[=0x0022=][=0x000A=][=0x000A=]A subway pass is a kind of thing. 15 subway passes are in the cashbox. The description of a subway pass is usually [=0x0022=]A rectangle of thick lavender paper with a black magnetic stripe running up the back side. It is good for one trip on the subway.[=0x0022=][=0x000A=][=0x000A=]After inserting something into the ticket machine:[=0x000A=][=0x0009=]if the remaining ticket total is $0.00:[=0x000A=][=0x0009=][=0x0009=]let purchased ticket be a random subway pass in the cashbox;[=0x000A=][=0x0009=][=0x0009=]if purchased ticket is not a subway pass, say [=0x0022=]The ticket machine grunts disobligingly and then the unwelcome word MALFUNCTION parades across the LED screen, three letters at a time.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]repeat with item running through things in the machine:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is nowhere;[=0x000A=][=0x0009=][=0x0009=]move purchased ticket to player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The ticket machine beeps obligingly and disgorges a single subway pass.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The ticket machine beeps obligingly and adjusts its price down to [remaining ticket total].[=0x0022=][=0x000A=][=0x000A=][And because even though the ticket machine is a container, we don[=0x0027=]t want to say (empty) after it in the room description:][=0x000A=][=0x000A=]Rule for printing room description details of the ticket machine:[=0x000A=][=0x0009=]do nothing instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]buy novel / n / get dollar / s / buy novel[=0x0022=].[=0x000A=][=0x000A=][After all that, we should probably give the player a chance to win, as well:][=0x000A=][=0x000A=]The turnstile is south of the Subway Station. [=0x0022=]A turnstile is all that separates you from the subway platform stairs.[=0x0022=] The turnstile is north of the Platform. The turnstile is a door. Before going down in the presence of the turnstile, try going south instead. The turnstile is openable. The turnstile is open.[=0x000A=][=0x000A=]Instead of going through the turnstile when the player carries a subway pass: say [=0x0022=]You enter the turnstile and begin your journey uptown...[=0x0022=]; end the story finally saying [=0x0022=]At last[=0x0022=]. Instead of going through the turnstile: say [=0x0022=]You can[=0x0027=]t go through the turnstile without a subway pass. They[=0x0027=]re very strict about this.[=0x0022=][=0x000A=][=0x000A=]Instead of inserting money into the turnstile: say [=0x0022=]The turnstile takes passes, not money.[=0x0022=] Instead of inserting a subway pass into the turnstile, try entering the turnstile.[=0x000A=][=0x000A=]Test more with [=0x0022=]buy times / put all but five-dollar bill in machine / press button / buy gum / buy cards / i / put dollar in machine / g / put quarter in machine / i / d[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Nickel and Dimed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14286_108" -->
<a id="c14286_108"></a><blockquote class="code"><p class="quoted">
Section 1 - Currency
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14287_108" -->
<a id="c14287_108"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents. A thing has a price. The price of a thing is usually $0.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14288_108" -->
<a id="c14288_108"></a><blockquote class="code"><p class="quoted">
Money is a kind of thing. Coin is a kind of money.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14289_108" -->
<a id="c14289_108"></a><blockquote class="code"><p class="quoted">
A dollar bill is a kind of money. The price of a dollar bill is $1.00. The printed name of a dollar bill is &quot;dollar bill&quot;. Rule for printing the plural name of a dollar bill: say &quot;dollar bills&quot;. The description of a dollar bill is &quot;It has George Washington's head on the front, which with a bit of creative folding can be scrunched to look like a mushroom. All important things really are learned in kindergarten.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14290_108" -->
<a id="c14290_108"></a><blockquote class="code"><p class="quoted">
A five-dollar bill is a kind of money. The price of a five-dollar bill is $5.00. Understand &quot;five&quot; or &quot;five dollar&quot; as the five-dollar bill. The description of a five-dollar bill is &quot;Abraham Lincoln. He looks slightly less dignified here than he does on the penny.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14291_108" -->
<a id="c14291_108"></a><blockquote class="code"><p class="quoted">
A hundred-dollar bill is a kind of money. The price of the hundred-dollar bill is $100.00. Understand &quot;hundred&quot; or &quot;hundred dollar&quot; as the hundred-dollar bill. Understand &quot;dollar&quot; as the dollar bill. The description of a hundred-dollar bill is &quot;It's got Benjamin Franklin, who always gets shafted: a denomination too large for anyone to carry conveniently, and a lot of local fame in Philadelphia.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Our choice of understand rules guarantees that &quot;five dollar&quot; will be understood as the five, but &quot;dollar&quot; alone as the single. We will learn more about &quot;understand&quot; in later chapters, but here is a test to check the functionality:</p>
<!-- START CODE "c14292_108" -->
<a id="c14292_108"></a><blockquote class="code"><p class="quoted">
Test bills with &quot;x hundred dollar bill / x five dollar bill / x hundred / x five / x dollar / x dollar bill&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14293_108" -->
<a id="c14293_108"></a><blockquote class="code"><p class="quoted">
A quarter is a kind of coin. The price of a quarter is $0.25. The description of a quarter is &quot;One of the old-fashioned variety, not a state quarter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14294_108" -->
<a id="c14294_108"></a><blockquote class="code"><p class="quoted">
A dime is a kind of coin. The price of a dime is $0.10. The description of a dime is &quot;Franklin Roosevelt, trying not to look too annoyed that his coin is so small and thin.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14295_108" -->
<a id="c14295_108"></a><blockquote class="code"><p class="quoted">
A nickel is a kind of coin. The price of a nickel is $0.05. The description of a nickel is &quot;A chubby coin, but you've always liked Thomas Jefferson, and the Monticello on the back is a nice touch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14296_108" -->
<a id="c14296_108"></a><blockquote class="code"><p class="quoted">
A penny is a kind of coin. The price of a penny is $0.01. The description of the penny is &quot;A profile of Abe Lincoln. Sometime soon they'll stop minting these, you're sure of it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14297_108" -->
<a id="c14297_108"></a><blockquote class="code"><p class="quoted">
Section 2 - Ownership
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14298_108" -->
<a id="c14298_108"></a><blockquote class="code"><p class="quoted">
Ownership relates one person (called the owner) to various things. The verb to own means the ownership relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14299_108" -->
<a id="c14299_108"></a><blockquote class="code"><p class="quoted">
Definition: a thing is owned if the player owns it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14300_108" -->
<a id="c14300_108"></a><blockquote class="code"><p class="quoted">
Instead of buying something which is owned by the player:
<br />&#160;&#160;&#160;&#160;say &quot;You already own [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14301_108" -->
<a id="c14301_108"></a><blockquote class="code"><p class="quoted">
Instead of going somewhere when the player encloses something (called the stolen goods) which is not owned by the player:
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods is not a person:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player owns the stolen goods;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;if the owner of the stolen goods can see the player,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Hey there buddy, not so fast,' says [the owner of the stolen goods]. 'You going to buy [the stolen goods] first, or am I gonna call the cops?'&quot;;
<br />&#160;&#160;&#160;&#160;otherwise continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14302_108" -->
<a id="c14302_108"></a><blockquote class="code"><p class="quoted">
After taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;Altogether, you've got [the player's cash] on your person.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14303_108" -->
<a id="c14303_108"></a><blockquote class="code"><p class="quoted">
To decide what price is the player's cash:
<br />&#160;&#160;&#160;&#160;let sum be the total price of money enclosed by the player;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14304_108" -->
<a id="c14304_108"></a><blockquote class="code"><p class="quoted">
To decide what price is the sum in (item - a container):
<br />&#160;&#160;&#160;&#160;let sum be the total price of the money in the item;
<br />&#160;&#160;&#160;&#160;decide on sum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14305_108" -->
<a id="c14305_108"></a><blockquote class="code"><p class="quoted">
When play begins: now every thing carried by the player is owned by the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14306_108" -->
<a id="c14306_108"></a><blockquote class="code"><p class="quoted">
Section 3 - Purchasing and Sales
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14307_108" -->
<a id="c14307_108"></a><blockquote class="code"><p class="quoted">
Definition: a thing is worthless if the price of it is $0.00. Definition: a thing is valuable if it is not worthless.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14308_108" -->
<a id="c14308_108"></a><blockquote class="code"><p class="quoted">
A thing can be for sale.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14309_108" -->
<a id="c14309_108"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something (called target) which is for sale (this is the disclose prices in room description rule): say &quot; ([price of the target])&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14310_108" -->
<a id="c14310_108"></a><blockquote class="code"><p class="quoted">
Before listing contents: group money together giving articles.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14311_108" -->
<a id="c14311_108"></a><blockquote class="code"><p class="quoted">
Instead of examining a for sale thing (this is the describe things by price rule):
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] costs [the price of the noun], payable to [the owner of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The cashbox is a theoretical construct, not something the player will ever encounter in the course of the game. It contains all the money that is available for non-player characters to use in making change. If we wanted, we could give each character his own stash of change, but this would increase the likelihood that any given person would run out of cash to make change with. (And in this example there is only one vendor anyway.)</p>
<!-- START CODE "c14312_108" -->
<a id="c14312_108"></a><blockquote class="code"><p class="quoted">
The cashbox is a container. The cashbox contains 10 pennies. The cashbox contains 10 nickels.  The cashbox contains 10 dimes.  The cashbox contains 10 quarters.  The cashbox contains 10 dollar bills.  The cashbox contains 10 five-dollar bills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14313_108" -->
<a id="c14313_108"></a><blockquote class="code"><p class="quoted">
The block buying rule is not listed in the check buying rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14314_108" -->
<a id="c14314_108"></a><blockquote class="code"><p class="quoted">
Check buying something:
<br />&#160;&#160;&#160;&#160;if the noun is not for sale, say &quot;[The owner of the noun] does not want to sell you [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the player's cash is less than the price of the noun, say &quot;You can't afford the asking price of [the price of the noun] for [the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14315_108" -->
<a id="c14315_108"></a><blockquote class="code"><p class="quoted">
Carry out buying something:
<br />&#160;&#160;&#160;&#160;let sum paid be $0.00;
<br />&#160;&#160;&#160;&#160;while sum paid is less than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let bill offered be the best money from the player for the current target;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the bill offered to the owner of the noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the bill offered is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase the sum paid by the price of the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let current target be the price of the noun minus the sum paid;
<br />&#160;&#160;&#160;&#160;say &quot;You hand [the owner of the noun] [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;let change be $0.00;
<br />&#160;&#160;&#160;&#160;if the sum paid is greater than the price of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the change is the sum paid minus the price of the noun;
<br />&#160;&#160;&#160;&#160;if change is greater than the sum in the cashbox:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the player carries every spent money;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Whoa,' says [the owner of the noun], handing the cash back to you. 'I can't make change for that, man, sorry.'&quot; instead;
<br />&#160;&#160;&#160;&#160;now every spent thing is in the cashbox;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;while change is greater than $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let change bill be the best money from the cashbox for change;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease change by the price of the change bill;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now change bill is spent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move change bill to player;
<br />&#160;&#160;&#160;&#160;if money is spent, say &quot;[The owner of the noun] makes change with [a list of spent money]. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;now every spent thing is fresh;
<br />&#160;&#160;&#160;&#160;if the noun is not enclosed by the player and the owner of the noun can touch the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'Here ya go,' says [the owner of the noun], handing [the noun] to you. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;now the player owns the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14316_108" -->
<a id="c14316_108"></a><blockquote class="code"><p class="quoted">
Money can be spent or fresh.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14317_108" -->
<a id="c14317_108"></a><blockquote class="code"><p class="quoted">
Report buying something:
<br />&#160;&#160;&#160;&#160;if the player owns the noun,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your transaction is now complete, leaving you with [the player's cash].&quot;
</p></blockquote>
<!-- END CODE -->
<p>We've skipped over defining what makes a denomination the best for a given transaction, so we'd better do that now. Our goal is to avoid ever having the player gratuitously overpay -- he should always offer the smallest amount of money that will meet the price of what he's buying.</p>
<p>We also assume that all money &quot;enclosed by the buyer&quot; -- that is, somewhere in the buyer's possession -- is available for use. This might not be true in a game where the player could pick up, say, a sealed lucite container with a ten-dollar bill inside; in that case we would have to define our terms more rigorously, perhaps by requiring that the bills be both enclosed and touchable by the buyer. The touchability check adds an extra layer of calculation, however, and since it is not necessary in this example (and probably not in most other cases either), we'll leave it out:</p>
<!-- START CODE "c14318_108" -->
<a id="c14318_108"></a><blockquote class="code"><p class="quoted">
Definition: money is costly if its price is $2.50 or more. Definition: money is cheap if its price is $0.99 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14319_108" -->
<a id="c14319_108"></a><blockquote class="code"><p class="quoted">
Functional relation is a kind of value. The functional relations are overpayment, underpayment and irrelevant. Money has a functional relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14320_108" -->
<a id="c14320_108"></a><blockquote class="code"><p class="quoted">
To decide what money is the best money from (buyer - a thing) for (cost - a price):
<br />&#160;&#160;&#160;&#160;repeat with bill offered running through money:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the bill offered is enclosed by the buyer:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is the cost, decide on the bill offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the price of the bill offered is greater than the cost, now the functional relation of bill offered is overpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now the functional relation of the bill offered is underpayment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the functional relation of the bill offered is irrelevant;
<br />&#160;&#160;&#160;&#160;[say &quot;underpayment: [a list of underpayment money]
<br />&#160;&#160;&#160;&#160;overpayment: [a list of overpayment money]&quot;;]
<br />&#160;&#160;&#160;&#160;if the total price of underpayment money is less than the cost:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the cheapest money which is overpayment;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decide on the costliest money which is underpayment.
</p></blockquote>
<!-- END CODE -->
<p>Notice the &quot;say underpayment/overpayment section...&quot; noted out, above. This is for debugging purposes: when writing complex code, it is sometimes useful to put in lines that will say explicitly what is going on. We can enclose them in brackets and Inform will ignore them as though they were comments; if we run into any problems with the code later, we can erase the brackets and see the diagnostic printed to the screen as we play.</p>
<!-- START CODE "c14321_108" -->
<a id="c14321_108"></a><blockquote class="code"><p class="quoted">
Instead of giving money to someone:
<br />&#160;&#160;&#160;&#160;say &quot;Best to keep the transaction simple by buying whatever you want.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14322_108" -->
<a id="c14322_108"></a><blockquote class="code"><p class="quoted">
Section 4 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14323_108" -->
<a id="c14323_108"></a><blockquote class="code"><p class="quoted">
The player carries 2 dollar bills. The player carries a nickel. The player carries 2 pennies. The player carries a five-dollar bill. The player carries 1 hundred-dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14324_108" -->
<a id="c14324_108"></a><blockquote class="code"><p class="quoted">
The Subway Station is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14325_108" -->
<a id="c14325_108"></a><blockquote class="code"><p class="quoted">
The Bitterly Cold Street is north of the Subway Station. &quot;Even though there is no actual snow or ice, the street is about as cold as you can stand, for which reason walking the twenty blocks uptown is not an acceptable option.&quot; The Bitterly Cold Street contains a dollar bill.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14326_108" -->
<a id="c14326_108"></a><blockquote class="code"><p class="quoted">
The newspaper man is a man in the Subway Station. &quot;A newspaper man in a knit cap and fingerless gloves is hopping up and down behind his stand[if the turn count is 1]. Cold weather, caffeine overdose, or mental illness? You may never know. Welcome to New York[end if].&quot; The description is &quot;Eye contact with strangers is something to avoid around here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14327_108" -->
<a id="c14327_108"></a><blockquote class="code"><p class="quoted">
The stand is a supporter in the Station. The stand is scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14328_108" -->
<a id="c14328_108"></a><blockquote class="code"><p class="quoted">
A copy of the New York Times is on the stand. The price of the New York Times is $1.25.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14329_108" -->
<a id="c14329_108"></a><blockquote class="code"><p class="quoted">
A pack of gum is on the stand. The price of the gum is $0.40.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14330_108" -->
<a id="c14330_108"></a><blockquote class="code"><p class="quoted">
A paperback novel is on the stand. The price of the paperback novel is $7.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14331_108" -->
<a id="c14331_108"></a><blockquote class="code"><p class="quoted">
A packet of trading cards is on the stand. The price of the packet is $0.99.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14332_108" -->
<a id="c14332_108"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every thing on the stand is owned by the newspaper man;
<br />&#160;&#160;&#160;&#160;now every thing on the stand is for sale.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all that by hand, but the initialization requires a little less work.</p>
<!-- START CODE "c14333_108" -->
<a id="c14333_108"></a><blockquote class="code"><p class="quoted">
The ticket machine is a container in the Subway Station. It is fixed in place. The description of the ticket machine is &quot;An LED screen on the front instructs you to insert [remaining ticket total] to complete your purchase. You also notice that the NO CHANGE light is lit up.&quot; The light is part of the ticket machine. The printed name of the light is &quot;no change light&quot;. Understand &quot;no change&quot; or &quot;no change light&quot; as the light.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14334_108" -->
<a id="c14334_108"></a><blockquote class="code"><p class="quoted">
The description of the light is &quot;In the whole of your recollection, the ticket machine has actually had change a total of twice. Usually, as now, the no-change light gleams angrily, daring you to put in more than you owe.&quot; A cash return button is part of the ticket machine. Instead of pushing the cash return button: say &quot;The ticket machine regurgitates [the list of things in the ticket machine].&quot;; now every thing in the ticket machine is carried by the player. Instead of taking something which is in the ticket machine: say &quot;The ticket machine has swallowed your money, but it can be retrieved (you hope) with the cash return button.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14335_108" -->
<a id="c14335_108"></a><blockquote class="code"><p class="quoted">
Instead of inserting a hundred-dollar bill into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;What, are you nuts?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14336_108" -->
<a id="c14336_108"></a><blockquote class="code"><p class="quoted">
To decide what price is the remaining ticket total:
<br />&#160;&#160;&#160;&#160;let absolute cost be $2.25;
<br />&#160;&#160;&#160;&#160;let remaining cost be absolute cost minus the total price of things in the ticket machine;
<br />&#160;&#160;&#160;&#160;if remaining cost is less than $0.00, decide on $0.00;
<br />&#160;&#160;&#160;&#160;decide on remaining cost.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14337_108" -->
<a id="c14337_108"></a><blockquote class="code"><p class="quoted">
Instead of inserting something which is not money into the ticket machine: say &quot;The ticket machine only accepts money, not other tokens of your esteem and regard.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14338_108" -->
<a id="c14338_108"></a><blockquote class="code"><p class="quoted">
Instead of inserting a penny into the ticket machine:
<br />&#160;&#160;&#160;&#160;say &quot;The penny rattles out again mockingly: not even the ticket machine thinks these are worth anything.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14339_108" -->
<a id="c14339_108"></a><blockquote class="code"><p class="quoted">
A subway pass is a kind of thing. 15 subway passes are in the cashbox. The description of a subway pass is usually &quot;A rectangle of thick lavender paper with a black magnetic stripe running up the back side. It is good for one trip on the subway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14340_108" -->
<a id="c14340_108"></a><blockquote class="code"><p class="quoted">
After inserting something into the ticket machine:
<br />&#160;&#160;&#160;&#160;if the remaining ticket total is $0.00:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let purchased ticket be a random subway pass in the cashbox;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if purchased ticket is not a subway pass, say &quot;The ticket machine grunts disobligingly and then the unwelcome word MALFUNCTION parades across the LED screen, three letters at a time.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through things in the machine:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is nowhere;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move purchased ticket to player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and disgorges a single subway pass.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The ticket machine beeps obligingly and adjusts its price down to [remaining ticket total].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And because even though the ticket machine is a container, we don't want to say (empty) after it in the room description:</p>
<!-- START CODE "c14341_108" -->
<a id="c14341_108"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of the ticket machine:
<br />&#160;&#160;&#160;&#160;do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14342_108" -->
<a id="c14342_108"></a><blockquote class="code"><p class="quoted">
Test me with &quot;buy novel / n / get dollar / s / buy novel&quot;.
</p></blockquote>
<!-- END CODE -->
<p>After all that, we should probably give the player a chance to win, as well:</p>
<!-- START CODE "c14343_108" -->
<a id="c14343_108"></a><blockquote class="code"><p class="quoted">
The turnstile is south of the Subway Station. &quot;A turnstile is all that separates you from the subway platform stairs.&quot; The turnstile is north of the Platform. The turnstile is a door. Before going down in the presence of the turnstile, try going south instead. The turnstile is openable. The turnstile is open.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14344_108" -->
<a id="c14344_108"></a><blockquote class="code"><p class="quoted">
Instead of going through the turnstile when the player carries a subway pass: say &quot;You enter the turnstile and begin your journey uptown...&quot;; end the story finally saying &quot;At last&quot;. Instead of going through the turnstile: say &quot;You can't go through the turnstile without a subway pass. They're very strict about this.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14345_108" -->
<a id="c14345_108"></a><blockquote class="code"><p class="quoted">
Instead of inserting money into the turnstile: say &quot;The turnstile takes passes, not money.&quot; Instead of inserting a subway pass into the turnstile, try entering the turnstile.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14346_108" -->
<a id="c14346_108"></a><blockquote class="code"><p class="quoted">
Test more with &quot;buy times / put all but five-dollar bill in machine / press button / buy gum / buy cards / i / put dollar in machine / g / put quarter in machine / i / d&quot;.
</p></blockquote>
<!-- END CODE -->
<p>In fairness to the Metropolitan Transit Authority, we should admit that most of the ticketing machines in the real New York subway are better than this, and will accept, say, a debit card. But that would be so much less exciting to implement.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "283: Introduction to Juggling" "e242" -->
<a id="e242"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example242'); return false;"><b>283</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example242'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Introduction to Juggling</span></b></a><br />Assortment of equipment defined with price and description, in a table.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc261.html#e242"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example242" style="display: none;">
<p>Suppose we have a whole catalog-full of equipment that the player might want to purchase and use. We'll start by defining our purchasing rules:</p>
<!-- START CODE "c14347_242" -->
<a id="c14347_242"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Introduction to Juggling[=0x0022=][=0x000A=][=0x000A=][We allow things to have prices, and the player[=0x0027=]s price to indicate how much money the player has:][=0x000A=][=0x000A=]Section 1 - Mail-ordering defined[=0x000A=][=0x000A=]Price is a kind of value. $100.99 specifies a price.[=0x000A=][=0x000A=]The player has a price. The price of the player is $60.00.[=0x000A=][=0x000A=][Because we[=0x0027=]re allowing the player to order things that he can[=0x0027=]t currently see, we need to borrow a special kind of grammar from the Understanding chapter. All our orderable items in this example are toys, so [=0x0022=]any toy[=0x0022=] means any object of the toy kind, whether or not it is in view at the moment:][=0x000A=][=0x000A=]Understand [=0x0022=]buy [any toy][=0x0022=] as ordering. Understand the command [=0x0022=]order[=0x0022=] as something new. Understand the command [=0x0022=]order[=0x0022=] as [=0x0022=]buy[=0x0022=].[=0x000A=][=0x000A=]Ordering is an action applying to one visible thing.[=0x000A=][=0x000A=]Check ordering:[=0x000A=][=0x0009=]if the cost of the noun is greater than the price of the player, say [=0x0022=]You only have [price of the player], while [the noun] would cost [cost of the noun].[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out ordering:[=0x000A=][=0x0009=]move the noun to the player;[=0x000A=][=0x0009=]decrease the price of the player by the cost of the noun.[=0x000A=][=0x000A=]Report ordering:[=0x000A=][=0x0009=]say [=0x0022=]You order [a noun], which is delivered instantly.[=0x0022=][=0x000A=][=0x000A=][We should also handle the situation where the player orders another of something he has already bought and which is right in front of him:][=0x000A=][=0x000A=]Instead of buying something:[=0x000A=][=0x0009=]say [=0x0022=]You already have [a noun].[=0x0022=][=0x000A=][=0x000A=][So much for the general rules for this scenario. Now we move on to particulars: the actual items the player is allowed to order. Each item will have a description, a price, and a difficulty representing how skilled the player must be in order to make use of that item.][=0x000A=][=0x000A=][Since we are going to use price and difficulty in the table that defines our juggling equipment, we need to mention these kinds of value before the line that says how toys are defined.][=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]Difficulty is a kind of value. The difficulties are easy, moderate, hard. The player has a difficulty. The difficulty of the player is easy.[=0x000A=][=0x000A=]The plural of toy is toys. A toy is a kind of thing. Some toys are defined by the Table of Juggling Equipment.[=0x000A=][=0x000A=]Table of Juggling Equipment[=0x000A=]toy[=0x0009=]cost[=0x0009=]restriction[=0x0009=]description[=0x0009=]difficulty[=0x0009=]outcome[=0x000A=]an economy bounce ball set[=0x0009=]$10.00[=0x0009=][=0x0022=]comes in set of three[=0x0022=][=0x0009=][=0x0022=]A fairly ordinary rubber ball, solid color.[=0x0022=][=0x0009=]moderate[=0x0009=][=0x0022=]You create of the balls a cascade of moving color.[=0x0022=][=0x000A=]an acrylic contact ball[=0x0009=]$14.00[=0x0009=][=0x0022=]should be bought with ball polish[=0x0022=][=0x0009=][=0x0022=]A large clear ball, not for throwing but for using in various hand tricks.[=0x0022=][=0x0009=]hard[=0x0009=][=0x0022=]You rotate the ball between your fingers and pass it over the backs of your hands.[=0x0022=][=0x000A=]a UV-reactive contact ball[=0x0009=]$55.00[=0x0009=][=0x0022=]appears to glow in dark rooms[=0x0022=][=0x0009=][=0x0022=]Similar to the ordinary acrylic contact ball, but UV-reactive.[=0x0022=][=0x0009=]hard[=0x0009=][=0x0022=]The ball glows as it passes between your fingers and over the backs of your hands, rolls up to your wrist, snaps through the air-- all apparently of its own accord.[=0x0022=][=0x000A=]a ball polish set[=0x0009=]$10.00[=0x0009=][=0x0022=]useful only with acrylic contact balls[=0x0022=][=0x0009=][=0x0022=]Three bottles of polish and a rag for keeping acrylic contact balls scratch-free.[=0x0022=][=0x0009=]hard[=0x0009=][=0x0022=]You juggle the polish bottles with difficulty, since they are full of sloshing liquid.[=0x0022=][=0x000A=]a teaching beanbag set[=0x0009=]$8.00[=0x0009=][=0x0022=]set of three[=0x0022=][=0x0009=][=0x0022=]Soft, easily-juggled bag.[=0x0022=][=0x0009=]easy[=0x0009=][=0x0022=]You juggle the beanbags with basic competence.[=0x0022=][=0x000A=]a stage ball set[=0x0009=]$13.50[=0x0009=][=0x0022=]comes in set of three[=0x0022=][=0x0009=][=0x0022=]Not much different in appearance from the economy bounce ball, but larger so as to be visible from a stage.[=0x0022=][=0x0009=]moderate[=0x0009=][=0x0022=]You create of the balls a cascade of moving color, visible from quite a distance.[=0x0022=][=0x000A=]a fireball set[=0x0009=]$33.00[=0x0009=][=0x0022=]will not be sold to minors[=0x0022=][=0x0009=][=0x0022=]A ball has wicking and a fuel-source inside so that it will burn while being juggled.[=0x0022=][=0x0009=]hard[=0x0009=][=0x0022=]You juggle the fireballs rapidly, careful never to hold any of them a moment longer than necessary.[=0x0022=][=0x000A=][=0x000A=][Notice that we are allowed to define [=0x0022=]description[=0x0022=] and other already-known properties in the table as well.][=0x000A=][=0x000A=]Backstage is a room. [=0x0022=]A muffled black room with felt on the floors and walls. A glowing sign over the stage door says SHOW IN PROGRESS.[=0x0022=][=0x000A=][=0x000A=]The Juggling Equipment Catalog is a thing in Backstage.[=0x000A=][=0x000A=]Instead of examining the Catalog:[=0x000A=][=0x0009=]say [=0x0022=]You read through the offerings, including: [paragraph break][=0x0022=];[=0x000A=][=0x0009=]repeat through Table of Juggling Equipment:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][bold type][toy entry][roman type]: [description entry] [cost entry], [restriction entry]. [paragraph break][=0x0022=].[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now right hand status line is [=0x0022=]Budget: [price of the player][=0x0022=];[=0x000A=][=0x0009=]now left hand status line is [=0x0022=][location], feeling [if the difficulty of player is easy]incompetent[end if][if the difficulty of player is moderate]moderately skilled[end if][if the difficulty of player is hard]highly skilled[end if][=0x0022=].[=0x000A=][=0x000A=][And of course this will be no fun unless the player is allowed to use the equipment:][=0x000A=][=0x000A=]Understand [=0x0022=]juggle [something][=0x0022=] as juggling.[=0x000A=][=0x000A=]Juggling is an action applying to one thing.[=0x000A=][=0x000A=]Check juggling:[=0x000A=][=0x0009=]if the noun is not a toy listed in the Table of Juggling Equipment, say [=0x0022=]You can[=0x0027=]t juggle [a noun]![=0x0022=] instead;[=0x000A=][=0x0009=]if the difficulty of the noun is greater than the difficulty of the player, say [=0x0022=]You[=0x0027=]re not quite ready to juggle something like [the noun]. Better to start with an easier toy.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out juggling:[=0x000A=][=0x0009=]if a random chance of 1 in 3 succeeds:[=0x000A=][=0x0009=][=0x0009=]if the difficulty of the player is less than hard and the difficulty of the player is the difficulty of the noun:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the difficulty of the player is the difficulty after the difficulty of the player.[=0x000A=][=0x000A=]Report juggling:[=0x000A=][=0x0009=]say [=0x0022=][outcome of the noun][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Instead of burning the fireball set:[=0x000A=][=0x0009=]say [=0x0022=]It will flame by itself when you use it.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]read catalog / buy economy / buy beanbag / juggle economy / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle economy / juggle economy / juggle economy / buy fireball set / juggle fireball[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Introduction to Juggling&quot;
</p></blockquote>
<!-- END CODE -->
<p>We allow things to have prices, and the player's price to indicate how much money the player has:</p>
<!-- START CODE "c14348_242" -->
<a id="c14348_242"></a><blockquote class="code"><p class="quoted">
Section 1 - Mail-ordering defined
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14349_242" -->
<a id="c14349_242"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $100.99 specifies a price.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14350_242" -->
<a id="c14350_242"></a><blockquote class="code"><p class="quoted">
The player has a price. The price of the player is $60.00.
</p></blockquote>
<!-- END CODE -->
<p>Because we're allowing the player to order things that he can't currently see, we need to borrow a special kind of grammar from the Understanding chapter. All our orderable items in this example are toys, so &quot;any toy&quot; means any object of the toy kind, whether or not it is in view at the moment:</p>
<!-- START CODE "c14351_242" -->
<a id="c14351_242"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [any toy]&quot; as ordering. Understand the command &quot;order&quot; as something new. Understand the command &quot;order&quot; as &quot;buy&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14352_242" -->
<a id="c14352_242"></a><blockquote class="code"><p class="quoted">
Ordering is an action applying to one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14353_242" -->
<a id="c14353_242"></a><blockquote class="code"><p class="quoted">
Check ordering:
<br />&#160;&#160;&#160;&#160;if the cost of the noun is greater than the price of the player, say &quot;You only have [price of the player], while [the noun] would cost [cost of the noun].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14354_242" -->
<a id="c14354_242"></a><blockquote class="code"><p class="quoted">
Carry out ordering:
<br />&#160;&#160;&#160;&#160;move the noun to the player;
<br />&#160;&#160;&#160;&#160;decrease the price of the player by the cost of the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14355_242" -->
<a id="c14355_242"></a><blockquote class="code"><p class="quoted">
Report ordering:
<br />&#160;&#160;&#160;&#160;say &quot;You order [a noun], which is delivered instantly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We should also handle the situation where the player orders another of something he has already bought and which is right in front of him:</p>
<!-- START CODE "c14356_242" -->
<a id="c14356_242"></a><blockquote class="code"><p class="quoted">
Instead of buying something:
<br />&#160;&#160;&#160;&#160;say &quot;You already have [a noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>So much for the general rules for this scenario. Now we move on to particulars: the actual items the player is allowed to order. Each item will have a description, a price, and a difficulty representing how skilled the player must be in order to make use of that item.</p>
<p>Since we are going to use price and difficulty in the table that defines our juggling equipment, we need to mention these kinds of value before the line that says how toys are defined.</p>
<!-- START CODE "c14357_242" -->
<a id="c14357_242"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14358_242" -->
<a id="c14358_242"></a><blockquote class="code"><p class="quoted">
Difficulty is a kind of value. The difficulties are easy, moderate, hard. The player has a difficulty. The difficulty of the player is easy.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14359_242" -->
<a id="c14359_242"></a><blockquote class="code"><p class="quoted">
The plural of toy is toys. A toy is a kind of thing. Some toys are defined by the Table of Juggling Equipment.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14360_242" -->
<a id="c14360_242"></a><blockquote class="code"><p class="quoted">
Table of Juggling Equipment
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">toy</p></td><td class="quotedtablecell"><p class="quoted">cost</p></td><td class="quotedtablecell"><p class="quoted">restriction</p></td><td class="quotedtablecell"><p class="quoted">description</p></td><td class="quotedtablecell"><p class="quoted">difficulty</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">an economy bounce ball set</p></td><td class="quotedtablecell"><p class="quoted">$10.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;comes in set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A fairly ordinary rubber ball, solid color.&quot;</p></td><td class="quotedtablecell"><p class="quoted">moderate</p></td><td class="quotedtablecell"><p class="quoted">&quot;You create of the balls a cascade of moving color.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">an acrylic contact ball</p></td><td class="quotedtablecell"><p class="quoted">$14.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;should be bought with ball polish&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A large clear ball, not for throwing but for using in various hand tricks.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You rotate the ball between your fingers and pass it over the backs of your hands.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a UV-reactive contact ball</p></td><td class="quotedtablecell"><p class="quoted">$55.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;appears to glow in dark rooms&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Similar to the ordinary acrylic contact ball, but UV-reactive.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;The ball glows as it passes between your fingers and over the backs of your hands, rolls up to your wrist, snaps through the air-- all apparently of its own accord.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a ball polish set</p></td><td class="quotedtablecell"><p class="quoted">$10.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;useful only with acrylic contact balls&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Three bottles of polish and a rag for keeping acrylic contact balls scratch-free.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the polish bottles with difficulty, since they are full of sloshing liquid.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a teaching beanbag set</p></td><td class="quotedtablecell"><p class="quoted">$8.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Soft, easily-juggled bag.&quot;</p></td><td class="quotedtablecell"><p class="quoted">easy</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the beanbags with basic competence.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a stage ball set</p></td><td class="quotedtablecell"><p class="quoted">$13.50</p></td><td class="quotedtablecell"><p class="quoted">&quot;comes in set of three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Not much different in appearance from the economy bounce ball, but larger so as to be visible from a stage.&quot;</p></td><td class="quotedtablecell"><p class="quoted">moderate</p></td><td class="quotedtablecell"><p class="quoted">&quot;You create of the balls a cascade of moving color, visible from quite a distance.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">a fireball set</p></td><td class="quotedtablecell"><p class="quoted">$33.00</p></td><td class="quotedtablecell"><p class="quoted">&quot;will not be sold to minors&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A ball has wicking and a fuel-source inside so that it will burn while being juggled.&quot;</p></td><td class="quotedtablecell"><p class="quoted">hard</p></td><td class="quotedtablecell"><p class="quoted">&quot;You juggle the fireballs rapidly, careful never to hold any of them a moment longer than necessary.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Notice that we are allowed to define &quot;description&quot; and other already-known properties in the table as well.</p>
<!-- START CODE "c14361_242" -->
<a id="c14361_242"></a><blockquote class="code"><p class="quoted">
Backstage is a room. &quot;A muffled black room with felt on the floors and walls. A glowing sign over the stage door says SHOW IN PROGRESS.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14362_242" -->
<a id="c14362_242"></a><blockquote class="code"><p class="quoted">
The Juggling Equipment Catalog is a thing in Backstage.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14363_242" -->
<a id="c14363_242"></a><blockquote class="code"><p class="quoted">
Instead of examining the Catalog:
<br />&#160;&#160;&#160;&#160;say &quot;You read through the offerings, including: [paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;repeat through Table of Juggling Equipment:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[bold type][toy entry][roman type]: [description entry] [cost entry], [restriction entry]. [paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14364_242" -->
<a id="c14364_242"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;Budget: [price of the player]&quot;;
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;[location], feeling [if the difficulty of player is easy]incompetent[end if][if the difficulty of player is moderate]moderately skilled[end if][if the difficulty of player is hard]highly skilled[end if]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And of course this will be no fun unless the player is allowed to use the equipment:</p>
<!-- START CODE "c14365_242" -->
<a id="c14365_242"></a><blockquote class="code"><p class="quoted">
Understand &quot;juggle [something]&quot; as juggling.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14366_242" -->
<a id="c14366_242"></a><blockquote class="code"><p class="quoted">
Juggling is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14367_242" -->
<a id="c14367_242"></a><blockquote class="code"><p class="quoted">
Check juggling:
<br />&#160;&#160;&#160;&#160;if the noun is not a toy listed in the Table of Juggling Equipment, say &quot;You can't juggle [a noun]!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the difficulty of the noun is greater than the difficulty of the player, say &quot;You're not quite ready to juggle something like [the noun]. Better to start with an easier toy.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14368_242" -->
<a id="c14368_242"></a><blockquote class="code"><p class="quoted">
Carry out juggling:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 3 succeeds:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the difficulty of the player is less than hard and the difficulty of the player is the difficulty of the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the difficulty of the player is the difficulty after the difficulty of the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14369_242" -->
<a id="c14369_242"></a><blockquote class="code"><p class="quoted">
Report juggling:
<br />&#160;&#160;&#160;&#160;say &quot;[outcome of the noun][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14370_242" -->
<a id="c14370_242"></a><blockquote class="code"><p class="quoted">
Instead of burning the fireball set:
<br />&#160;&#160;&#160;&#160;say &quot;It will flame by itself when you use it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c14371_242" -->
<a id="c14371_242"></a><blockquote class="code"><p class="quoted">
Test me with &quot;read catalog / buy economy / buy beanbag / juggle economy / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle economy / juggle economy / juggle economy / buy fireball set / juggle fireball&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc70.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc72.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
