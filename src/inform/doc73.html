<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>5.5. Text with lists</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Text with lists" -->
<!-- SEARCH SECTION "5.5" -->
<!-- SEARCH SORT "000-005-005-000" -->
<!-- START IGNORE 72 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc72.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 5: Text</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc74.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง5.5. Text with lists</p>
<p>We often want running text to include lists of items.</p>
<!-- START PHRASE "defn17" -->
<div class="definition"><a id="defn17"></a><p class="defnprototype"><b>say &quot;[list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_listof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Example:</p>
<!-- START CODE "c870" -->
<a id="c870"></a><blockquote class="code"><p class="quoted">
&quot;Mr Darcy glares proudly at you. He is wearing [list of things worn by Darcy] and carrying [list of things carried by Darcy].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And, if this were from a dramatisation of the novel by Miss Fielding rather than Miss Austen, we might find:</p>
<!-- START CODE "c871" -->
<a id="c871"></a><blockquote class="code"><p class="quoted">
Mr Darcy glares proudly at you. He is wearing a pair of Newcastle United boxer shorts and carrying a self-help book.
</p></blockquote>
<!-- END CODE -->
<p>If the description matches nothing - for instance, if Darcy has empty hands - then &quot;nothing&quot; is printed.</p>

<!-- end definition -->
</div>

<p>As with all lists in Inform, the serial comma is only used if the &quot;Use serial comma.&quot; option is in force. So by default we would get &quot;a fishing pole, a hook and a sinker&quot;, rather than &quot;a fishing pole, a hook, and a sinker&quot;.</p>
<p>We then need variations to add indefinite or definite articles, and to capitalise the first item. For example,</p>
<!-- START CODE "c872" -->
<a id="c872"></a><blockquote class="code"><p class="quoted">
&quot;Mr Darcy impatiently bundles [the list of things carried by Darcy] into your hands and stomps out of the room.&quot;
</p></blockquote>
<!-- END CODE -->
<p>might result in</p>
<!-- START CODE "c873" -->
<a id="c873"></a><blockquote class="code"><p class="quoted">
Mr Darcy impatiently bundles the self-help book and the Christmas card into your hands and stomps out of the room.
</p></blockquote>
<!-- END CODE -->
<!-- START PHRASE "defn18" -->
<div class="definition"><a id="defn18"></a><p class="defnprototype"><b>say &quot;[a list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_alistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its indefinite article. Example:</p>
<!-- START CODE "c874" -->
<a id="c874"></a><blockquote class="code"><p class="quoted">
a maritime bill of lading, some hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn19" -->
<div class="definition"><a id="defn19"></a><p class="defnprototype"><b>say &quot;[A list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_Alistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its indefinite article, and the first is capitalised, so that it can be used at the beginning of a sentence. Example:</p>
<!-- START CODE "c875" -->
<a id="c875"></a><blockquote class="code"><p class="quoted">
A maritime bill of lading, some hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn20" -->
<div class="definition"><a id="defn20"></a><p class="defnprototype"><b>say &quot;[the list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_thelistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its definite article. Example:</p>
<!-- START CODE "c876" -->
<a id="c876"></a><blockquote class="code"><p class="quoted">
the maritime bill of lading, the hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn21" -->
<div class="definition"><a id="defn21"></a><p class="defnprototype"><b>say &quot;[The list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_Thelistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its definite article, and the first is capitalised, so that it can be used at the beginning of a sentence. Example:</p>
<!-- START CODE "c877" -->
<a id="c877"></a><blockquote class="code"><p class="quoted">
The maritime bill of lading, the hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>So much for articles. A more insidious problem comes with something like this:</p>
<!-- START CODE "c878" -->
<a id="c878"></a><blockquote class="code"><p class="quoted">
&quot;The places you can go are [list of rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<p>The trouble is that the list may end up either singular or plural. We might be expecting something like:</p>
<!-- START CODE "c879" -->
<a id="c879"></a><blockquote class="code"><p class="quoted">
The places you can go are Old Bailey, Bridget's Flat and TV Centre.
</p></blockquote>
<!-- END CODE -->
<p>But if there is only one room, then the result might be:</p>
<!-- START CODE "c880" -->
<a id="c880"></a><blockquote class="code"><p class="quoted">
The places you can go are Bridget's Flat.
</p></blockquote>
<!-- END CODE -->
<p>which is wrong. We can get around this with careful wording and a slightly different substitution:</p>
<!-- START CODE "c881" -->
<a id="c881"></a><blockquote class="code"><p class="quoted">
&quot;Nearby [is-are list of rooms].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START PHRASE "defn22" -->
<div class="definition"><a id="defn22"></a><p class="defnprototype"><b>say &quot;[is-are list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_islistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. The whole list starts with &quot;is&quot; (if there's one item or none) or &quot;are&quot; (more than one). Examples:</p>
<!-- START CODE "c882" -->
<a id="c882"></a><blockquote class="code"><p class="quoted">
is marlin-spike
<br />are maritime bill of lading, hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn23" -->
<div class="definition"><a id="defn23"></a><p class="defnprototype"><b>say &quot;[is-are a list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_isalistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its indefinite article, and the whole list starts with &quot;is&quot; (if there's one item or none) or &quot;are&quot; (more than one). Examples:</p>
<!-- START CODE "c883" -->
<a id="c883"></a><blockquote class="code"><p class="quoted">
is a marlin-spike
<br />are a maritime bill of lading, some hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn24" -->
<div class="definition"><a id="defn24"></a><p class="defnprototype"><b>say &quot;[is-are the list of </b>(description of objects)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_isthelistof -->

<p>This text substitution produces a list, in sentence form, of everything matching the description. Each item is prefaced by its definite article, and the whole list starts with &quot;is&quot; (if there's one item or none) or &quot;are&quot; (more than one). Examples:</p>
<!-- START CODE "c884" -->
<a id="c884"></a><blockquote class="code"><p class="quoted">
is the marlin-spike
<br />are the maritime bill of lading, the hemp rope and Falconer's Naval Dictionary
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn25" -->
<div class="definition"><a id="defn25"></a><p class="defnprototype"><b>say &quot;[a list of </b>(description of objects)<b> including contents]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_alistofconts -->

<p>This text substitution produces a list, in sentence form, of everything matching the description, noting any contents in brackets. This is really intended only to be used by the Standard Rules.</p>

<!-- end definition -->
</div>

<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "61: Control Center" "e391" -->
<a id="e391"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example391'); return false;"><b>61</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example391'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Control Center</span></b></a><br />Objects which automatically include a description of their component parts whenever they are examined.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc75.html#e391"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example391" style="display: none;">
<p>It is straightforward to make a rule that anything with parts must mention all those parts during an EXAMINE command:</p>
<!-- START CODE "c885_391" -->
<a id="c885_391"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Control Center[=0x0022=][=0x000A=][=0x000A=]After examining a thing when something is part of the noun:[=0x000A=][=0x0009=]say [=0x0022=][The noun] includes [a list of things which are part of the noun].[=0x0022=][=0x000A=][=0x000A=]The Control Center is a room. [=0x0022=]Here you are at the Control Center of the universe.[=0x0022=][=0x000A=][=0x000A=]The Universe Management Computer is a fixed in place thing in the Control Center. [=0x0022=]The Universe Management Computer sits directly before you, unguarded.[=0x0022=] The description of the Universe Management Computer is [=0x0022=]The computer is so large that you would be unable to operate it all from one position. Alas, it does not come with a manual.[=0x0022=][=0x000A=][=0x000A=]A chartreuse indicator light, an ennui meter, a golden knob settable to 15,000 positions, a toothpick dispenser, and a button labeled RESTART are part of the Universe Management Computer.[=0x000A=][=0x000A=]The command chair is an enterable supporter in the Control Center. It is pushable between rooms. [=0x0022=]Because the computer is too large for you to reach all of the front panel from a standing position, there is a command chair on casters which allows you to push back and forth.[=0x0022=] The description of the command chair is [=0x0022=]Quite ordinary, really, but for the heady rush of power that comes of sitting in it.[=0x0022=]. Some casters are part of the command chair.[=0x000A=][=0x000A=][Now whenever we look at any object with components, we will first see the description, then a list of parts which belong to it. The following refinement brings in elements of later chapters, but it may be worth noting: because we[=0x0027=]ve written our rule as an [=0x0022=]After examining...[=0x0022=], anything that pre-empts the operation of the examine command will also prevent that rule from occurring. So for instance:][=0x000A=][=0x000A=]A hair-thick needle is part of the ennui meter.[=0x000A=][=0x000A=]Instead of examining the ennui meter: say [=0x0022=]You can[=0x0027=]t be bothered.[=0x0022=][=0x000A=][=0x000A=][...would not result in the needle being mentioned.][=0x000A=][=0x000A=]Test me with [=0x0022=]x chair / x computer / x ennui meter[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Control Center&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c886_391" -->
<a id="c886_391"></a><blockquote class="code"><p class="quoted">
After examining a thing when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] includes [a list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c887_391" -->
<a id="c887_391"></a><blockquote class="code"><p class="quoted">
The Control Center is a room. &quot;Here you are at the Control Center of the universe.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c888_391" -->
<a id="c888_391"></a><blockquote class="code"><p class="quoted">
The Universe Management Computer is a fixed in place thing in the Control Center. &quot;The Universe Management Computer sits directly before you, unguarded.&quot; The description of the Universe Management Computer is &quot;The computer is so large that you would be unable to operate it all from one position. Alas, it does not come with a manual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c889_391" -->
<a id="c889_391"></a><blockquote class="code"><p class="quoted">
A chartreuse indicator light, an ennui meter, a golden knob settable to 15,000 positions, a toothpick dispenser, and a button labeled RESTART are part of the Universe Management Computer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c890_391" -->
<a id="c890_391"></a><blockquote class="code"><p class="quoted">
The command chair is an enterable supporter in the Control Center. It is pushable between rooms. &quot;Because the computer is too large for you to reach all of the front panel from a standing position, there is a command chair on casters which allows you to push back and forth.&quot; The description of the command chair is &quot;Quite ordinary, really, but for the heady rush of power that comes of sitting in it.&quot;. Some casters are part of the command chair.
</p></blockquote>
<!-- END CODE -->
<p>Now whenever we look at any object with components, we will first see the description, then a list of parts which belong to it. The following refinement brings in elements of later chapters, but it may be worth noting: because we've written our rule as an &quot;After examining...&quot;, anything that pre-empts the operation of the examine command will also prevent that rule from occurring. So for instance:</p>
<!-- START CODE "c891_391" -->
<a id="c891_391"></a><blockquote class="code"><p class="quoted">
A hair-thick needle is part of the ennui meter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c892_391" -->
<a id="c892_391"></a><blockquote class="code"><p class="quoted">
Instead of examining the ennui meter: say &quot;You can't be bothered.&quot;
</p></blockquote>
<!-- END CODE -->
<p>...would not result in the needle being mentioned.</p>
<!-- START CODE "c893_391" -->
<a id="c893_391"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x chair / x computer / x ennui meter&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "62: Tiny Garden" "e231" -->
<a id="e231"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example231'); return false;"><b>62</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example231'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tiny Garden</span></b></a><br />A lawn made up of several rooms, with part of the description written automatically.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc11.html#e231"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example231" style="display: none;">
<p>Sometimes we want to make a list of something too complicated to express in a say list... phrase. When this happens, we can instead mark all the items we want to mention as &quot;marked for listing&quot;.</p>
<p>In this case, we have a lawn area made up of four rooms. We want each room to automatically describe the directions leading to the other parts of the lawn. To do this, we will first determine which directions are relevant and mark those for listing, then list them.</p>
<!-- START CODE "c894_231" -->
<a id="c894_231"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Tiny Garden[=0x0022=][=0x000A=][=0x000A=]The Herb Garden is a room. [=0x0022=]Along this side of the house run your great-aunt[=0x0027=]s herb beds.[=0x0022=][=0x000A=][=0x000A=]A Grassy Room is a kind of room. The printed name of a Grassy Room is usually [=0x0022=]Lawn[=0x0022=]. The description of a Grassy Room is [=0x0022=]The grass underfoot is thick and green. The lawn extends to [grassy directions] from here.[=0x0022=][=0x000A=][=0x000A=][The following phrase goes through all the directions in the compass and marks the ones that are interesting to us at the moment.][=0x000A=][=0x000A=]To say grassy directions:[=0x000A=][=0x0009=]repeat with that way running through directions:[=0x000A=][=0x0009=][=0x0009=]if the room that way from the location is a grassy room,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now that way is marked for listing;[=0x000A=][=0x0009=]say [=0x0022=][a list of directions which are marked for listing][=0x0022=];[=0x000A=][=0x0009=]now every direction is not marked for listing.[=0x000A=][=0x000A=]Lawn1 is west of the Herb Garden. It contains a picnic table and a wicker basket. Lawn2 is south of Lawn1 and southeast of Lawn4. Lawn3 is southwest of Lawn1, west of Lawn2, and south of Lawn4. Lawn4 is west of Lawn1. Lawn4 contains a birdbath. The birdbath is fixed in place.[=0x000A=][=0x000A=]Lawn1, Lawn2, Lawn3, and Lawn4 are Grassy Rooms.[=0x000A=][=0x000A=]Test me with [=0x0022=]w / s / w / n[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Tiny Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c895_231" -->
<a id="c895_231"></a><blockquote class="code"><p class="quoted">
The Herb Garden is a room. &quot;Along this side of the house run your great-aunt's herb beds.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c896_231" -->
<a id="c896_231"></a><blockquote class="code"><p class="quoted">
A Grassy Room is a kind of room. The printed name of a Grassy Room is usually &quot;Lawn&quot;. The description of a Grassy Room is &quot;The grass underfoot is thick and green. The lawn extends to [grassy directions] from here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The following phrase goes through all the directions in the compass and marks the ones that are interesting to us at the moment.</p>
<!-- START CODE "c897_231" -->
<a id="c897_231"></a><blockquote class="code"><p class="quoted">
To say grassy directions:
<br />&#160;&#160;&#160;&#160;repeat with that way running through directions:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the room that way from the location is a grassy room,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now that way is marked for listing;
<br />&#160;&#160;&#160;&#160;say &quot;[a list of directions which are marked for listing]&quot;;
<br />&#160;&#160;&#160;&#160;now every direction is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c898_231" -->
<a id="c898_231"></a><blockquote class="code"><p class="quoted">
Lawn1 is west of the Herb Garden. It contains a picnic table and a wicker basket. Lawn2 is south of Lawn1 and southeast of Lawn4. Lawn3 is southwest of Lawn1, west of Lawn2, and south of Lawn4. Lawn4 is west of Lawn1. Lawn4 contains a birdbath. The birdbath is fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c899_231" -->
<a id="c899_231"></a><blockquote class="code"><p class="quoted">
Lawn1, Lawn2, Lawn3, and Lawn4 are Grassy Rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c900_231" -->
<a id="c900_231"></a><blockquote class="code"><p class="quoted">
Test me with &quot;w / s / w / n&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc72.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc74.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
