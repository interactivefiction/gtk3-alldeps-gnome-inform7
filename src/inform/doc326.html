<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.40. Starting the virtual machine</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Starting the virtual machine" -->
<!-- SEARCH SECTION "18.40" -->
<!-- SEARCH SORT "000-018-040-000" -->
<!-- START IGNORE 325 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc325.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 18: Activities</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc327.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง18.40. Starting the virtual machine</p>
<p><span class="boldface">1. When it happens.</span> This activity is provided solely as a &quot;hook&quot; for any low-level tasks which need to be performed when the virtual computer which runs Inform story files is starting up. This happens much earlier than &quot;when play begins&quot; rules, and should be used only as a last resort.</p>
<p>It should be remembered that Inform can produce story files for several different virtual computers. On some of these, it will not be safe to print any text during this activity, as the windows which would display such text do not yet exist.</p>
<p><span class="boldface">2. The default behaviour.</span> None.</p>
<p><span class="boldface">3. Examples.</span> No detailed examples will be given here, but the activity might be used (for instance) to set styles for the Glulx windows shortly to be brought into existence.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "387: Blankness" "e388" -->
<a id="e388"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example388'); return false;"><b>387</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example388'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Blankness</span></b></a><br />Emptying the status line during the first screen of the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc98.html#e388"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example388" style="display: none;">
<p>Occasionally we want to print something as our first screen and then pause the game. By default, Inform will print a rather odd status line, with &quot;You&quot; on the left side and &quot;0&quot; on the right. This is because the left hand status line is set to display the location, but (because we're not done with the when-play-begins rules) the player has not yet even been moved to a room.</p>
<p>We can tidy this up in the &quot;starting the virtual machine&quot; activity, by temporarily changing the status line content. We will not provide game-pausing code here, because that is easily done by extension; so:</p>
<!-- START CODE "c7351_388" -->
<a id="c7351_388"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Blankness[=0x0022=][=0x000A=][=0x000A=]Include Basic Screen Effects by Emily Short.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]take me home[=0x0022=];[=0x000A=][=0x0009=]wait for any key;[=0x000A=][=0x0009=]say [=0x0022=] yeah[=0x0022=];[=0x000A=][=0x0009=]wait for any key;[=0x000A=][=0x0009=]say [=0x0022=] yeah[=0x0022=];[=0x000A=][=0x0009=]pause the game;[=0x000A=][=0x0009=]now the left hand status line is [=0x0022=][location][=0x0022=];[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][turn count][=0x0022=].[=0x000A=][=0x000A=]Before starting the virtual machine:[=0x000A=][=0x0009=]now the left hand status line is [=0x0022=][=0x0022=];[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][=0x0022=].[=0x000A=][=0x000A=]Paradise City is a room. The description of Paradise City is [=0x0022=]The grass is green and the girls are pretty.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Blankness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7352_388" -->
<a id="c7352_388"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7353_388" -->
<a id="c7353_388"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;take me home&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;wait for any key;
<br />&#160;&#160;&#160;&#160;say &quot; yeah&quot;;
<br />&#160;&#160;&#160;&#160;pause the game;
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;[location]&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[turn count]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7354_388" -->
<a id="c7354_388"></a><blockquote class="code"><p class="quoted">
Before starting the virtual machine:
<br />&#160;&#160;&#160;&#160;now the left hand status line is &quot;&quot;;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7355_388" -->
<a id="c7355_388"></a><blockquote class="code"><p class="quoted">
Paradise City is a room. The description of Paradise City is &quot;The grass is green and the girls are pretty.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Quite a modest effect, but occasionally useful.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc325.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc327.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
