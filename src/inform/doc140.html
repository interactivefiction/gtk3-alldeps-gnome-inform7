<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.6. The time of day</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "The time of day" -->
<!-- SEARCH SECTION "9.6" -->
<!-- SEARCH SORT "000-009-006-000" -->
<!-- START IGNORE 139 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc139.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 9: Time</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc141.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง9.6. The time of day</p>
<p>Inform keeps track of the time of day automatically: play ordinarily begins at 9 AM and each turn takes one minute. In some works of interactive fiction, time of day is crucial: in others, it is irrelevant or even, by a sort of tacit convention, non-existent. So Inform does nothing to act upon the time, or to reveal it to the player, without instruction. Nevertheless it is there.</p>
<p>A sentence like the following allows the initial time to be set up as something other than 9 AM:</p>
<!-- START CODE "c2180" -->
<a id="c2180"></a><blockquote class="code"><p class="quoted">
The time of day is 3:13 PM.
</p></blockquote>
<!-- END CODE -->
<p>Here, &quot;3:13 PM&quot; is a constant value of a kind not seen before: it's a kind of value called &quot;time&quot;, and the value &quot;time of day&quot; is a time that varies. After one turn it will be 3:14 PM, then 3:15 PM and so on.</p>
<p>Note that the sentence above is an assertion (a statement about the initial state of affairs), not an instruction which can be part of a rule. It would be equivalent to write:</p>
<!-- START CODE "c2181" -->
<a id="c2181"></a><blockquote class="code"><p class="quoted">
When play begins: now the time of day is 3:13 PM.
</p></blockquote>
<!-- END CODE -->
<p>We more often change &quot;time of day&quot; to take care of drastic events:</p>
<!-- START CODE "c2182" -->
<a id="c2182"></a><blockquote class="code"><p class="quoted">
At the time when the player loses consciousness:
<br />&#160;&#160;&#160;&#160;now the time of day is 10:12 AM;
<br />&#160;&#160;&#160;&#160;say &quot;A mist comes over your vision, and when you come to, it is morning and you are in bed.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "141: IPA" "e107" -->
<a id="e107"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example107'); return false;"><b>141</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example107'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">IPA</span></b></a><br />Shops which each have opening and closing hours, so that it is impossible to go in at the wrong times, and the player is kicked out if he overstays his welcome.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc19.html#e107"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example107" style="display: none;">
<p>Suppose we wanted a game set in a living town, with locations opening and closing at different times of day, and business carrying on as usual. The point might be to force the player to plan his itinerary carefully to hit the right spots at the right times; or we might be writing a more contemplative piece, where part of the enjoyment came from just watching the characters wander around doing their daily business...</p>
<!-- START CODE "c2183_107" -->
<a id="c2183_107"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]IPA[=0x0022=][=0x000A=][=0x000A=]When play begins: now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]The time of day is 9:50 AM.[=0x000A=][=0x000A=]A shop is a kind of room. A shop has a time called the opening hour. The opening hour of the shop is usually 8 AM. A shop has a time called the closing hour. A shop usually has closing hour 6 PM.[=0x000A=][=0x000A=]Check going to a shop (called the target):[=0x000A=][=0x0009=]if the time of day is before the opening hour of the target,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The target] is locked up until [the opening hour of the target].[=0x0022=] instead.[=0x000A=][=0x000A=]Check going to a shop (called the target):[=0x000A=][=0x0009=]if the time of day is after the closing hour of the target,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The target] has been closed since [the closing hour of the target].[=0x0022=] instead.[=0x000A=][=0x000A=]Every turn when the location is a shop:[=0x000A=][=0x0009=]let deadline be the closing hour of the location;[=0x000A=][=0x0009=]if the deadline is before the time of day:[=0x000A=][=0x0009=][=0x0009=]let target be a random adjacent room which is not a shop;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You are gently but firmly ushered out, since [the location] is closing.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]move the player to the target.[=0x000A=][=0x000A=]The Strip-mall Parking Lot is a room. [=0x0022=]Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.[=0x000A=][=0x000A=]Pinewood Brewing Supply is at the east end of the lot.[=0x0022=][=0x000A=][=0x000A=]Pinewood Brewing Supply is a shop. It is east of Parking Lot. The opening hour of Pinewood Brewing Supply is 10:00 AM. The closing hour of Pinewood Brewing Supply is 3:30 PM. [=0x0022=]Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.[=0x000A=][=0x000A=]A sweet malty smell hangs in the air.[=0x0022=][=0x000A=][=0x000A=]Instead of going to Brewing Supply when the time of day is before the opening hour of Brewing Supply for the second time:[=0x000A=][=0x0009=]say [=0x0022=]You rattle at the door again. [=0x0027=]Hold your horses, for crying out loud,[=0x0027=] yells a voice from within.[=0x0022=][=0x000A=][=0x000A=]Noah[=0x0027=]s Bagels is a shop. It is north of the Parking Lot. The opening hour of Noah[=0x0027=]s Bagels is 6:00 AM. The closing hour of Noah[=0x0027=]s Bagels is 11:00 AM. [=0x0022=]The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]e / e / n / z / s / e / z / e / z / z / e[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;IPA&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2184_107" -->
<a id="c2184_107"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2185_107" -->
<a id="c2185_107"></a><blockquote class="code"><p class="quoted">
The time of day is 9:50 AM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2186_107" -->
<a id="c2186_107"></a><blockquote class="code"><p class="quoted">
A shop is a kind of room. A shop has a time called the opening hour. The opening hour of the shop is usually 8 AM. A shop has a time called the closing hour. A shop usually has closing hour 6 PM.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2187_107" -->
<a id="c2187_107"></a><blockquote class="code"><p class="quoted">
Check going to a shop (called the target):
<br />&#160;&#160;&#160;&#160;if the time of day is before the opening hour of the target,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The target] is locked up until [the opening hour of the target].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2188_107" -->
<a id="c2188_107"></a><blockquote class="code"><p class="quoted">
Check going to a shop (called the target):
<br />&#160;&#160;&#160;&#160;if the time of day is after the closing hour of the target,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The target] has been closed since [the closing hour of the target].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2189_107" -->
<a id="c2189_107"></a><blockquote class="code"><p class="quoted">
Every turn when the location is a shop:
<br />&#160;&#160;&#160;&#160;let deadline be the closing hour of the location;
<br />&#160;&#160;&#160;&#160;if the deadline is before the time of day:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let target be a random adjacent room which is not a shop;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You are gently but firmly ushered out, since [the location] is closing.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2190_107" -->
<a id="c2190_107"></a><blockquote class="code"><p class="quoted">
The Strip-mall Parking Lot is a room. &quot;Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2191_107" -->
<a id="c2191_107"></a><blockquote class="code"><p class="quoted">
Pinewood Brewing Supply is at the east end of the lot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2192_107" -->
<a id="c2192_107"></a><blockquote class="code"><p class="quoted">
Pinewood Brewing Supply is a shop. It is east of Parking Lot. The opening hour of Pinewood Brewing Supply is 10:00 AM. The closing hour of Pinewood Brewing Supply is 3:30 PM. &quot;Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2193_107" -->
<a id="c2193_107"></a><blockquote class="code"><p class="quoted">
A sweet malty smell hangs in the air.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2194_107" -->
<a id="c2194_107"></a><blockquote class="code"><p class="quoted">
Instead of going to Brewing Supply when the time of day is before the opening hour of Brewing Supply for the second time:
<br />&#160;&#160;&#160;&#160;say &quot;You rattle at the door again. 'Hold your horses, for crying out loud,' yells a voice from within.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2195_107" -->
<a id="c2195_107"></a><blockquote class="code"><p class="quoted">
Noah's Bagels is a shop. It is north of the Parking Lot. The opening hour of Noah's Bagels is 6:00 AM. The closing hour of Noah's Bagels is 11:00 AM. &quot;The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c2196_107" -->
<a id="c2196_107"></a><blockquote class="code"><p class="quoted">
Test me with &quot;e / e / n / z / s / e / z / e / z / z / e&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc139.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc141.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
