<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>4.12. Values that vary</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Values that vary" -->
<!-- SEARCH SECTION "4.12" -->
<!-- SEARCH SORT "000-004-012-000" -->
<!-- START IGNORE 62 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc62.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 4: Kinds</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc64.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง4.12. Values that vary</p>
<p>Sometimes a value important to the simulated world will not naturally belong to any thing or room, and should not be kept in a property. In fact, we have seen a value that varies already: &quot;location&quot;, which holds the room in which the story is presently taking place. Here's how we might make a new one:</p>
<!-- START CODE "c714" -->
<a id="c714"></a><blockquote class="code"><p class="quoted">
The prevailing wind is a direction that varies. The prevailing wind is southwest.
</p></blockquote>
<!-- END CODE -->
<p>Or &quot;which varies&quot; would also be allowed, as would the more traditional computing term &quot;variable&quot;:</p>
<!-- START CODE "c715" -->
<a id="c715"></a><blockquote class="code"><p class="quoted">
The prevailing wind is a direction variable. The prevailing wind is southwest.
</p></blockquote>
<!-- END CODE -->
<p>A briefer way to do this is to use the word &quot;initially&quot;, which alerts Inform to the possibility that the value will change in future:</p>
<!-- START CODE "c716" -->
<a id="c716"></a><blockquote class="code"><p class="quoted">
The prevailing wind is initially southwest.
</p></blockquote>
<!-- END CODE -->
<p>This creates the variable and gives it an initial value all in one sentence.</p>
<p>It's not compulsory to give an initial value. If we do not, Inform will use the default value for its kind. (See the table in the Kinds index.) For example, writing just</p>
<!-- START CODE "c717" -->
<a id="c717"></a><blockquote class="code"><p class="quoted">
The grand tally is a number that varies.
</p></blockquote>
<!-- END CODE -->
<p>will start it at the value 0, because that's the default value for numbers.</p>
<p>We can have variables of any of the kinds of value, including new ones, but should watch out for a potential error. If we write:</p>
<!-- START CODE "c718" -->
<a id="c718"></a><blockquote class="code"><p class="quoted">
The receptacle is a container that varies.
</p></blockquote>
<!-- END CODE -->
<p>in a world which has no containers at all, Inform will object, because it will be unable to put any initial value into the receptacle variable. A similar complaint will be made if we write:</p>
<!-- START CODE "c719" -->
<a id="c719"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The fashionable shade is a colour that varies.
</p></blockquote>
<!-- END CODE -->
<p>without ever having defined any colours. Something else we are not permitted is:</p>
<!-- START CODE "c720" -->
<a id="c720"></a><blockquote class="code"><p class="quoted">
The receptacle is an open container that varies.
</p></blockquote>
<!-- END CODE -->
<p>because the openness of a given container may change during play, so that the value in the variable might suddenly become invalid even though the variable itself had not changed.</p>
<p>As a final note on kinds, when Inform reads something like this:</p>
<!-- START CODE "c721" -->
<a id="c721"></a><blockquote class="code"><p class="quoted">
Peter is a man. The accursed one is initially Peter.
</p></blockquote>
<!-- END CODE -->
<p>it has to make a decision about the kind of &quot;accursed one&quot;. Peter is a &quot;man&quot;, so that seems like the right answer, but Inform wants to play safe in case the variable later needs to change to a woman called Jane, say, or even a black hat. So Inform in fact creates &quot;accursed one&quot; as an object that varies, not a man that varies, to give us the maximum freedom to use it. If we don't want that then we can override it:</p>
<!-- START CODE "c722" -->
<a id="c722"></a><blockquote class="code"><p class="quoted">
Peter is a man. The accursed one is initially Peter.
<br />The accursed one is a man that varies.
</p></blockquote>
<!-- END CODE -->
<p>thus telling Inform exactly what is intended.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "54: Real Adventurers Need No Help" "e21" -->
<a id="e21"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example21'); return false;"><b>54</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example21'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Real Adventurers Need No Help</span></b></a><br />Allowing the player to turn off all access to hints for the duration of a game, in order to avoid the temptation to rely on them overmuch.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc93.html#e21"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example21" style="display: none;">
<p>Suppose we have an action called &quot;asking for help&quot; that gives the player some hints on request. We've also made it possible to turn this feature off, if the player would like to discourage himself from using the hints too much. Now we need a value that varies to keep track of whether hints are currently permitted or currently not permitted. So we might write:</p>
<!-- START CODE "c723_21" -->
<a id="c723_21"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Real Adventurers Need No Help[=0x0022=][=0x000A=][=0x000A=]A permission is a kind of value. The permissions are allowed and denied.[=0x000A=][=0x000A=]Hint usage is a permission that varies. Hint usage is allowed.[=0x000A=][=0x000A=][And under the right circumstances, we change hint usage to denied:][=0x000A=][=0x000A=]Check asking for help for the first time:[=0x000A=][=0x0009=]say [=0x0022=]Sometimes the temptation to rely on hints becomes overwhelming, and you may prefer to turn off hints now. If you do so, your further requests for guidance will be unavailing. Turn off hints? [=0x003E=][=0x0022=];[=0x000A=][=0x0009=]if player consents:[=0x000A=][=0x0009=][=0x0009=]now hint usage is denied;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][line break]Truly, a real adventurer does not need hints.[=0x0022=] instead.[=0x000A=][=0x000A=][Then we can refer back to this value later to decide whether we want to display the hint menu or not:][=0x000A=][=0x000A=]Check asking for help:[=0x000A=][=0x0009=]if hint usage is denied, say [=0x0022=]You have chosen to eschew hints in this game. Be strong! Persevere![=0x0022=] instead.[=0x000A=][=0x000A=]Asking for help is an action out of world. Understand [=0x0022=]help[=0x0022=] or [=0x0022=]hint[=0x0022=] or [=0x0022=]hints[=0x0022=] as asking for help.[=0x000A=][=0x000A=]The Realm of Terribly Unjust Puzzles is a room.[=0x000A=][=0x000A=]Carry out asking for help:[=0x000A=][=0x0009=]say [=0x0022=]Fine, since you[=0x0027=]re weak enough to ask: here is a complete walkthrough: GET EGG. PEEL EGG. SMELL EGG. DIVIDE YOLK INTO THREE PORTIONS. GIVE THE SMALLEST PORTION OF YOLK TO THE GOLDEN GOOSE. ASK THE GOOSE ABOUT WHETHER THE SWAN IS TO BE TRUSTED. GIVE THE LARGEST PORTION OF YOLK TO THE SWAN. DANCE CONGA. EAT MEDIUM PORTION. STAND ON HEAD. WEST.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]hint[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Real Adventurers Need No Help&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c724_21" -->
<a id="c724_21"></a><blockquote class="code"><p class="quoted">
A permission is a kind of value. The permissions are allowed and denied.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c725_21" -->
<a id="c725_21"></a><blockquote class="code"><p class="quoted">
Hint usage is a permission that varies. Hint usage is allowed.
</p></blockquote>
<!-- END CODE -->
<p>And under the right circumstances, we change hint usage to denied:</p>
<!-- START CODE "c726_21" -->
<a id="c726_21"></a><blockquote class="code"><p class="quoted">
Check asking for help for the first time:
<br />&#160;&#160;&#160;&#160;say &quot;Sometimes the temptation to rely on hints becomes overwhelming, and you may prefer to turn off hints now. If you do so, your further requests for guidance will be unavailing. Turn off hints? &gt;&quot;;
<br />&#160;&#160;&#160;&#160;if player consents:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now hint usage is denied;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[line break]Truly, a real adventurer does not need hints.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Then we can refer back to this value later to decide whether we want to display the hint menu or not:</p>
<!-- START CODE "c727_21" -->
<a id="c727_21"></a><blockquote class="code"><p class="quoted">
Check asking for help:
<br />&#160;&#160;&#160;&#160;if hint usage is denied, say &quot;You have chosen to eschew hints in this game. Be strong! Persevere!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c728_21" -->
<a id="c728_21"></a><blockquote class="code"><p class="quoted">
Asking for help is an action out of world. Understand &quot;help&quot; or &quot;hint&quot; or &quot;hints&quot; as asking for help.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c729_21" -->
<a id="c729_21"></a><blockquote class="code"><p class="quoted">
The Realm of Terribly Unjust Puzzles is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c730_21" -->
<a id="c730_21"></a><blockquote class="code"><p class="quoted">
Carry out asking for help:
<br />&#160;&#160;&#160;&#160;say &quot;Fine, since you're weak enough to ask: here is a complete walkthrough: GET EGG. PEEL EGG. SMELL EGG. DIVIDE YOLK INTO THREE PORTIONS. GIVE THE SMALLEST PORTION OF YOLK TO THE GOLDEN GOOSE. ASK THE GOOSE ABOUT WHETHER THE SWAN IS TO BE TRUSTED. GIVE THE LARGEST PORTION OF YOLK TO THE SWAN. DANCE CONGA. EAT MEDIUM PORTION. STAND ON HEAD. WEST.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c731_21" -->
<a id="c731_21"></a><blockquote class="code"><p class="quoted">
Test me with &quot;hint&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that it would probably be kinder to offer the player some intermediate level of help, in the actual event.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc62.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc64.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
