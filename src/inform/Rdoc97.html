<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>12.1. Typography</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Typography" -->
<!-- SEARCH SECTION "12.1" -->
<!-- SEARCH SORT "001-012-001-000" -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc96.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 12: Typography, Layout, and Multimedia Effects</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc98.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<p class="sectionheading">§12.1. Typography</p>
<p>Story files produced by Inform tend not to contain elaborate typographical effects. They would only distract. Like a novel, a classic work of IF is best presented in an elegant but unobtrusive font. Inform does, however, provide for italic and bold-face, and also for a typewriter-style fixed pitch of lettering:</p>
<!-- START CODE "c16370" -->
<a id="c16370"></a><blockquote class="code"><p class="quoted">
&quot;This is an [italic type]italicised[roman type] word.&quot;
<br />&quot;This is an [bold type]emboldened[roman type] word.&quot;
<br />&quot;This is a [fixed letter spacing]typewritten[variable letter spacing] word.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Authors making very frequent use of these might like to borrow the briefer definitions in <span class="boldface">Chanel Version 1</span>.</p>
<p>A very wide range of letter-forms is normally available (and even more in quoted text), so that the writer seldom needs to not worry whether, say, a sentence like</p>
<!-- START CODE "c16371" -->
<a id="c16371"></a><blockquote class="code"><p class="quoted">
A ticket to Tromsø via Østfold is in the Íslendingabók.
</p></blockquote>
<!-- END CODE -->
<p>will work. <span class="boldface">The Über-complète clavier</span> is an exhaustive test of such exotica.</p>
<p>Coloured type is trickier, and its availability depends on the story file format. For a Z-machine story, <span class="boldface">Garibaldi 2</span> demonstrates this.</p>
<p>Finally, <span class="boldface">Tilt 3</span> combines unusual letterforms (suit symbols) with red and black colours to render hands of cards typographically.</p>
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "69: Garibaldi 2" "e85" -->
<a id="e85"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example85'); return false;"><b>69</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example85'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Garibaldi 2</span></b></a><br />Adding coloured text to the example of door-status readouts.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc77.html#e85"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example85" style="display: none;">
<p>The extension &quot;Basic Screen Effects&quot; provides a few more type styles, in the form of coloured lettering. The colours available are red, yellow, green, blue, white, magenta, and cyan, as well as the usual black; and to restore the player's default screen colour, we say &quot;default letters&quot;.</p>
<p>Thus if we wanted to highlight locked and unlocked doors in our security readout example:</p>
<!-- START CODE "c16372_85" -->
<a id="c16372_85"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Garibaldi[=0x0022=][=0x000A=][=0x000A=]Include Basic Screen Effects by Emily Short.[=0x000A=][=0x000A=]The security readout is a device. The description of the readout is [=0x0022=]The screen is blank.[=0x0022=][=0x000A=][=0x000A=]Instead of examining the switched on security readout:[=0x000A=][=0x0009=]say [=0x0022=]The screen reads: [fixed letter spacing][=0x0022=];[=0x000A=][=0x0009=]say line break;[=0x000A=][=0x0009=]repeat with item running through doors:[=0x000A=][=0x0009=][=0x0009=]say line break;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]  [item] ([front side of the item]/[back side of the item]): [if the item is locked][green letters]LOCKED[default letters][otherwise][red letters]UNLOCKED[default letters][end if][=0x0022=];[=0x000A=][=0x0009=]say variable letter spacing;[=0x000A=][=0x0009=]say paragraph break.[=0x000A=][=0x000A=]The player carries the security readout.[=0x000A=][=0x000A=]The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.[=0x000A=][=0x000A=]The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.[=0x000A=][=0x000A=]The security pass unlocks the inner airlock. The player carries the security pass.[=0x000A=][=0x000A=]Test me with [=0x0022=]x readout / turn on readout / x readout / lock inner airlock with security pass / x readout[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Garibaldi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16373_85" -->
<a id="c16373_85"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16374_85" -->
<a id="c16374_85"></a><blockquote class="code"><p class="quoted">
The security readout is a device. The description of the readout is &quot;The screen is blank.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16375_85" -->
<a id="c16375_85"></a><blockquote class="code"><p class="quoted">
Instead of examining the switched on security readout:
<br />&#160;&#160;&#160;&#160;say &quot;The screen reads: [fixed letter spacing]&quot;;
<br />&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;repeat with item running through doors:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say line break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;  [item] ([front side of the item]/[back side of the item]): [if the item is locked][green letters]LOCKED[default letters][otherwise][red letters]UNLOCKED[default letters][end if]&quot;;
<br />&#160;&#160;&#160;&#160;say variable letter spacing;
<br />&#160;&#160;&#160;&#160;say paragraph break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16376_85" -->
<a id="c16376_85"></a><blockquote class="code"><p class="quoted">
The player carries the security readout.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16377_85" -->
<a id="c16377_85"></a><blockquote class="code"><p class="quoted">
The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16378_85" -->
<a id="c16378_85"></a><blockquote class="code"><p class="quoted">
The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16379_85" -->
<a id="c16379_85"></a><blockquote class="code"><p class="quoted">
The security pass unlocks the inner airlock. The player carries the security pass.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16380_85" -->
<a id="c16380_85"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x readout / turn on readout / x readout / lock inner airlock with security pass / x readout&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that this extension does not currently produce the desired effects when compiling with the Glulx setting; to see it working, make sure that the settings tab is set to compile to the Z-machine.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "453: Chanel Version 1" "e251" -->
<a id="e251"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example251'); return false;"><b>453</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example251'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Chanel Version 1</span></b></a><br />Making paired italic and boldface tags like those used by HTML for web pages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc457.html#e251"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example251" style="display: none;">
<p>HTML uses angled brackets to achieve effects, and places italicised text between &lt;i&gt; and &lt;/i&gt; tags; and similarly boldface between &lt;b&gt; and &lt;/b&gt;. We can mimic this very easily by setting each up as a segmented substitution:</p>
<!-- START CODE "c16381_251" -->
<a id="c16381_251"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Chanel Version 1[=0x0022=][=0x000A=][=0x000A=]To say i  -- beginning say_i -- running on: (- style underline; -).[=0x000A=]To say /i  -- ending say_i -- running on: (- style roman; -).[=0x000A=]To say b -- beginning say_b -- running on: (- style bold; -).[=0x000A=]To say /b -- ending say_b -- running on: (- style roman; -).[=0x000A=][=0x000A=]Place Vendôme is a room. [=0x0022=][i]Fashion fades, only style remains the same[/i] ([b]Coco Chanel[/b]). And this elegant drawing-room, once a milliner[=0x0027=]s shop, is a case in point.[=0x0022=][=0x000A=][=0x000A=]Instead of going nowhere, say [=0x0022=][i]Don[=0x0027=]t spend time beating on a wall, hoping to transform it into a door.[/i] ([b]Coco Chanel[/b]) This one is a wall.[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]look / e[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Chanel Version 1&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16382_251" -->
<a id="c16382_251"></a><blockquote class="code"><p class="quoted">
To say i  -- beginning say_i -- running on: (- style underline; -).
<br />To say /i  -- ending say_i -- running on: (- style roman; -).
<br />To say b -- beginning say_b -- running on: (- style bold; -).
<br />To say /b -- ending say_b -- running on: (- style roman; -).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16383_251" -->
<a id="c16383_251"></a><blockquote class="code"><p class="quoted">
Place Vendôme is a room. &quot;[i]Fashion fades, only style remains the same[/i] ([b]Coco Chanel[/b]). And this elegant drawing-room, once a milliner's shop, is a case in point.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16384_251" -->
<a id="c16384_251"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere, say &quot;[i]Don't spend time beating on a wall, hoping to transform it into a door.[/i] ([b]Coco Chanel[/b]) This one is a wall.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16385_251" -->
<a id="c16385_251"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We have had to use square instead of angle brackets, but then, &quot;in order to be irreplaceable one must always be different&quot; (Coco Chanel).</p>
<p>(Marking these as substitutions which run on prevents unexpected paragraph breaks if they should appear immediately after the end of a sentence.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "450: Tilt 3" "e347" -->
<a id="e347"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example347'); return false;"><b>450</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example347'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tilt 3</span></b></a><br />Displaying the card suits from our deck of cards with red and black colored unicode symbols.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc436.html#e347"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example347" style="display: none;">
<p>Books and articles about card-playing traditionally abbreviate card names into a simple two-symbol notation: a number or letter representing the card rank, followed by a symbol indicating the card suit. Suppose that we want to emulate this notation when taking inventory in our poker game.</p>
<p>The trick here is that colored output is done in different ways by the Z-Machine and by Glulx, so we'll need two different versions of the same section in order to produce this output. The relevant source is right at the beginning:</p>
<!-- START CODE "c16386_347" -->
<a id="c16386_347"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Tilt[=0x0022=][=0x000A=][=0x000A=]Section 0 - Colored Output in Two Forms[=0x000A=][=0x000A=][For the suit symbols, we[=0x0027=]ll want the Unicode extension included with Inform:][=0x000A=][=0x000A=]Include Unicode Character Names by Graham Nelson.[=0x000A=][=0x000A=]Rule for printing the name of a card (called target) while grouping together:[=0x000A=][=0x0009=]say [=0x0022=][rank of the target as abbreviated value][suit of the target as symbol][=0x0022=].[=0x000A=][=0x000A=]To say (current suit - a suit) as symbol:[=0x000A=][=0x0009=]if current suit is diamonds, say [=0x0022=][red letters][unicode black diamond suit][default letters][=0x0022=];[=0x000A=][=0x0009=]if current suit is spades, say [=0x0022=][unicode black spade suit][=0x0022=];[=0x000A=][=0x0009=]if current suit is clubs, say [=0x0022=][unicode black club suit][=0x0022=];[=0x000A=][=0x0009=]if current suit is hearts, say [=0x0022=][red letters][unicode black heart suit][default letters][=0x0022=].[=0x000A=][=0x000A=]Section 0Z (for Z-machine only)[=0x000A=][=0x000A=][The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:][=0x000A=][=0x000A=]Include Basic Screen Effects by Emily Short.[=0x000A=][=0x000A=]Section 0G (for Glulx only)[=0x000A=][=0x000A=][Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of [=0x0022=]Glulx Text Effects[=0x0022=], but an implementation sufficient to our purposes would be][=0x000A=][=0x000A=]Include Glulx Text Effects by Emily Short.[=0x000A=][=0x000A=]Table of User Styles (continued)[=0x000A=]style name[=0x0009=]glulx color[=0x000A=]special-style-1[=0x0009=]g-pure-red[=0x000A=][=0x000A=]Table of Common Color Values (continued)[=0x000A=]glulx color value[=0x0009=]assigned number[=0x000A=]g-pure-red[=0x0009=]16711680[=0x000A=][=0x000A=]To say red letters: say first custom style.[=0x000A=][=0x000A=]To say default letters: say roman type.[=0x000A=][=0x000A=][From here, the rest of the source is mostly as we[=0x0027=]ve seen in previous examples:][=0x000A=][=0x000A=]Section 1 - Cards[=0x000A=][=0x000A=]Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand [=0x0022=]heart[=0x0022=] as hearts. Understand [=0x0022=]club[=0x0022=] as clubs. Understand [=0x0022=]diamond[=0x0022=] as diamonds. Understand [=0x0022=]spade[=0x0022=] as spades.[=0x000A=][=0x000A=]A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.[=0x000A=][=0x000A=]52 cards are in the card repository.[=0x000A=][=0x000A=]To say (count - a number) as a card value:[=0x000A=][=0x0009=]choose row count in the Table of Value Names;[=0x000A=][=0x0009=]say [=0x0022=][term entry][=0x0022=].[=0x000A=][=0x000A=]Rule for printing the name of a card (called target):[=0x000A=][=0x0009=]say [=0x0022=][rank of the target as a card value] of [suit of the target][=0x0022=][=0x000A=][=0x000A=]To say (count - a number) as abbreviated value:[=0x000A=][=0x0009=]choose row count in the Table of Value Names;[=0x000A=][=0x0009=]say [=0x0022=][abbrev entry][=0x0022=].[=0x000A=][=0x000A=]Table of Value Names[=0x000A=]term[=0x0009=]value[=0x0009=]abbrev[=0x0009=]topic[=0x000A=][=0x0022=]ace[=0x0022=][=0x0009=][=0x0022=]1[=0x0022=][=0x0009=][=0x0022=]A[=0x0022=][=0x0009=][=0x0022=]ace/A[=0x0022=][=0x000A=][=0x0022=]deuce[=0x0022=][=0x0009=][=0x0022=]2[=0x0022=][=0x0009=][=0x0022=]2[=0x0022=][=0x0009=][=0x0022=]deuce/two[=0x0022=][=0x000A=][=0x0022=]three[=0x0022=][=0x0009=][=0x0022=]3[=0x0022=][=0x0009=][=0x0022=]3[=0x0022=][=0x0009=][=0x0022=]three[=0x0022=][=0x000A=][=0x0022=]four[=0x0022=][=0x0009=][=0x0022=]4[=0x0022=][=0x0009=][=0x0022=]4[=0x0022=][=0x0009=][=0x0022=]four[=0x0022=][=0x000A=][=0x0022=]five[=0x0022=][=0x0009=][=0x0022=]5[=0x0022=][=0x0009=][=0x0022=]5[=0x0022=][=0x0009=][=0x0022=]five[=0x0022=][=0x000A=][=0x0022=]six[=0x0022=][=0x0009=][=0x0022=]6[=0x0022=][=0x0009=][=0x0022=]6[=0x0022=][=0x0009=][=0x0022=]six[=0x0022=][=0x000A=][=0x0022=]seven[=0x0022=][=0x0009=][=0x0022=]7[=0x0022=][=0x0009=][=0x0022=]7[=0x0022=][=0x0009=][=0x0022=]seven[=0x0022=][=0x000A=][=0x0022=]eight[=0x0022=][=0x0009=][=0x0022=]8[=0x0022=][=0x0009=][=0x0022=]8[=0x0022=][=0x0009=][=0x0022=]eight[=0x0022=][=0x000A=][=0x0022=]nine[=0x0022=][=0x0009=][=0x0022=]9[=0x0022=][=0x0009=][=0x0022=]9[=0x0022=][=0x0009=][=0x0022=]nine[=0x0022=][=0x000A=][=0x0022=]ten[=0x0022=][=0x0009=][=0x0022=]10[=0x0022=][=0x0009=][=0x0022=]10[=0x0022=][=0x0009=][=0x0022=]ten[=0x0022=][=0x000A=][=0x0022=]jack[=0x0022=][=0x0009=][=0x0022=]11[=0x0022=][=0x0009=][=0x0022=]J[=0x0022=][=0x0009=][=0x0022=]jack/knave/J[=0x0022=][=0x000A=][=0x0022=]queen[=0x0022=][=0x0009=][=0x0022=]12[=0x0022=][=0x0009=][=0x0022=]Q[=0x0022=][=0x0009=][=0x0022=]queen/Q[=0x0022=][=0x000A=][=0x0022=]king[=0x0022=][=0x0009=][=0x0022=]13[=0x0022=][=0x0009=][=0x0022=]K[=0x0022=][=0x0009=][=0x0022=]king/K[=0x0022=][=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]of [suit][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]while the player[=0x0027=]s command includes [=0x0022=]of[=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]cut the matched text;[=0x000A=][=0x0009=]repeat through the Table of Value Names:[=0x000A=][=0x0009=][=0x0009=]while the player[=0x0027=]s command includes topic entry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]replace the matched text with value entry.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]reconstitute deck.[=0x000A=][=0x000A=]To reconstitute deck:[=0x000A=][=0x0009=]let current suit be hearts;[=0x000A=][=0x0009=]now every card is in the card repository;[=0x000A=][=0x0009=]while a card is in the card repository:[=0x000A=][=0x0009=][=0x0009=]repeat with current rank running from 1 to 13:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let item be a random card in card repository;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now rank of item is current rank;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now suit of item is current suit;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now item is in the deck of cards;[=0x000A=][=0x0009=][=0x0009=]now current suit is the suit after the current suit.[=0x000A=][=0x000A=]Section 2 - The Deck and the Discard Pile[=0x000A=][=0x000A=]The Empty Room is a room. [=0x0022=]Nothing to see here.[=0x0022=][=0x000A=][=0x000A=]The deck of cards is in the Empty Room. It is a closed unopenable container. The description is [=0x0022=]A standard poker deck.[=0x0022=][=0x000A=][=0x000A=]The discard pile is a closed unopenable container. The description is [=0x0022=]Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].[=0x0022=][=0x000A=][=0x000A=]To decide what number is the rounded number of (described set - a description of objects):[=0x000A=][=0x0009=]let N be the number of members of the described set;[=0x000A=][=0x0009=]let R be N divided by 5;[=0x000A=][=0x0009=]let total be R times 5;[=0x000A=][=0x0009=]decide on total.[=0x000A=][=0x000A=]Rule for printing room description details of something: do nothing instead.[=0x000A=][=0x000A=]Section 3 - Drawing and Discarding Actions[=0x000A=][=0x000A=]Understand the commands [=0x0022=]take[=0x0022=] and [=0x0022=]carry[=0x0022=] and [=0x0022=]hold[=0x0022=] and [=0x0022=]get[=0x0022=] and [=0x0022=]drop[=0x0022=] and [=0x0022=]throw[=0x0022=] and [=0x0022=]discard[=0x0022=] as something new.[=0x000A=][=0x000A=]Understand [=0x0022=]take [text][=0x0022=] or [=0x0022=]get [text][=0x0022=] or [=0x0022=]drop [text][=0x0022=] as a mistake ([=0x0022=]Here, you only draw and discard. Nothing else matters at the moment.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]draw[=0x0022=] or [=0x0022=]draw card[=0x0022=] or [=0x0022=]draw a card[=0x0022=] as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.[=0x000A=][=0x000A=]Setting action variables for drawing:[=0x000A=][=0x0009=]now the card drawn is a random card which is in the deck of cards.[=0x000A=][=0x000A=]Check drawing:[=0x000A=][=0x0009=]if the card drawn is nothing, say [=0x0022=]The deck is completely depleted.[=0x0022=] instead.[=0x000A=][=0x000A=]Check drawing:[=0x000A=][=0x0009=]if the number of cards carried by the player is greater than four,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]This is a five-card game; you must discard something before drawing anything further.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out drawing:[=0x000A=][=0x0009=]move the card drawn to the player.[=0x000A=][=0x000A=]Report drawing:[=0x000A=][=0x0009=]say [=0x0022=]You draw [a card drawn].[=0x0022=][=0x000A=][=0x000A=][=0x000A=]Understand [=0x0022=]discard [card][=0x0022=] as discarding. Discarding is an action applying to one thing.[=0x000A=][=0x000A=]Check discarding:[=0x000A=][=0x0009=]if the player does not carry the noun, say [=0x0022=]You can only discard cards from your own hand.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out discarding:[=0x000A=][=0x0009=]now the noun is in the discard pile;[=0x000A=][=0x0009=]if the discard pile is not visible, move the discard pile to the location.[=0x000A=][=0x000A=]Report discarding:[=0x000A=][=0x0009=]say [=0x0022=]You toss [the noun] nonchalantly onto the discard pile.[=0x0022=][=0x000A=][=0x000A=]Section 4 - Assessing Hands[=0x000A=][=0x000A=]Before listing contents while taking inventory: group cards together.[=0x000A=][=0x000A=]Before grouping together cards:[=0x000A=][=0x0009=]if the number of cards carried by the player is 5:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]follow the hand-ranking rules;[=0x000A=][=0x0009=][=0x0009=]if the rule succeeded, say [=0x0022=][the outcome of the rulebook][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]some random cards[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if the outcome of the rulebook is pair outcome, say [=0x0022=] of [rank of the first thing held by the player as a card value]s[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][number of cards carried by the player in words] assorted cards[=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=] ([=0x0022=].[=0x000A=][=0x000A=]Rule for grouping together cards:[=0x000A=][=0x0009=]say [=0x0022=][list hand][=0x0022=].[=0x000A=][=0x000A=]To say list hand:[=0x000A=][=0x0009=]let chosen card be the first thing held by the player;[=0x000A=][=0x0009=]while chosen card is a card:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][chosen card][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now chosen card is the next thing held after chosen card;[=0x000A=][=0x0009=][=0x0009=]if chosen card is a card, say [=0x0022=]-[=0x0022=].[=0x000A=][=0x000A=]After grouping together cards:[=0x000A=][=0x0009=]say [=0x0022=])[=0x0022=].[=0x000A=][=0x000A=]The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.[=0x000A=][=0x000A=]The hand-ranking rulebook has a truth state called the flushness.[=0x000A=]The hand-ranking rulebook has a truth state called the straightness.[=0x000A=][=0x000A=]The hand-ranking rulebook has a number called the pair count.[=0x000A=]The hand-ranking rulebook has a number called the triple count.[=0x000A=]The hand-ranking rulebook has a number called the quadruple count.[=0x000A=][=0x000A=]A card can be sorted or unsorted. A card is usually unsorted.[=0x000A=][=0x000A=]Definition: a card is high if its rank is 11 or more.[=0x000A=]Definition: a card is low if its rank is 4 or less.[=0x000A=][=0x000A=]A hand-ranking rule (this is the initial sort rule):[=0x000A=][=0x0009=]now every card is unsorted;[=0x000A=][=0x0009=]while the player carries an unsorted card:[=0x000A=][=0x0009=][=0x0009=]let item be the lowest unsorted card held by the player;[=0x000A=][=0x0009=][=0x0009=]move item to the player;[=0x000A=][=0x0009=][=0x0009=]now the item is sorted;[=0x000A=][=0x0009=]if sort-debugging is true, say [=0x0022=]-- after initial sort: [list hand][=0x0022=].[=0x000A=][=0x000A=]A hand-ranking rule (this is the finding flushness rule):[=0x000A=][=0x0009=]let called suit be the suit of a random card carried by the player;[=0x000A=][=0x0009=]if every card carried by the player is called suit, now flushness is true.[=0x000A=][=0x000A=]A hand-ranking rule (this is the finding straightness rule):[=0x000A=][=0x0009=]now straightness is true;[=0x000A=][=0x0009=]let N be the rank of the highest card which is carried by the player;[=0x000A=][=0x0009=]repeat with current rank running from N - 4 to N:[=0x000A=][=0x0009=][=0x0009=]now the test rank is the current rank;[=0x000A=][=0x0009=][=0x0009=]unless the player carries a matching card:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise now straightness is false.[=0x000A=][=0x000A=]A card can be quadrupled, tripled, paired or uncombined.[=0x000A=][=0x000A=]Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.[=0x000A=][=0x000A=]A hand-ranking rule (this is the counting multiples rule):[=0x000A=][=0x0009=]now every card is uncombined;[=0x000A=][=0x0009=]repeat with current rank running from 1 to 13:[=0x000A=][=0x0009=][=0x0009=]now test rank is current rank;[=0x000A=][=0x0009=][=0x0009=]let N be the number of matching cards held by the player;[=0x000A=][=0x0009=][=0x0009=]if N is 4:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increment the quadruple count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now every matching card held by the player is quadrupled;[=0x000A=][=0x0009=][=0x0009=]if N is 3:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increment the triple count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now every matching card held by the player is tripled;[=0x000A=][=0x0009=][=0x0009=]if N is 2:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]increment the pair count;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now every matching card held by the player is paired.[=0x000A=][=0x000A=]A hand-ranking rule (this is the move aces up unless there[=0x0027=]s a low straight rule):[=0x000A=][=0x0009=]unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,[=0x000A=][=0x0009=][=0x0009=]now every ace card which is carried by the player is carried by the player;[=0x000A=][=0x0009=]if sort-debugging is true, say [=0x0022=]-- after ace movement rule: [list hand][=0x0022=].[=0x000A=][=0x000A=]A hand-ranking rule (this is the move pairs forward rule):[=0x000A=][=0x0009=]while the player carries a paired card:[=0x000A=][=0x0009=][=0x0009=]let selection be the lowest paired card which is carried by the player;[=0x000A=][=0x0009=][=0x0009=]move the selection to the player;[=0x000A=][=0x0009=][=0x0009=]now the selection is uncombined;[=0x000A=][=0x0009=]if sort-debugging is true, say [=0x0022=]-- after pairs movement: [list hand][=0x0022=].[=0x000A=][=0x000A=]A hand-ranking rule (this is the raise ace pairs rule):[=0x000A=][=0x0009=]if the player carries exactly two ace cards:[=0x000A=][=0x0009=][=0x0009=]repeat with item running through ace cards which are carried by the player:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]move item to the player;[=0x000A=][=0x0009=]if sort-debugging is true, say [=0x0022=]-- after paired-ace movement: [list hand][=0x0022=].[=0x000A=][=0x000A=]A hand-ranking rule (this is the move multiples forward rule):[=0x000A=][=0x0009=]while the player carries a tripled card:[=0x000A=][=0x0009=][=0x0009=]let selection be the lowest tripled card which is carried by the player;[=0x000A=][=0x0009=][=0x0009=]move the selection to the player;[=0x000A=][=0x0009=][=0x0009=]now the selection is uncombined;[=0x000A=][=0x0009=]while the player carries a quadrupled card:[=0x000A=][=0x0009=][=0x0009=]let selection be the lowest quadrupled card which is carried by the player;[=0x000A=][=0x0009=][=0x0009=]move the selection to the player;[=0x000A=][=0x0009=][=0x0009=]now the selection is uncombined;[=0x000A=][=0x0009=]if sort-debugging is true, say [=0x0022=]-- after multiples movement rule: [list hand][=0x0022=].[=0x000A=][=0x000A=]Definition: a card is ace if its rank is 1.[=0x000A=]Definition: a card is king if its rank is 13.[=0x000A=][=0x000A=]A hand-ranking rule (this is the royal-flush rule):[=0x000A=][=0x0009=]if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.[=0x000A=][=0x000A=]A hand-ranking rule (this is the straight-flushes rule):[=0x000A=][=0x0009=]if flushness is true and straightness is true, straight flush.[=0x000A=][=0x000A=]A hand-ranking rule (this is the four-of-a-kind rule):[=0x000A=][=0x0009=]if the quadruple count is 1, four of a kind.[=0x000A=][=0x000A=]A hand-ranking rule (this is the full-house rule):[=0x000A=][=0x0009=]if the pair count is 1 and the triple count is 1, full house.[=0x000A=][=0x000A=]A hand-ranking rule (this is the flushes rule):[=0x000A=][=0x0009=]if flushness is true, flush.[=0x000A=][=0x000A=]A hand-ranking rule (this is the straights rule):[=0x000A=][=0x0009=]if straightness is true, straight.[=0x000A=][=0x000A=]A hand-ranking rule (this is the three-of-a-kind rule):[=0x000A=][=0x0009=]if triple count is 1, three of a kind.[=0x000A=][=0x000A=]A hand-ranking rule (this is the two-pair rule):[=0x000A=][=0x0009=]if the pair count is 2, two pairs.[=0x000A=][=0x000A=]A hand-ranking rule (this is the pair rule):[=0x000A=][=0x0009=]if the pair count is 1, pair.[=0x000A=][=0x000A=]A hand-ranking rule (this is the default rule):[=0x000A=][=0x0009=]high card.[=0x000A=][=0x000A=]Sort-debugging is a truth state that varies.[=0x000A=][=0x000A=]Section 5 - Testing hand identification - Not for release[=0x000A=][=0x000A=]Understand [=0x0022=]debug sorting[=0x0022=] as debugging hand sorting. Debugging hand sorting is an action out of world.[=0x000A=][=0x000A=]Carry out debugging hand sorting:[=0x000A=][=0x0009=]if sort-debugging is false, now sort-debugging is true;[=0x000A=][=0x0009=]otherwise now sort-debugging is false.[=0x000A=][=0x000A=]Report debugging hand sorting:[=0x000A=][=0x0009=]say [=0x0022=]Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g[=0x0022=].[=0x000A=][=0x000A=]Table of Testing Hands[=0x000A=]set suit[=0x0009=]set rank[=0x000A=]spades[=0x0009=]1[=0x0009=][royal flush][=0x000A=]spades[=0x0009=]13[=0x000A=]spades[=0x0009=]12[=0x000A=]spades[=0x0009=]11[=0x000A=]spades[=0x0009=]10[=0x000A=]clubs[=0x0009=]12[=0x0009=][straight flush][=0x000A=]clubs[=0x0009=]11[=0x000A=]clubs[=0x0009=]10[=0x000A=]clubs[=0x0009=]9[=0x000A=]clubs[=0x0009=]8[=0x000A=]diamonds[=0x0009=]8[=0x0009=][four of a kind][=0x000A=]hearts[=0x0009=]8[=0x000A=]spades[=0x0009=]8[=0x000A=]clubs[=0x0009=]8[=0x000A=]clubs[=0x0009=]3[=0x000A=]clubs[=0x0009=]1[=0x0009=][full house][=0x000A=]spades[=0x0009=]1[=0x000A=]hearts[=0x0009=]10[=0x000A=]spades[=0x0009=]10[=0x000A=]clubs[=0x0009=]10[=0x000A=]hearts[=0x0009=]2[=0x0009=][flush][=0x000A=]hearts[=0x0009=]5[=0x000A=]hearts[=0x0009=]7[=0x000A=]hearts[=0x0009=]11[=0x000A=]hearts[=0x0009=]12[=0x000A=]hearts[=0x0009=]1[=0x0009=][straight][=0x000A=]spades[=0x0009=]13[=0x000A=]diamonds[=0x0009=]12[=0x000A=]clubs[=0x0009=]11[=0x000A=]hearts[=0x0009=]10[=0x000A=]hearts[=0x0009=]2[=0x0009=][three of a kind][=0x000A=]spades[=0x0009=]2[=0x000A=]clubs[=0x0009=]2[=0x000A=]clubs[=0x0009=]4[=0x000A=]spades[=0x0009=]3[=0x000A=]diamonds[=0x0009=]6[=0x0009=][two pairs][=0x000A=]spades[=0x0009=]6[=0x000A=]clubs[=0x0009=]7[=0x000A=]diamonds[=0x0009=]7[=0x000A=]hearts[=0x0009=]9[=0x000A=]diamonds[=0x0009=]6[=0x0009=][two pairs, ace high][=0x000A=]spades[=0x0009=]6[=0x000A=]clubs[=0x0009=]1[=0x000A=]diamonds[=0x0009=]7[=0x000A=]hearts[=0x0009=]1[=0x000A=]hearts[=0x0009=]12[=0x0009=][pair][=0x000A=]spades[=0x0009=]12[=0x000A=]diamonds[=0x0009=]10[=0x000A=]spades[=0x0009=]7[=0x000A=]clubs[=0x0009=]4[=0x000A=]diamonds[=0x0009=]13[=0x0009=][high][=0x000A=]hearts[=0x0009=]11[=0x000A=]spades[=0x0009=]9[=0x000A=]clubs[=0x0009=]7[=0x000A=]diamonds[=0x0009=]5[=0x000A=]hearts[=0x0009=]1[=0x0009=][tricky sorting: low straight][=0x000A=]diamonds[=0x0009=]2[=0x000A=]spades[=0x0009=]3[=0x000A=]diamonds[=0x0009=]4[=0x000A=]diamonds[=0x0009=]5[=0x000A=][=0x000A=]Understand [=0x0022=]force hand[=0x0022=] as forcing a hand. Forcing a hand is an action out of world.[=0x000A=][=0x000A=]Current marker is a number that varies.[=0x000A=][=0x000A=]Carry out forcing a hand:[=0x000A=][=0x0009=]repeat with item running through cards which are carried by the player:[=0x000A=][=0x0009=][=0x0009=]increment current marker;[=0x000A=][=0x0009=][=0x0009=]if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;[=0x000A=][=0x0009=][=0x0009=]choose row current marker in the Table of Testing Hands;[=0x000A=][=0x0009=][=0x0009=]now the suit of item is the set suit entry;[=0x000A=][=0x0009=][=0x0009=]now the rank of item is the set rank entry.[=0x000A=][=0x000A=]Report forcing a hand:[=0x000A=][=0x0009=]try taking inventory.[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Tilt&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16387_347" -->
<a id="c16387_347"></a><blockquote class="code"><p class="quoted">
Section 0 - Colored Output in Two Forms
</p></blockquote>
<!-- END CODE -->
<p>For the suit symbols, we'll want the Unicode extension included with Inform:</p>
<!-- START CODE "c16388_347" -->
<a id="c16388_347"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16389_347" -->
<a id="c16389_347"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target) while grouping together:
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as abbreviated value][suit of the target as symbol]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16390_347" -->
<a id="c16390_347"></a><blockquote class="code"><p class="quoted">
To say (current suit - a suit) as symbol:
<br />&#160;&#160;&#160;&#160;if current suit is diamonds, say &quot;[red letters][unicode black diamond suit][default letters]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is spades, say &quot;[unicode black spade suit]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is clubs, say &quot;[unicode black club suit]&quot;;
<br />&#160;&#160;&#160;&#160;if current suit is hearts, say &quot;[red letters][unicode black heart suit][default letters]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16391_347" -->
<a id="c16391_347"></a><blockquote class="code"><p class="quoted">
Section 0Z (for Z-machine only)
</p></blockquote>
<!-- END CODE -->
<p>The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:</p>
<!-- START CODE "c16392_347" -->
<a id="c16392_347"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16393_347" -->
<a id="c16393_347"></a><blockquote class="code"><p class="quoted">
Section 0G (for Glulx only)
</p></blockquote>
<!-- END CODE -->
<p>Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of &quot;Glulx Text Effects&quot;, but an implementation sufficient to our purposes would be</p>
<!-- START CODE "c16394_347" -->
<a id="c16394_347"></a><blockquote class="code"><p class="quoted">
Include Glulx Text Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16395_347" -->
<a id="c16395_347"></a><blockquote class="code"><p class="quoted">
Table of User Styles (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">style name</p></td><td class="quotedtablecell"><p class="quoted">glulx color</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">special-style-1</p></td><td class="quotedtablecell"><p class="quoted">g-pure-red</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16396_347" -->
<a id="c16396_347"></a><blockquote class="code"><p class="quoted">
Table of Common Color Values (continued)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">glulx color value</p></td><td class="quotedtablecell"><p class="quoted">assigned number</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">g-pure-red</p></td><td class="quotedtablecell"><p class="quoted">16711680</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16397_347" -->
<a id="c16397_347"></a><blockquote class="code"><p class="quoted">
To say red letters: say first custom style.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16398_347" -->
<a id="c16398_347"></a><blockquote class="code"><p class="quoted">
To say default letters: say roman type.
</p></blockquote>
<!-- END CODE -->
<p>From here, the rest of the source is mostly as we've seen in previous examples:</p>
<!-- START CODE "c16399_347" -->
<a id="c16399_347"></a><blockquote class="code"><p class="quoted">
Section 1 - Cards
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16400_347" -->
<a id="c16400_347"></a><blockquote class="code"><p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16401_347" -->
<a id="c16401_347"></a><blockquote class="code"><p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16402_347" -->
<a id="c16402_347"></a><blockquote class="code"><p class="quoted">
52 cards are in the card repository.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16403_347" -->
<a id="c16403_347"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as a card value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[term entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16404_347" -->
<a id="c16404_347"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a card (called target):
<br />&#160;&#160;&#160;&#160;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16405_347" -->
<a id="c16405_347"></a><blockquote class="code"><p class="quoted">
To say (count - a number) as abbreviated value:
<br />&#160;&#160;&#160;&#160;choose row count in the Table of Value Names;
<br />&#160;&#160;&#160;&#160;say &quot;[abbrev entry]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16406_347" -->
<a id="c16406_347"></a><blockquote class="code"><p class="quoted">
Table of Value Names
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">term</p></td><td class="quotedtablecell"><p class="quoted">value</p></td><td class="quotedtablecell"><p class="quoted">abbrev</p></td><td class="quotedtablecell"><p class="quoted">topic</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ace&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;1&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;A&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ace/A&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;deuce&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;2&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;deuce/two&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;3&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;three&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;4&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;four&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;5&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;five&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;6&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;six&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;7&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;seven&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;8&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;eight&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;9&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;nine&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;10&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;ten&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;jack&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;11&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;J&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;jack/knave/J&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;queen&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;12&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;Q&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;queen/Q&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">&quot;king&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;13&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;K&quot;</p></td><td class="quotedtablecell"><p class="quoted">&quot;king/K&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16407_347" -->
<a id="c16407_347"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;of [suit]&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes &quot;of&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cut the matched text;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Value Names:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while the player's command includes topic entry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replace the matched text with value entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16408_347" -->
<a id="c16408_347"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;reconstitute deck.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16409_347" -->
<a id="c16409_347"></a><blockquote class="code"><p class="quoted">
To reconstitute deck:
<br />&#160;&#160;&#160;&#160;let current suit be hearts;
<br />&#160;&#160;&#160;&#160;now every card is in the card repository;
<br />&#160;&#160;&#160;&#160;while a card is in the card repository:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be a random card in card repository;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rank of item is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now suit of item is current suit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now item is in the deck of cards;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now current suit is the suit after the current suit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16410_347" -->
<a id="c16410_347"></a><blockquote class="code"><p class="quoted">
Section 2 - The Deck and the Discard Pile
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16411_347" -->
<a id="c16411_347"></a><blockquote class="code"><p class="quoted">
The Empty Room is a room. &quot;Nothing to see here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16412_347" -->
<a id="c16412_347"></a><blockquote class="code"><p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16413_347" -->
<a id="c16413_347"></a><blockquote class="code"><p class="quoted">
The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16414_347" -->
<a id="c16414_347"></a><blockquote class="code"><p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br />&#160;&#160;&#160;&#160;let N be the number of members of the described set;
<br />&#160;&#160;&#160;&#160;let R be N divided by 5;
<br />&#160;&#160;&#160;&#160;let total be R times 5;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16415_347" -->
<a id="c16415_347"></a><blockquote class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16416_347" -->
<a id="c16416_347"></a><blockquote class="code"><p class="quoted">
Section 3 - Drawing and Discarding Actions
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16417_347" -->
<a id="c16417_347"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16418_347" -->
<a id="c16418_347"></a><blockquote class="code"><p class="quoted">
Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16419_347" -->
<a id="c16419_347"></a><blockquote class="code"><p class="quoted">
Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16420_347" -->
<a id="c16420_347"></a><blockquote class="code"><p class="quoted">
Setting action variables for drawing:
<br />&#160;&#160;&#160;&#160;now the card drawn is a random card which is in the deck of cards.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16421_347" -->
<a id="c16421_347"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16422_347" -->
<a id="c16422_347"></a><blockquote class="code"><p class="quoted">
Check drawing:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is greater than four,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16423_347" -->
<a id="c16423_347"></a><blockquote class="code"><p class="quoted">
Carry out drawing:
<br />&#160;&#160;&#160;&#160;move the card drawn to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16424_347" -->
<a id="c16424_347"></a><blockquote class="code"><p class="quoted">
Report drawing:
<br />&#160;&#160;&#160;&#160;say &quot;You draw [a card drawn].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16425_347" -->
<a id="c16425_347"></a><blockquote class="code"><p class="quoted">
Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16426_347" -->
<a id="c16426_347"></a><blockquote class="code"><p class="quoted">
Check discarding:
<br />&#160;&#160;&#160;&#160;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16427_347" -->
<a id="c16427_347"></a><blockquote class="code"><p class="quoted">
Carry out discarding:
<br />&#160;&#160;&#160;&#160;now the noun is in the discard pile;
<br />&#160;&#160;&#160;&#160;if the discard pile is not visible, move the discard pile to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16428_347" -->
<a id="c16428_347"></a><blockquote class="code"><p class="quoted">
Report discarding:
<br />&#160;&#160;&#160;&#160;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16429_347" -->
<a id="c16429_347"></a><blockquote class="code"><p class="quoted">
Section 4 - Assessing Hands
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16430_347" -->
<a id="c16430_347"></a><blockquote class="code"><p class="quoted">
Before listing contents while taking inventory: group cards together.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16431_347" -->
<a id="c16431_347"></a><blockquote class="code"><p class="quoted">
Before grouping together cards:
<br />&#160;&#160;&#160;&#160;if the number of cards carried by the player is 5:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the hand-ranking rules;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the rule succeeded, say &quot;[the outcome of the rulebook]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;some random cards&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the outcome of the rulebook is pair outcome, say &quot; of [rank of the first thing held by the player as a card value]s&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[number of cards carried by the player in words] assorted cards&quot;;
<br />&#160;&#160;&#160;&#160;say &quot; (&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16432_347" -->
<a id="c16432_347"></a><blockquote class="code"><p class="quoted">
Rule for grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;[list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16433_347" -->
<a id="c16433_347"></a><blockquote class="code"><p class="quoted">
To say list hand:
<br />&#160;&#160;&#160;&#160;let chosen card be the first thing held by the player;
<br />&#160;&#160;&#160;&#160;while chosen card is a card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[chosen card]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now chosen card is the next thing held after chosen card;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if chosen card is a card, say &quot;-&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16434_347" -->
<a id="c16434_347"></a><blockquote class="code"><p class="quoted">
After grouping together cards:
<br />&#160;&#160;&#160;&#160;say &quot;)&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16435_347" -->
<a id="c16435_347"></a><blockquote class="code"><p class="quoted">
The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16436_347" -->
<a id="c16436_347"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a truth state called the flushness.
<br />The hand-ranking rulebook has a truth state called the straightness.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16437_347" -->
<a id="c16437_347"></a><blockquote class="code"><p class="quoted">
The hand-ranking rulebook has a number called the pair count.
<br />The hand-ranking rulebook has a number called the triple count.
<br />The hand-ranking rulebook has a number called the quadruple count.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16438_347" -->
<a id="c16438_347"></a><blockquote class="code"><p class="quoted">
A card can be sorted or unsorted. A card is usually unsorted.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16439_347" -->
<a id="c16439_347"></a><blockquote class="code"><p class="quoted">
Definition: a card is high if its rank is 11 or more.
<br />Definition: a card is low if its rank is 4 or less.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16440_347" -->
<a id="c16440_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the initial sort rule):
<br />&#160;&#160;&#160;&#160;now every card is unsorted;
<br />&#160;&#160;&#160;&#160;while the player carries an unsorted card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let item be the lowest unsorted card held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sorted;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after initial sort: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16441_347" -->
<a id="c16441_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding flushness rule):
<br />&#160;&#160;&#160;&#160;let called suit be the suit of a random card carried by the player;
<br />&#160;&#160;&#160;&#160;if every card carried by the player is called suit, now flushness is true.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16442_347" -->
<a id="c16442_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the finding straightness rule):
<br />&#160;&#160;&#160;&#160;now straightness is true;
<br />&#160;&#160;&#160;&#160;let N be the rank of the highest card which is carried by the player;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from N - 4 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the test rank is the current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the player carries a matching card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now straightness is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16443_347" -->
<a id="c16443_347"></a><blockquote class="code"><p class="quoted">
A card can be quadrupled, tripled, paired or uncombined.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16444_347" -->
<a id="c16444_347"></a><blockquote class="code"><p class="quoted">
Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16445_347" -->
<a id="c16445_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the counting multiples rule):
<br />&#160;&#160;&#160;&#160;now every card is uncombined;
<br />&#160;&#160;&#160;&#160;repeat with current rank running from 1 to 13:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now test rank is current rank;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let N be the number of matching cards held by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 4:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the quadruple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is quadrupled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 3:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the triple count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is tripled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is 2:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment the pair count;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every matching card held by the player is paired.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16446_347" -->
<a id="c16446_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br />&#160;&#160;&#160;&#160;unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now every ace card which is carried by the player is carried by the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after ace movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16447_347" -->
<a id="c16447_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move pairs forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a paired card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest paired card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after pairs movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16448_347" -->
<a id="c16448_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the raise ace pairs rule):
<br />&#160;&#160;&#160;&#160;if the player carries exactly two ace cards:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with item running through ace cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move item to the player;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after paired-ace movement: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16449_347" -->
<a id="c16449_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the move multiples forward rule):
<br />&#160;&#160;&#160;&#160;while the player carries a tripled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest tripled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;while the player carries a quadrupled card:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let selection be the lowest quadrupled card which is carried by the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the selection to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the selection is uncombined;
<br />&#160;&#160;&#160;&#160;if sort-debugging is true, say &quot;-- after multiples movement rule: [list hand]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16450_347" -->
<a id="c16450_347"></a><blockquote class="code"><p class="quoted">
Definition: a card is ace if its rank is 1.
<br />Definition: a card is king if its rank is 13.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16451_347" -->
<a id="c16451_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the royal-flush rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16452_347" -->
<a id="c16452_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straight-flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true and straightness is true, straight flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16453_347" -->
<a id="c16453_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the four-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if the quadruple count is 1, four of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16454_347" -->
<a id="c16454_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the full-house rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1 and the triple count is 1, full house.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16455_347" -->
<a id="c16455_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the flushes rule):
<br />&#160;&#160;&#160;&#160;if flushness is true, flush.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16456_347" -->
<a id="c16456_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the straights rule):
<br />&#160;&#160;&#160;&#160;if straightness is true, straight.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16457_347" -->
<a id="c16457_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the three-of-a-kind rule):
<br />&#160;&#160;&#160;&#160;if triple count is 1, three of a kind.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16458_347" -->
<a id="c16458_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the two-pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 2, two pairs.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16459_347" -->
<a id="c16459_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the pair rule):
<br />&#160;&#160;&#160;&#160;if the pair count is 1, pair.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16460_347" -->
<a id="c16460_347"></a><blockquote class="code"><p class="quoted">
A hand-ranking rule (this is the default rule):
<br />&#160;&#160;&#160;&#160;high card.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16461_347" -->
<a id="c16461_347"></a><blockquote class="code"><p class="quoted">
Sort-debugging is a truth state that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16462_347" -->
<a id="c16462_347"></a><blockquote class="code"><p class="quoted">
Section 5 - Testing hand identification - Not for release
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16463_347" -->
<a id="c16463_347"></a><blockquote class="code"><p class="quoted">
Understand &quot;debug sorting&quot; as debugging hand sorting. Debugging hand sorting is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16464_347" -->
<a id="c16464_347"></a><blockquote class="code"><p class="quoted">
Carry out debugging hand sorting:
<br />&#160;&#160;&#160;&#160;if sort-debugging is false, now sort-debugging is true;
<br />&#160;&#160;&#160;&#160;otherwise now sort-debugging is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16465_347" -->
<a id="c16465_347"></a><blockquote class="code"><p class="quoted">
Report debugging hand sorting:
<br />&#160;&#160;&#160;&#160;say &quot;Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16466_347" -->
<a id="c16466_347"></a><blockquote class="code"><p class="quoted">
Test me with &quot;draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16467_347" -->
<a id="c16467_347"></a><blockquote class="code"><p class="quoted">
Table of Testing Hands
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">set suit</p></td><td class="quotedtablecell"><p class="quoted">set rank</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[royal flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[straight flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">[four of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">8</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[full house]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[flush]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">13</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">[three of a kind]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">[two pairs, ace high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">6</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">[pair]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">12</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">10</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">[high]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">11</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">9</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">clubs</p></td><td class="quotedtablecell"><p class="quoted">7</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">hearts</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">[tricky sorting: low straight]</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">2</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">spades</p></td><td class="quotedtablecell"><p class="quoted">3</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">4</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">diamonds</p></td><td class="quotedtablecell"><p class="quoted">5</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16468_347" -->
<a id="c16468_347"></a><blockquote class="code"><p class="quoted">
Understand &quot;force hand&quot; as forcing a hand. Forcing a hand is an action out of world.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16469_347" -->
<a id="c16469_347"></a><blockquote class="code"><p class="quoted">
Current marker is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16470_347" -->
<a id="c16470_347"></a><blockquote class="code"><p class="quoted">
Carry out forcing a hand:
<br />&#160;&#160;&#160;&#160;repeat with item running through cards which are carried by the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment current marker;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;choose row current marker in the Table of Testing Hands;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the suit of item is the set suit entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the rank of item is the set rank entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16471_347" -->
<a id="c16471_347"></a><blockquote class="code"><p class="quoted">
Report forcing a hand:
<br />&#160;&#160;&#160;&#160;try taking inventory.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "70: The Über-complète clavier" "e425" -->
<a id="e425"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example425'); return false;"><b>70</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example425'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Über-complète clavier</span></b></a><br />This example provides a fairly stringent test of exotic lettering.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc79.html#e425"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example425" style="display: none;">
<p>The following example puts Inform's support for exotic lettering through its paces. It was useful in testing Inform but is not a very instructive read: still, it does provide a test story file for interpreters, so we are including the source here as an example.</p>
<!-- START CODE "c16472_425" -->
<a id="c16472_425"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Über-complète clavier[=0x0022=][=0x000A=][=0x000A=]The story headline is [=0x0022=]Pushing the Limits of Unicode in IF[=0x0022=]. The story description is [=0x0022=]This is a demanding test for Unicode compliance by Z-machine interpreters.[=0x0022=][=0x000A=][=0x000A=]Include Unicode Character Names by Graham Nelson.[=0x000A=][=0x000A=]Include Basic Screen Effects by Emily Short.[=0x000A=][=0x000A=]The Château Bibliothèque Français is east of the Deutsche Universität Bücherei. [=0x0022=]From this Borgesian construction, doorways lead into anterooms in each of the four cardinal directions.[=0x0022=] South of the Bibliothèque is the Miscellany Mañana. North of the Bibliothèque is the Íslendingabók. East of the Bibliothèque is Alphabet Soup.[=0x000A=][=0x000A=]A framed photograph of Icelandic Prime Minister Halldór Ásgrímsson, a ruler measuring Ångströms, a Bokmål-Lëtzebuergesch Lëtzebuergesch-Bokmål dictionary and a ticket to Tromsø via Østfold are in the Íslendingabók.[=0x000A=][=0x000A=]A paper by Karl Weierstraß, a general feeling of Ärger, an old Österreich passport and the Bach Clavier-Übung open at the fugue à 4 are in the Bücherei.[=0x000A=][=0x000A=]The painting of École normale superiéure students singing Ça ira, the frankly lesser-known journal of Niccolò Polo, Così fan tutte on CD, an extract of Herodotus concerning Artaÿctes and the exit sign reading À BIENTÔT are in the Bibliothèque.[=0x000A=][=0x000A=]A wicker basket marked CHLOË is in the Bibliothèque. A ginger cat is in the basket.[=0x000A=][=0x000A=]A guide to Æsop for naïve æsthetes, Lönnrot[=0x0027=]s Kalevala, a creed according to the Bahá[=0x0027=]ís, FALARÃO magazine, an Estonian poem by Tõnu Trubetsky, a Portuguese-Italian recipe for macarrão, a stripy hanging CANDY PIÑATA bag, a ¿¡Punctuation Turned Upside Down¿¡ pamphlet, an Italian brewers[=0x0027=] anti-violence poster declaring  BÓTTE NON BÒTTE, a map of È and a dusty book titled The Parnasum of Luís Vaz bearing CAMÕES on its spine are in Miscellany Mañana.[=0x000A=][=0x000A=]The description of the map is [=0x0022=]È is a province in the People[=0x0027=]s Republic of China.[=0x0022=][=0x000A=][=0x000A=]In Mañana is something called ÂÊÎÔÛ - The Official Journal of the Society for Vowels bearing Circumflexes.[=0x000A=][=0x000A=]In Mañana is something called âêîôû comic - the youth edition.[=0x000A=][=0x000A=]The description of Alphabet Soup is [=0x0022=]A bewildering place of glyphs, sigils and signs. The Library proper leads back west: steps lead upwards to an Observatory, or downwards into what seems to be a dangerous area. A gaming lounge lies to the south.[=0x0022=][=0x000A=][=0x000A=]The Greek Alphabet, the Cyrillic Alphabet, the Hebrew alphabet, and the embossed plaque are in Alphabet Soup. The description of the Greek alphabet is [=0x0022=]αβγδεζηθικλμνξοπρςστυφχψω.[=0x0022=]. The description of the Hebrew alphabet is [=0x0022=]אבגדהוזחטיךכלםמןנסעףפץצקרשת.[=0x0022=]. The description of the Cyrillic alphabet is [=0x0022=]абвгдежзийклмнопрстуфхцчшщъыьэюя.[=0x0022=].[=0x000A=][=0x000A=]Instead of examining the plaque:[=0x000A=][=0x0009=]say [=0x0022=]It seems to be a sign in Braille: [=0x0022=];[=0x000A=][=0x0009=]say unicode Braille pattern dots-24, [=0x0022=] (I), [=0x0022=],[=0x000A=][=0x0009=][=0x0009=]unicode Braille pattern dots-1345, [=0x0022=] (N), [=0x0022=],[=0x000A=][=0x0009=][=0x0009=]unicode Braille pattern dots-124, [=0x0022=] (F), [=0x0022=],[=0x000A=][=0x0009=][=0x0009=]unicode Braille pattern dots-135, [=0x0022=] (O), [=0x0022=],[=0x000A=][=0x0009=][=0x0009=]unicode Braille pattern dots-1235, [=0x0022=] (R), [=0x0022=],[=0x000A=][=0x0009=][=0x0009=]unicode Braille pattern dots-134, [=0x0022=] (M).[=0x0022=][=0x000A=][=0x000A=]The Gaming Lounge is south of Alphabet Soup. The chess position and the book of puzzle canons are in the Gaming Lounge.[=0x000A=][=0x000A=]The Georges de la Tour painting Le Tricheur is in the Gaming Lounge. [=0x0022=]Hanging on one wall is Georges de la Tour[=0x0027=]s masterpiece Le Tricheur (the card-sharp). Visible are 8[unicode black diamond suit], 9[unicode black diamond suit], A[unicode black diamond suit], A[unicode black spade suit], 6[unicode black club suit] but not one of them has a [unicode black heart suit].[=0x0022=][=0x000A=][=0x000A=]The description of Le Tricheur is [=0x0022=]If they[=0x0027=]d been dice-players instead, they might have thrown [unicode die face-1], [unicode die face-2], [unicode die face-3], [unicode die face-4], [unicode die face-5] or [unicode die face-6], but as it is they stick to cards.[=0x0022=][=0x000A=][=0x000A=]The description of the book of canons is [=0x0022=]A typical fugue is no. 13 (Tovey: [unicode eighth note] = 110) in F[unicode music sharp sign] minor, but you can also make out keys like A[unicode music flat sign] and G[unicode music natural sign].[=0x0022=][=0x000A=][=0x000A=]The empty square text is text that varies. To say empty: say the empty square text.[=0x000A=][=0x000A=]To display the board:[=0x000A=][=0x0009=]say empty, empty, empty, empty, empty, empty, unicode black chess king, empty, line break;[=0x000A=][=0x0009=]say empty, empty, empty, unicode black chess queen, empty, empty, unicode black chess pawn, empty, line break;[=0x000A=][=0x0009=]say unicode black chess pawn, empty, empty, unicode black chess bishop, unicode black chess pawn, empty, empty, unicode black chess pawn, line break;[=0x000A=][=0x0009=]say empty, empty, empty, unicode black chess pawn, empty, unicode black chess rook, empty, empty, line break;[=0x000A=][=0x0009=]say empty, unicode black chess pawn, empty, unicode white chess pawn, unicode black chess pawn, empty, empty, empty, line break;[=0x000A=][=0x0009=]say empty, empty, empty, unicode black chess bishop, unicode white chess queen, empty, unicode white chess pawn, unicode white chess pawn, line break;[=0x000A=][=0x0009=]say unicode white chess pawn, unicode white chess pawn, empty, unicode white chess bishop, empty, unicode black chess rook, unicode white chess bishop, empty, line break;[=0x000A=][=0x0009=]say empty, unicode white chess knight, empty, empty, unicode white chess rook, empty, unicode white chess rook, unicode white chess king, line break.[=0x000A=][=0x000A=]Instead of examining the chess position:[=0x000A=][=0x0009=]say [=0x0022=]Fritz Saemisch - Aron Nimzowitsch, Copenhagen 1923: the Immortal Zugzwang Game. Nimzowitsch (black), observing that white will very soon have to play a terrible move, has just advanced his h pawn for no reason other than to wait. So it is white to play...[=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][fixed letter spacing]......k. [line break]...q..p. [line break]p..bp..p [line break]...p.r.. [line break].p.Pp... [line break]...bQ.PP [line break]PP.B.rB. [line break].N..R.RK [variable letter spacing][line break][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]White must, willy-nilly, eventually throw himself upon the sword[=0x0027=], in Nimzowitsch[=0x0027=]s commentary. [=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]We will now try to display the same position using chess-piece symbols in a Unicode font.[=0x0022=];[=0x000A=][=0x0009=]say fixed letter spacing;[=0x000A=][=0x0009=]now the empty square text is [=0x0022=] [=0x0022=];[=0x000A=][=0x0009=]display the board;[=0x000A=][=0x0009=]say variable letter spacing.[=0x000A=][=0x000A=]The Astrological Observatory is above Alphabet Soup.[=0x000A=][=0x000A=]The planets are in the Observatory. [=0x0022=]Diagrams of the planets are scattered across the dome: Sun [unicode Sun], Mercury [unicode Mercury], Venus [unicode Female Sign], Earth [unicode Earth], Moon [unicode First Quarter Moon] and [unicode Last Quarter Moon], Mars [unicode Male Sign], Jupiter [unicode Jupiter], Saturn [unicode Saturn], Uranus [unicode Uranus], Neptune [unicode Neptune], Pluto [unicode Pluto] and one or two comets [unicode Comet]. Fainter, but all around, you see stars black [unicode black star] and white [unicode white star].[=0x0022=][=0x000A=][=0x000A=]The constellations are in the Observatory. [=0x0022=]Ringing the dome are the constellations: Aries [unicode Aries], Taurus [unicode Taurus], Gemini [unicode Gemini], Cancer [unicode Cancer], Leo [unicode Leo], Virgo [unicode Virgo], Libra [unicode Libra], Scorpius [unicode Scorpius], Sagittarius [unicode Sagittarius], Capricorn [unicode Capricorn], Aquarius [unicode Aquarius], Pisces [unicode Pisces].[=0x0022=][=0x000A=][=0x000A=]The weather almanac is in the Observatory. The description of the almanac is [=0x0022=]Here nightly observers scrawl in hasty abbreviations for the current weather conditions: clear weather [unicode Black Sun with Rays], cloudy [unicode cloud], rain [unicode umbrella], snow [unicode snowman], lightning [unicode lightning], thunderstorm [unicode thunderstorm].[=0x0022=][=0x000A=][=0x000A=]The Danger Zone is below Alphabet Soup. The printed name of the Danger Zone is [=0x0022=][unicode skull and crossbones] Danger Zone [unicode skull and crossbones][=0x0022=].[=0x000A=][=0x000A=]The warning signs are in the Danger Zone. [=0x0022=]A variety of international-standard warning standards suggest that this may not be the safest place: [unicode skull and crossbones], [unicode caution sign], [unicode radioactive sign], [unicode biohazard sign].[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;The Über-complète clavier&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16473_425" -->
<a id="c16473_425"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;Pushing the Limits of Unicode in IF&quot;. The story description is &quot;This is a demanding test for Unicode compliance by Z-machine interpreters.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16474_425" -->
<a id="c16474_425"></a><blockquote class="code"><p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16475_425" -->
<a id="c16475_425"></a><blockquote class="code"><p class="quoted">
Include Basic Screen Effects by Emily Short.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16476_425" -->
<a id="c16476_425"></a><blockquote class="code"><p class="quoted">
The Château Bibliothèque Français is east of the Deutsche Universität Bücherei. &quot;From this Borgesian construction, doorways lead into anterooms in each of the four cardinal directions.&quot; South of the Bibliothèque is the Miscellany Mañana. North of the Bibliothèque is the Íslendingabók. East of the Bibliothèque is Alphabet Soup.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16477_425" -->
<a id="c16477_425"></a><blockquote class="code"><p class="quoted">
A framed photograph of Icelandic Prime Minister Halldór Ásgrímsson, a ruler measuring Ångströms, a Bokmål-Lëtzebuergesch Lëtzebuergesch-Bokmål dictionary and a ticket to Tromsø via Østfold are in the Íslendingabók.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16478_425" -->
<a id="c16478_425"></a><blockquote class="code"><p class="quoted">
A paper by Karl Weierstraß, a general feeling of Ärger, an old Österreich passport and the Bach Clavier-Übung open at the fugue à 4 are in the Bücherei.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16479_425" -->
<a id="c16479_425"></a><blockquote class="code"><p class="quoted">
The painting of École normale superiéure students singing Ça ira, the frankly lesser-known journal of Niccolò Polo, Così fan tutte on CD, an extract of Herodotus concerning Artaÿctes and the exit sign reading À BIENTÔT are in the Bibliothèque.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16480_425" -->
<a id="c16480_425"></a><blockquote class="code"><p class="quoted">
A wicker basket marked CHLOË is in the Bibliothèque. A ginger cat is in the basket.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16481_425" -->
<a id="c16481_425"></a><blockquote class="code"><p class="quoted">
A guide to Æsop for naïve æsthetes, Lönnrot's Kalevala, a creed according to the Bahá'ís, FALARÃO magazine, an Estonian poem by Tõnu Trubetsky, a Portuguese-Italian recipe for macarrão, a stripy hanging CANDY PIÑATA bag, a ¿¡Punctuation Turned Upside Down¿¡ pamphlet, an Italian brewers' anti-violence poster declaring  BÓTTE NON BÒTTE, a map of È and a dusty book titled The Parnasum of Luís Vaz bearing CAMÕES on its spine are in Miscellany Mañana.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16482_425" -->
<a id="c16482_425"></a><blockquote class="code"><p class="quoted">
The description of the map is &quot;È is a province in the People's Republic of China.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16483_425" -->
<a id="c16483_425"></a><blockquote class="code"><p class="quoted">
In Mañana is something called ÂÊÎÔÛ - The Official Journal of the Society for Vowels bearing Circumflexes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16484_425" -->
<a id="c16484_425"></a><blockquote class="code"><p class="quoted">
In Mañana is something called âêîôû comic - the youth edition.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16485_425" -->
<a id="c16485_425"></a><blockquote class="code"><p class="quoted">
The description of Alphabet Soup is &quot;A bewildering place of glyphs, sigils and signs. The Library proper leads back west: steps lead upwards to an Observatory, or downwards into what seems to be a dangerous area. A gaming lounge lies to the south.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16486_425" -->
<a id="c16486_425"></a><blockquote class="code"><p class="quoted">
The Greek Alphabet, the Cyrillic Alphabet, the Hebrew alphabet, and the embossed plaque are in Alphabet Soup. The description of the Greek alphabet is &quot;αβγδεζηθικλμνξοπρςστυφχψω.&quot;. The description of the Hebrew alphabet is &quot;אבגדהוזחטיךכלםמןנסעףפץצקרשת.&quot;. The description of the Cyrillic alphabet is &quot;абвгдежзийклмнопрстуфхцчшщъыьэюя.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16487_425" -->
<a id="c16487_425"></a><blockquote class="code"><p class="quoted">
Instead of examining the plaque:
<br />&#160;&#160;&#160;&#160;say &quot;It seems to be a sign in Braille: &quot;;
<br />&#160;&#160;&#160;&#160;say unicode Braille pattern dots-24, &quot; (I), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-1345, &quot; (N), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-124, &quot; (F), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-135, &quot; (O), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-1235, &quot; (R), &quot;,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unicode Braille pattern dots-134, &quot; (M).&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16488_425" -->
<a id="c16488_425"></a><blockquote class="code"><p class="quoted">
The Gaming Lounge is south of Alphabet Soup. The chess position and the book of puzzle canons are in the Gaming Lounge.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16489_425" -->
<a id="c16489_425"></a><blockquote class="code"><p class="quoted">
The Georges de la Tour painting Le Tricheur is in the Gaming Lounge. &quot;Hanging on one wall is Georges de la Tour's masterpiece Le Tricheur (the card-sharp). Visible are 8[unicode black diamond suit], 9[unicode black diamond suit], A[unicode black diamond suit], A[unicode black spade suit], 6[unicode black club suit] but not one of them has a [unicode black heart suit].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16490_425" -->
<a id="c16490_425"></a><blockquote class="code"><p class="quoted">
The description of Le Tricheur is &quot;If they'd been dice-players instead, they might have thrown [unicode die face-1], [unicode die face-2], [unicode die face-3], [unicode die face-4], [unicode die face-5] or [unicode die face-6], but as it is they stick to cards.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16491_425" -->
<a id="c16491_425"></a><blockquote class="code"><p class="quoted">
The description of the book of canons is &quot;A typical fugue is no. 13 (Tovey: [unicode eighth note] = 110) in F[unicode music sharp sign] minor, but you can also make out keys like A[unicode music flat sign] and G[unicode music natural sign].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16492_425" -->
<a id="c16492_425"></a><blockquote class="code"><p class="quoted">
The empty square text is text that varies. To say empty: say the empty square text.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16493_425" -->
<a id="c16493_425"></a><blockquote class="code"><p class="quoted">
To display the board:
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, empty, empty, empty, unicode black chess king, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess queen, empty, empty, unicode black chess pawn, empty, line break;
<br />&#160;&#160;&#160;&#160;say unicode black chess pawn, empty, empty, unicode black chess bishop, unicode black chess pawn, empty, empty, unicode black chess pawn, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess pawn, empty, unicode black chess rook, empty, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, unicode black chess pawn, empty, unicode white chess pawn, unicode black chess pawn, empty, empty, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, empty, empty, unicode black chess bishop, unicode white chess queen, empty, unicode white chess pawn, unicode white chess pawn, line break;
<br />&#160;&#160;&#160;&#160;say unicode white chess pawn, unicode white chess pawn, empty, unicode white chess bishop, empty, unicode black chess rook, unicode white chess bishop, empty, line break;
<br />&#160;&#160;&#160;&#160;say empty, unicode white chess knight, empty, empty, unicode white chess rook, empty, unicode white chess rook, unicode white chess king, line break.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16494_425" -->
<a id="c16494_425"></a><blockquote class="code"><p class="quoted">
Instead of examining the chess position:
<br />&#160;&#160;&#160;&#160;say &quot;Fritz Saemisch - Aron Nimzowitsch, Copenhagen 1923: the Immortal Zugzwang Game. Nimzowitsch (black), observing that white will very soon have to play a terrible move, has just advanced his h pawn for no reason other than to wait. So it is white to play...&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[fixed letter spacing]......k. [line break]...q..p. [line break]p..bp..p [line break]...p.r.. [line break].p.Pp... [line break]...bQ.PP [line break]PP.B.rB. [line break].N..R.RK [variable letter spacing][line break]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;'White must, willy-nilly, eventually throw himself upon the sword', in Nimzowitsch's commentary. &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;We will now try to display the same position using chess-piece symbols in a Unicode font.&quot;;
<br />&#160;&#160;&#160;&#160;say fixed letter spacing;
<br />&#160;&#160;&#160;&#160;now the empty square text is &quot; &quot;;
<br />&#160;&#160;&#160;&#160;display the board;
<br />&#160;&#160;&#160;&#160;say variable letter spacing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16495_425" -->
<a id="c16495_425"></a><blockquote class="code"><p class="quoted">
The Astrological Observatory is above Alphabet Soup.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16496_425" -->
<a id="c16496_425"></a><blockquote class="code"><p class="quoted">
The planets are in the Observatory. &quot;Diagrams of the planets are scattered across the dome: Sun [unicode Sun], Mercury [unicode Mercury], Venus [unicode Female Sign], Earth [unicode Earth], Moon [unicode First Quarter Moon] and [unicode Last Quarter Moon], Mars [unicode Male Sign], Jupiter [unicode Jupiter], Saturn [unicode Saturn], Uranus [unicode Uranus], Neptune [unicode Neptune], Pluto [unicode Pluto] and one or two comets [unicode Comet]. Fainter, but all around, you see stars black [unicode black star] and white [unicode white star].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16497_425" -->
<a id="c16497_425"></a><blockquote class="code"><p class="quoted">
The constellations are in the Observatory. &quot;Ringing the dome are the constellations: Aries [unicode Aries], Taurus [unicode Taurus], Gemini [unicode Gemini], Cancer [unicode Cancer], Leo [unicode Leo], Virgo [unicode Virgo], Libra [unicode Libra], Scorpius [unicode Scorpius], Sagittarius [unicode Sagittarius], Capricorn [unicode Capricorn], Aquarius [unicode Aquarius], Pisces [unicode Pisces].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16498_425" -->
<a id="c16498_425"></a><blockquote class="code"><p class="quoted">
The weather almanac is in the Observatory. The description of the almanac is &quot;Here nightly observers scrawl in hasty abbreviations for the current weather conditions: clear weather [unicode Black Sun with Rays], cloudy [unicode cloud], rain [unicode umbrella], snow [unicode snowman], lightning [unicode lightning], thunderstorm [unicode thunderstorm].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16499_425" -->
<a id="c16499_425"></a><blockquote class="code"><p class="quoted">
The Danger Zone is below Alphabet Soup. The printed name of the Danger Zone is &quot;[unicode skull and crossbones] Danger Zone [unicode skull and crossbones]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c16500_425" -->
<a id="c16500_425"></a><blockquote class="code"><p class="quoted">
The warning signs are in the Danger Zone. &quot;A variety of international-standard warning standards suggest that this may not be the safest place: [unicode skull and crossbones], [unicode caution sign], [unicode radioactive sign], [unicode biohazard sign].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This example text was used to produce a story file which has been tried against both Zoom for Mac OS X and Windows Frotz. The Latin, Greek, Cyrillic and Hebrew text all functioned perfectly on both, but a point of difference showed when writing the Hebrew alphabet: Zoom wrote this right-to-left, Windows Frotz left-to-right. The exotic symbols displayed on Zoom (though others not mentioned above, such as &quot;[unicode staff of hermes]&quot;, did not): but most appeared only as black squares on Windows Frotz, exceptions being the astrological signs for Venus and Mars and the musical note.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc96.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc98.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
