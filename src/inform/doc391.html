<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>24.4. Low-level debugging commands</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Low-level debugging commands" -->
<!-- SEARCH SECTION "24.4" -->
<!-- SEARCH SORT "000-024-004-000" -->
<!-- START IGNORE 390 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc390.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 24: Testing and Debugging</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc392.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง24.4. Low-level debugging commands</p>
<p>In addition to the commands designed around Inform 7's data model, there are several debugging commands that have persisted since the days of Inform 6. These are generally less useful or necessary with Inform 7's features, but there are still times when they can come in handy for a quick and dirty resolution of a problem during gameplay. They are as follow.</p>
<p>PURLOIN moves an object to your possession, no matter where it is on the map, like so:</p>
<!-- START CODE "c8887" -->
<a id="c8887"></a><blockquote class="code"><p class="quoted">
&gt;PURLOIN TABLE
<br />[Purloined.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c8888" -->
<a id="c8888"></a><blockquote class="code"><p class="quoted">
&gt;I
<br />You are carrying:
<br />  a table
</p></blockquote>
<!-- END CODE -->
<p>Note that purloin does not consider the usual rules about whether something can be taken. In this case, we've just moved the table to our inventory even though it is a fixed in place supporter that could not be taken in the normal course of events.</p>
<p>Because purloin works on things that are far away as well as things that are close, it has to do a lot of extra parsing work and may take a moment or two to complete if we try it in a very large story. It is generally more efficient to give the player the relevant object using a testing command, like this:</p>
<!-- START CODE "c8889" -->
<a id="c8889"></a><blockquote class="code"><p class="quoted">
Test me with &quot;drop table&quot; holding the table.
</p></blockquote>
<!-- END CODE -->
<p>Nonetheless, there are occasionally times when we're halfway into a 2000-move story and suddenly realize we implemented a vital object in the wrong room, making the story unsolvable. We could fix the bug, press replay and return to this story state fairly quickly, but if we don't feel like waiting even that long, PURLOIN will resolve the issue.</p>
<p>ABSTRACT is PURLOIN's less useful cousin, allowing the player to move an object from one place to a specified other place, as in</p>
<!-- START CODE "c8890" -->
<a id="c8890"></a><blockquote class="code"><p class="quoted">
Bar
<br />You can see a table here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c8891" -->
<a id="c8891"></a><blockquote class="code"><p class="quoted">
&gt;ABSTRACT KEY TO TABLE
<br />[Abstracted.]
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c8892" -->
<a id="c8892"></a><blockquote class="code"><p class="quoted">
&gt;LOOK
<br />Bar
<br />You can see a table (on which is a key) here.
</p></blockquote>
<!-- END CODE -->
<p>GONEAR transports the player instantly to the vicinity of the named object, so for instance</p>
<!-- START CODE "c8893" -->
<a id="c8893"></a><blockquote class="code"><p class="quoted">
&gt;GONEAR GRAIN
<br />Fertile Plain
<br />You can see some grain here.
</p></blockquote>
<!-- END CODE -->
<p>As a debugging command, this isn't protected in the ways that commands usually are. It's possible to type GONEAR NORTH and produce a run-time error when Inform tries to move the player into the object that represents the compass. Again, except in cases where we're tracing a problem very deep in an already running story, it is usually more practical to write a test command to put the player in the correct situation, as in</p>
<!-- START CODE "c8894" -->
<a id="c8894"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat grain&quot; in the Fertile Plain.
</p></blockquote>
<!-- END CODE -->
<p>VERIFY checks that the story file is intact rather than damaged, but it is hard to think of an occasion when this would be likely to arise within the Inform application. The command is a holdover from a time when data transfer was much slower and more error-prone, and it was plausible to have a story file of just a few hundred KB corrupted during transmission.</p>
<p>TREE creates a list of object containment. It is similar to SHOWME, but less elegant and thorough.</p>
<p>SCOPE lists the objects that are currently in scope for the player, which is to say, things that could be referred to when we're typing a typical command. Thus:</p>
<!-- START CODE "c8895" -->
<a id="c8895"></a><blockquote class="code"><p class="quoted">
Bar
<br />You can see a table here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c8896" -->
<a id="c8896"></a><blockquote class="code"><p class="quoted">
&gt;SCOPE
<br />1: yourself (574631)
<br />2: a table (574759)
</p></blockquote>
<!-- END CODE -->
<p>The following numbers are object IDs for these objects, which can distinguish items with identical names. It is likely that the output of this will not be terribly interesting or different from checking SHOWME, except in cases where the author is deliberately changing the scope to be something other than &quot;the set of things that are visible in the room with the player right now&quot;. This usually involves the Deciding the scope of something activity (see the chapter on Activities).</p>
<p>SHOWHEAP shows how many bytes are currently free. This is usually not helpful.</p>
<p>SHOWVERB (verbname) lists the Understand information associated with a particular verb. Similar information, in a vastly more palatable form, is available in Index / Actions / Commands, so the one time SHOWVERB becomes useful is when Inform is considering the understand lines in the wrong order and producing a result we didn't want: SHOWVERB will show us the order in which the lines are being assessed. The challenge will then be to add conditions to the Understand lines to move them into the correct order.</p>
<p>Finally, TRACE (and its more advanced stages TRACE 2, TRACE 3, TRACE 4, and TRACE 5) will reveal things, more things than we ever wanted to know, about the assumptions being made by the parser when it takes in a command. In practice this information is almost never useful to an Inform 7 author.</p>
<p>There is no guarantee that any of these commands will make life better or that they won't crash the story or put it into an unwinnable state. There is also no absolute guarantee that they won't be withdrawn entirely from future versions of Inform. Consider them as Old High Magic, and treat accordingly.</p>
<hr />
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc390.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc392.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
