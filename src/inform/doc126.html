<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>8.11. Now...</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Now..." -->
<!-- SEARCH SECTION "8.11" -->
<!-- SEARCH SORT "000-008-011-000" -->
<!-- START IGNORE 125 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc125.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 8: Change</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc127.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง8.11. Now...</p>
<p>&quot;Now&quot; has already appeared several times in this chapter, being used like a Swiss army knife to change values of all kinds:</p>
<!-- START CODE "c1916" -->
<a id="c1916"></a><blockquote class="code"><p class="quoted">
now the score is 100;
</p></blockquote>
<!-- END CODE -->
<p>In fact, &quot;now&quot; is by far the most flexible phrase known to Inform.</p>
<!-- START PHRASE "defn78" -->
<div class="definition"><a id="defn78"></a><p class="defnprototype"><b>now </b>(a condition)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_now -->

<p>This phrase makes the condition become true. Examples:</p>
<!-- START CODE "c1917" -->
<a id="c1917"></a><blockquote class="code"><p class="quoted">
now the score is 100;
<br />now the player is Kevin;
<br />now the front door is open;
<br />now Mr Darcy is wearing the top hat;
<br />now all the doors are open;
<br />now all of the things in the sack are in the box;
</p></blockquote>
<!-- END CODE -->
<p>Inform issues a problem message if the condition asks to do the impossible (&quot;now 3 is an even number&quot;) or is vague (&quot;now the duck is not in the Lily Pond&quot;) or not in the present tense (&quot;now the front door had been open&quot;).</p>

<!-- end definition -->
</div>

<p>We've now seen all three things which can be done with a condition S which describes the world:</p>
<!-- START CODE "c1918" -->
<a id="c1918"></a><blockquote class="code"><p class="quoted">
S. - The relation holds at the start of play.
<br />if S, ...; - Does the relation hold right now?
<br />now S; - Make the relation hold from now on.
</p></blockquote>
<!-- END CODE -->
<p>For instance,</p>
<!-- START CODE "c1919" -->
<a id="c1919"></a><blockquote class="code"><p class="quoted">
The apple is in the basket.
<br />if the apple is in the basket, ...;
<br />now the apple is in the basket;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "125: Bee Chambers" "e4" -->
<a id="e4"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example4'); return false;"><b>125</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example4'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bee Chambers</span></b></a><br />A maze with directions between rooms randomized at the start of play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc9.html#e4"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example4" style="display: none;">
<p>Mazes are a traditional element of interactive fiction, often consisting of apparently identical rooms with exits that do not work reciprocally and which cause confusion.</p>
<p>The methods of mapping mazes are now fairly well understood and mazes themselves tend to be regarded as tiresome rather than enjoyable by a large portion of the playing audience. However, if we did want to ignore the common wisdom and create a maze, randomly generated at the start of play, here would be one way to go about it:</p>
<!-- START CODE "c1920_4" -->
<a id="c1920_4"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Maze of Gloom[=0x0022=][=0x000A=][=0x000A=]A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually [=0x0022=]Hexagonal Room[=0x0022=]. The description of a Bee Chamber is usually [=0x0022=]Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners.[=0x0022=][=0x000A=][=0x000A=]Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now right hand status line is [=0x0022=][number of visited rooms]/[number of rooms][=0x0022=];[=0x000A=][=0x0009=]repeat with place running through Bee Chambers:[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped north of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped northwest of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped west of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped southwest of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped south of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped southeast of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped east of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped northeast of place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped above place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped below place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped inside place;[=0x000A=][=0x0009=][=0x0009=]now a random Bee Chamber is mapped outside place.[=0x000A=][=0x000A=]Test me with [=0x0022=]in / out / up / down / n / ne / nw / e / w / sw / se / s[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Maze of Gloom&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1921_4" -->
<a id="c1921_4"></a><blockquote class="code"><p class="quoted">
A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually &quot;Hexagonal Room&quot;. The description of a Bee Chamber is usually &quot;Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1922_4" -->
<a id="c1922_4"></a><blockquote class="code"><p class="quoted">
Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1923_4" -->
<a id="c1923_4"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now right hand status line is &quot;[number of visited rooms]/[number of rooms]&quot;;
<br />&#160;&#160;&#160;&#160;repeat with place running through Bee Chambers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped north of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped west of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southwest of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped south of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped southeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped east of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped northeast of place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped above place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped below place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped inside place;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now a random Bee Chamber is mapped outside place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1924_4" -->
<a id="c1924_4"></a><blockquote class="code"><p class="quoted">
Test me with &quot;in / out / up / down / n / ne / nw / e / w / sw / se / s&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "126: Hatless" "e22" -->
<a id="e22"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example22'); return false;"><b>126</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example22'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hatless</span></b></a><br />It's tempting to use "now..." to distribute items randomly at the start of play, but we need to be a little cautious about how we do that.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc91.html#e22"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example22" style="display: none;">
<p>Suppose we want a game in which each scenario starts with the characters wearing hats -- randomly passed out. We might be tempted to write our scenario like this:</p>
<!-- START CODE "c1925_22" -->
<a id="c1925_22"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Hatless[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hat is worn by a random hatless person.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Hatless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1926_22" -->
<a id="c1926_22"></a><blockquote class="code"><p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1927_22" -->
<a id="c1927_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1928_22" -->
<a id="c1928_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1929_22" -->
<a id="c1929_22"></a><blockquote class="code"><p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1930_22" -->
<a id="c1930_22"></a><blockquote class="code"><p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1931_22" -->
<a id="c1931_22"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every hat is worn by a random hatless person.
</p></blockquote>
<!-- END CODE -->
<p>And we might hope that this would choose a new hatless person for each hat, but we would be wrong. It will instead choose one hatless person and put all the hats on him -- and everyone else has to go bare-headed. That's clearly no good. Let's try again:</p>
<!-- START CODE "c1932_22" -->
<a id="c1932_22"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Hatless 2[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every hatless person wears a random hat.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Hatless 2&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1933_22" -->
<a id="c1933_22"></a><blockquote class="code"><p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1934_22" -->
<a id="c1934_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1935_22" -->
<a id="c1935_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1936_22" -->
<a id="c1936_22"></a><blockquote class="code"><p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1937_22" -->
<a id="c1937_22"></a><blockquote class="code"><p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1938_22" -->
<a id="c1938_22"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every hatless person wears a random hat.
</p></blockquote>
<!-- END CODE -->
<p>But this selects one random hat and assigns it to each hatless person in turn -- so it will only wind up being worn by the last of them (since Inform knows that only one person can wear a hat at a time).</p>
<p>In this case, we do have to expand out our loop so that the game makes an explicit distribution:</p>
<!-- START CODE "c1939_22" -->
<a id="c1939_22"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Hatless 3[=0x0022=][=0x000A=][=0x000A=]The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.[=0x000A=][=0x000A=]Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):[=0x000A=][=0x0009=]say [=0x0022=][The target] is here, looking stylish in [an attire].[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about a hatless person (called the target):[=0x000A=][=0x0009=]say [=0x0022=][The target] mopes about, hatless.[=0x0022=][=0x000A=][=0x000A=]A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.[=0x000A=][=0x000A=]The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]repeat with item running through hats:[=0x000A=][=0x0009=][=0x0009=]now the item is worn by a random hatless person.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Hatless 3&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1940_22" -->
<a id="c1940_22"></a><blockquote class="code"><p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1941_22" -->
<a id="c1941_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] is here, looking stylish in [an attire].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1942_22" -->
<a id="c1942_22"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br />&#160;&#160;&#160;&#160;say &quot;[The target] mopes about, hatless.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1943_22" -->
<a id="c1943_22"></a><blockquote class="code"><p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1944_22" -->
<a id="c1944_22"></a><blockquote class="code"><p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1945_22" -->
<a id="c1945_22"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with item running through hats:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is worn by a random hatless person.
</p></blockquote>
<!-- END CODE -->
<p>Each time Inform considers the instruction &quot;now the item is worn by a random hatless person&quot;, there is one fewer such person to choose from -- so we can guarantee that the hats are distributed one per customer and that all hats are distributed.</p>
<p>Hatless 3 is only guaranteed to work because the number of hats is less than or equal to the number of people; otherwise the final use of random will return &quot;nothing&quot; and then a problem message will appear during play.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "127: Technological Terror" "e94" -->
<a id="e94"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example94'); return false;"><b>127</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example94'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Technological Terror</span></b></a><br />A ray gun which destroys objects, leaving their component parts behind.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc51.html#e94"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example94" style="display: none;">
<!-- START CODE "c1946_94" -->
<a id="c1946_94"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Technological Terror[=0x0022=][=0x000A=][=0x000A=]The Decomposition Ray Gun is a thing carried by the player.[=0x000A=][=0x000A=][First we need to define our shooting action:][=0x000A=][=0x000A=]Shooting it with is an action applying to two things.[=0x000A=][=0x000A=]Check shooting something with something:[=0x000A=][=0x0009=]if the player is not carrying the Ray Gun, say [=0x0022=]You are pathetically unarmed![=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not the Ray Gun, say [=0x0022=][The second noun] does not fire.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the Ray Gun, say [=0x0022=]Nice trick if you can do it![=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the player, say [=0x0022=]That would be disastrous![=0x0022=] instead.[=0x000A=][=0x000A=][Next, some grammar to allow the player to use this action:][=0x000A=][=0x000A=]Understand [=0x0022=]shoot [gun] at [something ungunlike][=0x0022=] as shooting it with (with nouns reversed).[=0x000A=][=0x000A=]Definition: a thing is ungunlike if it is not the gun.[=0x000A=][=0x000A=]Understand [=0x0022=]shoot [something ungunlike] with [gun][=0x0022=] as shooting it with. Understand [=0x0022=]shoot [something] with [something][=0x0022=] as shooting it with.[=0x000A=][=0x000A=]Understand [=0x0022=]shoot [something] at [something][=0x0022=] as shooting it with (with nouns reversed). Understand [=0x0022=]fire [gun] at [something ungunlike][=0x0022=] as shooting it with (with nouns reversed). Understand [=0x0022=]fire at [something ungunlike] with [gun][=0x0022=] as shooting it with. Understand [=0x0022=]fire at [something] with [something][=0x0022=] as shooting it with.[=0x000A=][=0x000A=][Strictly speaking, we only need these last grammar lines (with [=0x0022=]understand shoot something...[=0x0022=]) in order to define an action that the player can take. Adding more grammar lines means that Inform will try to match the most specific ones first, which is useful when the player types something ambiguous and there is one choice that obviously fits this action better than the others. See the chapter on Understanding for a further discussion.][=0x000A=][=0x000A=][Here we get to use [=0x0022=]now...[=0x0022=] to give it its destructive effect:][=0x000A=][=0x000A=]Carry out shooting something with something:[=0x000A=][=0x0009=]say [=0x0022=]ZAP! [The noun] twinkles out of existence! [if something is part of the noun][The list of things which are part of the noun] clatter to the ground! [end if][paragraph break][=0x0022=];[=0x000A=][=0x0009=]now every thing which is part of the noun is in the location;[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]The Deathbot Assembly Line is a room. [=0x0022=]Here is the heart of the whole operation, where your opponents are assembled fresh from scrap metal and bits of old car.[=0x0022=] The dangerous robot is a thing in the Assembly Line. [=0x0022=]One dangerous robot looks ready to take you on![=0x0022=] A robotic head, a drill arm, a needle arm, a crushing leg and a kicking leg are parts of the dangerous robot.[=0x000A=][=0x000A=]Instead of examining something when something is part of the noun:[=0x000A=][=0x0009=]say [=0x0022=][The noun] consists of [a list of things which are part of the noun].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]x robot / shoot robot / fire at kicking leg / shoot gun at drill arm / look[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Technological Terror&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1947_94" -->
<a id="c1947_94"></a><blockquote class="code"><p class="quoted">
The Decomposition Ray Gun is a thing carried by the player.
</p></blockquote>
<!-- END CODE -->
<p>First we need to define our shooting action:</p>
<!-- START CODE "c1948_94" -->
<a id="c1948_94"></a><blockquote class="code"><p class="quoted">
Shooting it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1949_94" -->
<a id="c1949_94"></a><blockquote class="code"><p class="quoted">
Check shooting something with something:
<br />&#160;&#160;&#160;&#160;if the player is not carrying the Ray Gun, say &quot;You are pathetically unarmed!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not the Ray Gun, say &quot;[The second noun] does not fire.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the Ray Gun, say &quot;Nice trick if you can do it!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the player, say &quot;That would be disastrous!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>Next, some grammar to allow the player to use this action:</p>
<!-- START CODE "c1950_94" -->
<a id="c1950_94"></a><blockquote class="code"><p class="quoted">
Understand &quot;shoot [gun] at [something ungunlike]&quot; as shooting it with (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1951_94" -->
<a id="c1951_94"></a><blockquote class="code"><p class="quoted">
Definition: a thing is ungunlike if it is not the gun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1952_94" -->
<a id="c1952_94"></a><blockquote class="code"><p class="quoted">
Understand &quot;shoot [something ungunlike] with [gun]&quot; as shooting it with. Understand &quot;shoot [something] with [something]&quot; as shooting it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1953_94" -->
<a id="c1953_94"></a><blockquote class="code"><p class="quoted">
Understand &quot;shoot [something] at [something]&quot; as shooting it with (with nouns reversed). Understand &quot;fire [gun] at [something ungunlike]&quot; as shooting it with (with nouns reversed). Understand &quot;fire at [something ungunlike] with [gun]&quot; as shooting it with. Understand &quot;fire at [something] with [something]&quot; as shooting it with.
</p></blockquote>
<!-- END CODE -->
<p>Strictly speaking, we only need these last grammar lines (with &quot;understand shoot something...&quot;) in order to define an action that the player can take. Adding more grammar lines means that Inform will try to match the most specific ones first, which is useful when the player types something ambiguous and there is one choice that obviously fits this action better than the others. See the chapter on Understanding for a further discussion.</p>
<p>Here we get to use &quot;now...&quot; to give it its destructive effect:</p>
<!-- START CODE "c1954_94" -->
<a id="c1954_94"></a><blockquote class="code"><p class="quoted">
Carry out shooting something with something:
<br />&#160;&#160;&#160;&#160;say &quot;ZAP! [The noun] twinkles out of existence! [if something is part of the noun][The list of things which are part of the noun] clatter to the ground! [end if][paragraph break]&quot;;
<br />&#160;&#160;&#160;&#160;now every thing which is part of the noun is in the location;
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1955_94" -->
<a id="c1955_94"></a><blockquote class="code"><p class="quoted">
The Deathbot Assembly Line is a room. &quot;Here is the heart of the whole operation, where your opponents are assembled fresh from scrap metal and bits of old car.&quot; The dangerous robot is a thing in the Assembly Line. &quot;One dangerous robot looks ready to take you on!&quot; A robotic head, a drill arm, a needle arm, a crushing leg and a kicking leg are parts of the dangerous robot.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1956_94" -->
<a id="c1956_94"></a><blockquote class="code"><p class="quoted">
Instead of examining something when something is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] consists of [a list of things which are part of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1957_94" -->
<a id="c1957_94"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x robot / shoot robot / fire at kicking leg / shoot gun at drill arm / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc125.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc127.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
