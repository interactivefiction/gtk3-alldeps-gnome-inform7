<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>4.1. The Passage Of Time</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "The Passage Of Time" -->
<!-- SEARCH SECTION "4.1" -->
<!-- SEARCH SORT "001-004-001-000" -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc16.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 4: Time and Plot</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc18.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<p class="sectionheading">ยง4.1. The Passage Of Time</p>
<p>A story that makes heavy use of time may want to give the player a hint that time is important - and an easy way to keep track of how it's going - by adding the current time to the status line, instead of the score. To do this, we would write</p>
<!-- START CODE "c10640" -->
<a id="c10640"></a><blockquote class="code"><p class="quoted">
When play begins: change the right hand status line to &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>All else being equal, time passes at a rate of one minute per turn. But this need not be so: we can imagine a story where turns take much less time, or much more; or a story in which the passage of time was sometimes suspended, or one in which different actions required different amounts of time to perform.</p>
<p><span class="boldface">Situation Room</span> provides a way to print 24-hour time, while <span class="boldface">Zqlran Era 8</span> implements a completely new measurement of time, for a story set on an alien world.</p>
<p><span class="boldface">Uptempo</span> and <span class="boldface">The Hang of Thursdays</span> speed up time's passage: turns take fifteen minutes in the former, or a quarter day in the latter.</p>
<p><span class="boldface">Timeless</span> makes certain actions instant, so that they don't count against the clock; this is sometimes useful in timed situations where the player needs to review the situation before going on with a tricky puzzle. <span class="boldface">Endurance</span> systematically extends this idea to allow us to assign different durations to any action in the story. <span class="boldface">The Big Sainsbury's</span> goes the opposite direction, and meticulously adds a minute to the clock for all implicit take actions, just so that the player isn't allowed to economize on moves.</p>
<p>An alternative approach to time is not to tell the player specifically what hour of the day it is at all, but to move from one general time period to another as it becomes appropriate - when the player has solved enough puzzles, or worked his way through enough of the plot. To this end we might use scenes representing, say, Thursday afternoon and then Thursday evening; then our scene rules, rather than the clock, would determine when Thursday afternoon stopped and Thursday evening began:</p>
<!-- START CODE "c10641" -->
<a id="c10641"></a><blockquote class="code"><p class="quoted">
Thursday afternoon is a scene. Thursday evening is a scene.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10642" -->
<a id="c10642"></a><blockquote class="code"><p class="quoted">
Thursday afternoon ends when the player carries the portfolio.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10643" -->
<a id="c10643"></a><blockquote class="code"><p class="quoted">
Thursday evening begins when Thursday afternoon ends.
<br />When Thursday evening begins:
<br />&#160;&#160;&#160;&#160;say &quot;The great clock over St. Margaret's begins to chime 6.&quot;;
</p></blockquote>
<!-- END CODE -->
<p>Though this gives time a loose relation to the number of turns played, it feels surprisingly realistic: players tend to think of time in a story in terms of the number of <span class="italic">significant</span> moves they made, while the random wandering, taking inventory, and looking at room descriptions while stuck don't make as big an impression. So advancing the story clock alongside the player's puzzle solutions or plot progress can work just as well as any stricter calculation.</p>
<p class="crossreference"><a href="Rdoc16.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Passers-By, Weather and Astronomical Events</b></a><i> for cycles of day and night scenes</i></p><p class="crossreference"><a href="Rdoc39.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Waiting, Sleeping</b></a><i> for commands to let the player wait until a specific time or for a specific number of minutes</i></p><p class="crossreference"><a href="Rdoc78.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Clocks and Scientific Instruments</b></a><i> for clocks that can be set to times and that have analog or digital read-outs</i></p><p class="crossreference"><a href="Rdoc100.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Timed Input</b></a><i> for discussion of extensions allowing real-time input</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "142: Situation Room" "e280" -->
<a id="e280"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example280'); return false;"><b>142</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example280'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Situation Room</span></b></a><br />Printing the time of day in 24-hour time, as in military situations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc141.html#e280"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example280" style="display: none;">
<p>Though Inform normally prints times in AM/PM terms, it stores the hours and minutes as 24-hour time; so, if we like, we can easily extract that information again thus:</p>
<!-- START CODE "c10644_280" -->
<a id="c10644_280"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Situation Room[=0x0022=][=0x000A=][=0x000A=]The Situation Room is a room.[=0x000A=][=0x000A=]To say (relevant time - a time) as 24h time:[=0x000A=][=0x0009=]let H be the hours part of relevant time;[=0x000A=][=0x0009=]let M be the minutes part of relevant time;[=0x000A=][=0x0009=]say [=0x0022=][if H is less than 10]0[end if][H][if M is less than 10]0[end if][M][=0x0022=].[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the time of day is 6:09 PM;[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day as 24h time][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Situation Room&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10645_280" -->
<a id="c10645_280"></a><blockquote class="code"><p class="quoted">
The Situation Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10646_280" -->
<a id="c10646_280"></a><blockquote class="code"><p class="quoted">
To say (relevant time - a time) as 24h time:
<br />&#160;&#160;&#160;&#160;let H be the hours part of relevant time;
<br />&#160;&#160;&#160;&#160;let M be the minutes part of relevant time;
<br />&#160;&#160;&#160;&#160;say &quot;[if H is less than 10]0[end if][H][if M is less than 10]0[end if][M]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10647_280" -->
<a id="c10647_280"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the time of day is 6:09 PM;
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day as 24h time]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10648_280" -->
<a id="c10648_280"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "378: The Big Sainsbury's" "e399" -->
<a id="e399"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example399'); return false;"><b>378</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example399'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Big Sainsbury's</span></b></a><br />Making implicit takes add a minute to the clock, just as though the player had typed TAKE THING explicitly.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc320.html#e399"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example399" style="display: none;">
<p>Implicit takes are a convenience to players; in general, we would like to avoid asking players to type any more obvious commands than strictly necessary, while allowing the computer to guess as much as it safely can.</p>
<p>Occasionally, though, we have designed a timed puzzle in which the player has a limited number of moves in which to accomplish his objectives. In that case, the implicit take complicates matters, because it means that a player who types</p>
<!-- START CODE "c10649_399" -->
<a id="c10649_399"></a><blockquote class="code"><p class="quoted">
&gt;EAT GATEAU
<br />(first taking the gateau...)
</p></blockquote>
<!-- END CODE -->
<p>gets away with a spare move compared to the precise but naรฏf dupe who types</p>
<!-- START CODE "c10650_399" -->
<a id="c10650_399"></a><blockquote class="code"><p class="quoted">
&gt;TAKE GATEAU
<br />&gt;EAT GATEAU
</p></blockquote>
<!-- END CODE -->
<p>...and really, that doesn't seem quite fair. The way to fix this problem is to fill in the extra minute on the clock during the implicit take; and that is indeed what we do in the following example.</p>
<!-- START CODE "c10651_399" -->
<a id="c10651_399"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Big Sainsbury[=0x0027=]s[=0x0022=][=0x000A=][=0x000A=]Sainsbury[=0x0027=]s is a room.[=0x000A=][=0x000A=]The crispy duck and the Guinness steak pie are edible things in Sainsbury[=0x0027=]s.[=0x000A=][=0x000A=]Rule for implicitly taking something:[=0x000A=][=0x0009=]follow the advance time rule;[=0x000A=][=0x0009=]continue the activity.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]take crispy duck / eat crispy duck / eat steak pie[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;The Big Sainsbury's&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10652_399" -->
<a id="c10652_399"></a><blockquote class="code"><p class="quoted">
Sainsbury's is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10653_399" -->
<a id="c10653_399"></a><blockquote class="code"><p class="quoted">
The crispy duck and the Guinness steak pie are edible things in Sainsbury's.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10654_399" -->
<a id="c10654_399"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking something:
<br />&#160;&#160;&#160;&#160;follow the advance time rule;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10655_399" -->
<a id="c10655_399"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10656_399" -->
<a id="c10656_399"></a><blockquote class="code"><p class="quoted">
Test me with &quot;take crispy duck / eat crispy duck / eat steak pie&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "393: Uptempo" "e135" -->
<a id="e135"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example135'); return false;"><b>393</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example135'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Uptempo</span></b></a><br />Adjust time advancement so the game clock moves fifteen minutes each turn.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc330.html#e135"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example135" style="display: none;">
<p>Suppose a game in which all actions take a very long time. Here's a simple implementation:</p>
<!-- START CODE "c10657_135" -->
<a id="c10657_135"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Uptempo[=0x0022=][=0x000A=][=0x000A=]The fast time rule is listed instead of the advance time rule in the turn sequence rules.[=0x000A=][=0x000A=]This is the fast time rule:[=0x000A=][=0x0009=]increment the turn count;[=0x000A=][=0x0009=]increase the time of day by 15 minutes.[=0x000A=][=0x000A=]When play begins: now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]The Temporal Hot Spot is a room.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Uptempo&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10658_135" -->
<a id="c10658_135"></a><blockquote class="code"><p class="quoted">
The fast time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10659_135" -->
<a id="c10659_135"></a><blockquote class="code"><p class="quoted">
This is the fast time rule:
<br />&#160;&#160;&#160;&#160;increment the turn count;
<br />&#160;&#160;&#160;&#160;increase the time of day by 15 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10660_135" -->
<a id="c10660_135"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10661_135" -->
<a id="c10661_135"></a><blockquote class="code"><p class="quoted">
The Temporal Hot Spot is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10662_135" -->
<a id="c10662_135"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This works fine as it stands, but we may run into some difficulty with it if we add scheduled events:</p>
<!-- START CODE "c10663_135" -->
<a id="c10663_135"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('At 9:30 AM:[=0x000A=][=0x0009=]say [=0x0022=]Two turtles run by, almost too fast to see.[=0x0022=][=0x000A=][=0x000A=]At 9:37 AM:[=0x000A=][=0x0009=]say [=0x0022=]A snail blitzes past.[=0x0022=][=0x000A=][=0x000A=]At 9:42 AM:[=0x000A=][=0x0009=]say [=0x0022=]The grass grows.[=0x0022=][=0x000A=][=0x000A=]At 9:50 AM:[=0x000A=][=0x0009=]say [=0x0022=]Several flowers burst open.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> At 9:30 AM:
<br />&#160;&#160;&#160;&#160;say &quot;Two turtles run by, almost too fast to see.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10664_135" -->
<a id="c10664_135"></a><blockquote class="code"><p class="quoted">
At 9:37 AM:
<br />&#160;&#160;&#160;&#160;say &quot;A snail blitzes past.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10665_135" -->
<a id="c10665_135"></a><blockquote class="code"><p class="quoted">
At 9:42 AM:
<br />&#160;&#160;&#160;&#160;say &quot;The grass grows.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10666_135" -->
<a id="c10666_135"></a><blockquote class="code"><p class="quoted">
At 9:50 AM:
<br />&#160;&#160;&#160;&#160;say &quot;Several flowers burst open.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Time is counted forward after the schedule has already been consulted, so that only the 9:30 AM event happens between 9:30 and 9:45; the next two appear to occur between 9:45 and 10:00 AM, and the 9:50 AM event is not reported until the 10:00 AM to 10:15 wait. To get around this, we might schedule events only on the fifteen-minute mark when we want them to occur. Alternatively, we might try instead</p>
<!-- START CODE "c10667_135" -->
<a id="c10667_135"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Uptempo[=0x0022=][=0x000A=][=0x000A=]The fast time rule is listed before the timed events rule in the turn sequence rules.[=0x000A=][=0x000A=]The advance time rule is not listed in the turn sequence rules.[=0x000A=][=0x000A=]This is the fast time rule:[=0x000A=][=0x0009=]increment the turn count;[=0x000A=][=0x0009=]increase the time of day by 15 minutes.[=0x000A=][=0x000A=]When play begins: now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]The Temporal Hot Spot is a room.[=0x000A=][=0x000A=]At 9:30 AM:[=0x000A=][=0x0009=]say [=0x0022=]Two turtles run by, almost too fast to see.[=0x0022=][=0x000A=][=0x000A=]At 9:37 AM:[=0x000A=][=0x0009=]say [=0x0022=]A snail blitzes past.[=0x0022=][=0x000A=][=0x000A=]At 9:42 AM:[=0x000A=][=0x0009=]say [=0x0022=]The grass grows.[=0x0022=][=0x000A=][=0x000A=]At 9:50 AM:[=0x000A=][=0x0009=]say [=0x0022=]Several flowers burst open.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]z / z / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Uptempo&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10668_135" -->
<a id="c10668_135"></a><blockquote class="code"><p class="quoted">
The fast time rule is listed before the timed events rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10669_135" -->
<a id="c10669_135"></a><blockquote class="code"><p class="quoted">
The advance time rule is not listed in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10670_135" -->
<a id="c10670_135"></a><blockquote class="code"><p class="quoted">
This is the fast time rule:
<br />&#160;&#160;&#160;&#160;increment the turn count;
<br />&#160;&#160;&#160;&#160;increase the time of day by 15 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10671_135" -->
<a id="c10671_135"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10672_135" -->
<a id="c10672_135"></a><blockquote class="code"><p class="quoted">
The Temporal Hot Spot is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10673_135" -->
<a id="c10673_135"></a><blockquote class="code"><p class="quoted">
At 9:30 AM:
<br />&#160;&#160;&#160;&#160;say &quot;Two turtles run by, almost too fast to see.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10674_135" -->
<a id="c10674_135"></a><blockquote class="code"><p class="quoted">
At 9:37 AM:
<br />&#160;&#160;&#160;&#160;say &quot;A snail blitzes past.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10675_135" -->
<a id="c10675_135"></a><blockquote class="code"><p class="quoted">
At 9:42 AM:
<br />&#160;&#160;&#160;&#160;say &quot;The grass grows.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10676_135" -->
<a id="c10676_135"></a><blockquote class="code"><p class="quoted">
At 9:50 AM:
<br />&#160;&#160;&#160;&#160;say &quot;Several flowers burst open.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10677_135" -->
<a id="c10677_135"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This time our revised time-advancing rule is listed just before the event scheduler, not just afterwards.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "409: Timeless" "e433" -->
<a id="e433"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example433'); return false;"><b>409</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example433'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Timeless</span></b></a><br />A set of actions which do not take any game time at all.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc341.html#e433"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example433" style="display: none;">
<p>In a game with tight timing, it is sometimes friendliest to the player to let him LOOK and EXAMINE as much as necessary without being penalized.</p>
<!-- START CODE "c10678_433" -->
<a id="c10678_433"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Timeless[=0x0022=][=0x000A=][=0x000A=]Examining something is acting fast. Looking is acting fast.[=0x000A=][=0x000A=][Now we need a rule which, just at the right moment, stops the turn sequence rulebook in the cast of our new fast-acting actions:][=0x000A=][=0x000A=]The take visual actions out of world rule is listed before the every turn stage rule in the turn sequence rules.[=0x000A=][=0x000A=]This is the take visual actions out of world rule: if acting fast, rule succeeds.[=0x000A=][=0x000A=][Thus the rest of the turn sequence rulebook is omitted for looking or examining: in effect, they become out-of-world actions like [=0x0022=]saving the game[=0x0022=]. If we wanted to add, say, taking inventory to the list of instant activities, we would just need to define it as acting fast, too.][=0x000A=][=0x000A=][Now the scenario for testing:][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=]You are cornered by a pack of zombie wolves, armed only with a torch and a pair of pinking shears. This may be your last moment on earth, unless you can think fast![=0x0022=][=0x000A=][=0x000A=]Cleft is a room. [=0x0022=]You[=0x0027=]re backed into a cleft in the granite: behind you are only steep, high faces of stone, and before you a narrow passage.[=0x0022=][=0x000A=][=0x000A=]The plural of zombie wolf is zombie wolves. A zombie wolf is a kind of animal. Four zombie wolves are in Cleft.[=0x000A=][=0x000A=]Rule for writing a paragraph about zombie wolves:[=0x000A=][=0x0009=]say [=0x0022=]The good news is that there isn[=0x0027=]t much space in which for the zombie wolves to attack.[=0x0022=];[=0x000A=][=0x0009=]now every zombie wolf is mentioned.[=0x000A=][=0x000A=]A steep high face of stone is scenery in Cleft. Understand [=0x0022=]rock[=0x0022=] as the stone. The description is [=0x0022=]Now that you look more closely, there appear to be pitons driven into the rock.[=0x0022=][=0x000A=][=0x000A=]Some pitons are part of the stone. The description of the pitons is [=0x0022=]It looks as though someone else has made this ascent before.[=0x0022=][=0x000A=][=0x000A=]Instead of climbing the stone, try going up. Instead of climbing the pitons, try going up.[=0x000A=][=0x000A=]Above the Cleft is Clifftop.[=0x000A=][=0x000A=]Every turn when the location is Cleft:[=0x000A=][=0x0009=]say [=0x0022=]Alas, your time has run out. The alpha wolf springs--[=0x0022=];[=0x000A=][=0x0009=]end the story.[=0x000A=][=0x000A=]Every turn when the location is Clifftop:[=0x000A=][=0x0009=]say [=0x0022=]After a breathless climb, you emerge at last onto the open clifftop.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]x me / x stone / x pitons / climb pitons[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Timeless&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10679_433" -->
<a id="c10679_433"></a><blockquote class="code"><p class="quoted">
Examining something is acting fast. Looking is acting fast.
</p></blockquote>
<!-- END CODE -->
<p>Now we need a rule which, just at the right moment, stops the turn sequence rulebook in the cast of our new fast-acting actions:</p>
<!-- START CODE "c10680_433" -->
<a id="c10680_433"></a><blockquote class="code"><p class="quoted">
The take visual actions out of world rule is listed before the every turn stage rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10681_433" -->
<a id="c10681_433"></a><blockquote class="code"><p class="quoted">
This is the take visual actions out of world rule: if acting fast, rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>Thus the rest of the turn sequence rulebook is omitted for looking or examining: in effect, they become out-of-world actions like &quot;saving the game&quot;. If we wanted to add, say, taking inventory to the list of instant activities, we would just need to define it as acting fast, too.</p>
<p>Now the scenario for testing:</p>
<!-- START CODE "c10682_433" -->
<a id="c10682_433"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;You are cornered by a pack of zombie wolves, armed only with a torch and a pair of pinking shears. This may be your last moment on earth, unless you can think fast!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10683_433" -->
<a id="c10683_433"></a><blockquote class="code"><p class="quoted">
Cleft is a room. &quot;You're backed into a cleft in the granite: behind you are only steep, high faces of stone, and before you a narrow passage.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10684_433" -->
<a id="c10684_433"></a><blockquote class="code"><p class="quoted">
The plural of zombie wolf is zombie wolves. A zombie wolf is a kind of animal. Four zombie wolves are in Cleft.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10685_433" -->
<a id="c10685_433"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about zombie wolves:
<br />&#160;&#160;&#160;&#160;say &quot;The good news is that there isn't much space in which for the zombie wolves to attack.&quot;;
<br />&#160;&#160;&#160;&#160;now every zombie wolf is mentioned.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10686_433" -->
<a id="c10686_433"></a><blockquote class="code"><p class="quoted">
A steep high face of stone is scenery in Cleft. Understand &quot;rock&quot; as the stone. The description is &quot;Now that you look more closely, there appear to be pitons driven into the rock.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10687_433" -->
<a id="c10687_433"></a><blockquote class="code"><p class="quoted">
Some pitons are part of the stone. The description of the pitons is &quot;It looks as though someone else has made this ascent before.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10688_433" -->
<a id="c10688_433"></a><blockquote class="code"><p class="quoted">
Instead of climbing the stone, try going up. Instead of climbing the pitons, try going up.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10689_433" -->
<a id="c10689_433"></a><blockquote class="code"><p class="quoted">
Above the Cleft is Clifftop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10690_433" -->
<a id="c10690_433"></a><blockquote class="code"><p class="quoted">
Every turn when the location is Cleft:
<br />&#160;&#160;&#160;&#160;say &quot;Alas, your time has run out. The alpha wolf springs--&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10691_433" -->
<a id="c10691_433"></a><blockquote class="code"><p class="quoted">
Every turn when the location is Clifftop:
<br />&#160;&#160;&#160;&#160;say &quot;After a breathless climb, you emerge at last onto the open clifftop.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10692_433" -->
<a id="c10692_433"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x me / x stone / x pitons / climb pitons&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "410: Endurance" "e142" -->
<a id="e142"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example142'); return false;"><b>410</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example142'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Endurance</span></b></a><br />Giving different actions a range of durations using a time allotment rulebook.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc341.html#e142"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example142" style="display: none;">
<p>Here we move to a systematic way of giving different durations to different actions, including even variations on the same act -- so that for instance climbing a steep hill might take several minutes more than other going actions. We do this by setting a number, &quot;work duration&quot;, to represent the number of minutes consumed by a given action, and then consulting a rulebook to find out how long the past turn's action should take. By default, an action will take 1 minute.</p>
<p>We'll start by emulating the behavior of &quot;Uptempo&quot;: each turn we'll set the clock forward most of the way, then check to see what has changed since the last turn, print any relevant events, and only then set the clock forward the final minute. The exception is when an action is set to take no time at all; in that case, we'll skip the rest of the turn sequence rules entirely.</p>
<!-- START CODE "c10693_142" -->
<a id="c10693_142"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Endurance[=0x0022=][=0x000A=][=0x000A=]Work duration is a number that varies.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]now work duration is 0;[=0x000A=][=0x0009=]increment the turn count;[=0x000A=][=0x0009=]follow the time allotment rules;[=0x000A=][=0x0009=]if work duration is 0, rule succeeds;[=0x000A=][=0x0009=]increase the time of day by (work duration minutes - 1 minute).[=0x000A=][=0x000A=]The time allotment rules are a rulebook.[=0x000A=][=0x000A=]A time allotment rule for examining or looking:[=0x000A=][=0x0009=]now work duration is 0;[=0x000A=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]A time allotment rule for going:[=0x000A=][=0x0009=]now work duration is 2;[=0x000A=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]A time allotment rule for going up:[=0x000A=][=0x0009=]now work duration is 5;[=0x000A=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]A time allotment rule for waiting:[=0x000A=][=0x0009=]now work duration is 10;[=0x000A=][=0x0009=]rule succeeds.[=0x000A=][=0x000A=]The last time allotment rule:[=0x000A=][=0x0009=]now work duration is 1.[=0x000A=][=0x000A=]When play begins: now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]The Quai is a room. [=0x0022=]An attractive park at the edge of the river Aude: here you can wander among palm trees, and watch cyclists go by on the bike path; in the water there are ducks. In the cafe to your north, patrons sip their pastis; and above you is the medieval walled city and its castle.[=0x0022=][=0x000A=][=0x000A=]The Cafe is north of the Quai. [=0x0022=]A charming collection of umbrella-shaded tables, from which one can watch the river and the walls of the city beyond. The noise of traffic is only a minor distraction.[=0x0022=][=0x000A=][=0x000A=]The City is above the Quai.[=0x000A=][=0x000A=]After going to the City:[=0x000A=][=0x0009=]say [=0x0022=]You struggle uphill for some distance...[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]At 9:15 AM:[=0x000A=][=0x0009=]say [=0x0022=]The bells ring out from Place Carnot.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]z / n / s / u[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a>  &quot;Endurance&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10694_142" -->
<a id="c10694_142"></a><blockquote class="code"><p class="quoted">
Work duration is a number that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10695_142" -->
<a id="c10695_142"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;now work duration is 0;
<br />&#160;&#160;&#160;&#160;increment the turn count;
<br />&#160;&#160;&#160;&#160;follow the time allotment rules;
<br />&#160;&#160;&#160;&#160;if work duration is 0, rule succeeds;
<br />&#160;&#160;&#160;&#160;increase the time of day by (work duration minutes - 1 minute).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10696_142" -->
<a id="c10696_142"></a><blockquote class="code"><p class="quoted">
The time allotment rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10697_142" -->
<a id="c10697_142"></a><blockquote class="code"><p class="quoted">
A time allotment rule for examining or looking:
<br />&#160;&#160;&#160;&#160;now work duration is 0;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10698_142" -->
<a id="c10698_142"></a><blockquote class="code"><p class="quoted">
A time allotment rule for going:
<br />&#160;&#160;&#160;&#160;now work duration is 2;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10699_142" -->
<a id="c10699_142"></a><blockquote class="code"><p class="quoted">
A time allotment rule for going up:
<br />&#160;&#160;&#160;&#160;now work duration is 5;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10700_142" -->
<a id="c10700_142"></a><blockquote class="code"><p class="quoted">
A time allotment rule for waiting:
<br />&#160;&#160;&#160;&#160;now work duration is 10;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10701_142" -->
<a id="c10701_142"></a><blockquote class="code"><p class="quoted">
The last time allotment rule:
<br />&#160;&#160;&#160;&#160;now work duration is 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10702_142" -->
<a id="c10702_142"></a><blockquote class="code"><p class="quoted">
When play begins: now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10703_142" -->
<a id="c10703_142"></a><blockquote class="code"><p class="quoted">
The Quai is a room. &quot;An attractive park at the edge of the river Aude: here you can wander among palm trees, and watch cyclists go by on the bike path; in the water there are ducks. In the cafe to your north, patrons sip their pastis; and above you is the medieval walled city and its castle.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10704_142" -->
<a id="c10704_142"></a><blockquote class="code"><p class="quoted">
The Cafe is north of the Quai. &quot;A charming collection of umbrella-shaded tables, from which one can watch the river and the walls of the city beyond. The noise of traffic is only a minor distraction.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10705_142" -->
<a id="c10705_142"></a><blockquote class="code"><p class="quoted">
The City is above the Quai.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10706_142" -->
<a id="c10706_142"></a><blockquote class="code"><p class="quoted">
After going to the City:
<br />&#160;&#160;&#160;&#160;say &quot;You struggle uphill for some distance...&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10707_142" -->
<a id="c10707_142"></a><blockquote class="code"><p class="quoted">
At 9:15 AM:
<br />&#160;&#160;&#160;&#160;say &quot;The bells ring out from Place Carnot.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10708_142" -->
<a id="c10708_142"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / n / s / u&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "183: The Hang of Thursdays" "e293" -->
<a id="e293"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example293'); return false;"><b>183</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example293'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Hang of Thursdays</span></b></a><br />Turns take a quarter day each, and the game rotates through the days of the week.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc176.html#e293"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example293" style="display: none;">
<!-- START CODE "c10709_293" -->
<a id="c10709_293"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Hang of Thursdays[=0x0022=][=0x000A=][=0x000A=]The Stage is a room. Rule for printing the name of the stage: say [=0x0022=][current weekday] [current time period][=0x0022=] instead.[=0x000A=][=0x000A=]A weekday is a kind of value. The weekdays are Saturday, Sunday, Monday, Tuesday, Wednesday, Thursday, Friday. The current weekday is a weekday that varies. The current weekday is Saturday.[=0x000A=][=0x000A=]A time period is a kind of value. The time periods are morning, afternoon, evening, night. The current time period is a time period that varies. The current time period is afternoon.[=0x000A=][=0x000A=]This is the new advance time rule:[=0x000A=][=0x0009=]if the current time period is less than night:[=0x000A=][=0x0009=][=0x0009=]now the current time period is the time period after the current time period;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the current time period is morning;[=0x000A=][=0x0009=][=0x0009=]now the current weekday is the weekday after the current weekday.[=0x000A=][=0x000A=][Now we need to borrow from a later chapter to make these instructions apply to the passage of time:][=0x000A=][=0x000A=]The new advance time rule is listed instead of the advance time rule in the turn sequence rules.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;The Hang of Thursdays&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10710_293" -->
<a id="c10710_293"></a><blockquote class="code"><p class="quoted">
The Stage is a room. Rule for printing the name of the stage: say &quot;[current weekday] [current time period]&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10711_293" -->
<a id="c10711_293"></a><blockquote class="code"><p class="quoted">
A weekday is a kind of value. The weekdays are Saturday, Sunday, Monday, Tuesday, Wednesday, Thursday, Friday. The current weekday is a weekday that varies. The current weekday is Saturday.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10712_293" -->
<a id="c10712_293"></a><blockquote class="code"><p class="quoted">
A time period is a kind of value. The time periods are morning, afternoon, evening, night. The current time period is a time period that varies. The current time period is afternoon.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10713_293" -->
<a id="c10713_293"></a><blockquote class="code"><p class="quoted">
This is the new advance time rule:
<br />&#160;&#160;&#160;&#160;if the current time period is less than night:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time period is the time period after the current time period;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current time period is morning;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the current weekday is the weekday after the current weekday.
</p></blockquote>
<!-- END CODE -->
<p>Now we need to borrow from a later chapter to make these instructions apply to the passage of time:</p>
<!-- START CODE "c10714_293" -->
<a id="c10714_293"></a><blockquote class="code"><p class="quoted">
The new advance time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10715_293" -->
<a id="c10715_293"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "260: Zqlran Era 8" "e441" -->
<a id="e441"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example441'); return false;"><b>260</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example441'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zqlran Era 8</span></b></a><br />Creating an alternative system of time for our game, using new units.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc240.html#e441"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example441" style="display: none;">
<p>Suppose that our game takes place on an alien planet that does not follow Earth time. On this planet, we want to track time with different units. We also want time to advance in those units, and we want to be able to set a schedule of timed events.</p>
<!-- START CODE "c10716_441" -->
<a id="c10716_441"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Zqlran Era 8[=0x0022=][=0x000A=][=0x000A=]The Barren Lavender Surface of Zql is a room. [=0x0022=]It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.[=0x0022=][=0x000A=][=0x000A=]A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now left hand status line is [=0x0022=][current zqlran date], or [current zqlran date in words][=0x0022=].[=0x000A=][=0x000A=]To say (Zqlra - a Zqlran date) in words:[=0x000A=][=0x0009=]say [=0x0022=][zqls part of Zqlra] Z, [frbs part of Zqlra] f.[=0x0022=][=0x000A=][=0x000A=][Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.][=0x000A=][=0x000A=][Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform[=0x0027=]s built-in time handling with an alternative time handling rule of our own:][=0x000A=][=0x000A=]The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.[=0x000A=][=0x000A=]This is the Zqlran time rule:[=0x000A=][=0x0009=]increment turn count;[=0x000A=][=0x0009=]now the previous zqlran date is current zqlran date;[=0x000A=][=0x0009=]increase the current zqlran date by 0-02;[=0x000A=][=0x0009=]repeat through the Table of Zql Schedule:[=0x000A=][=0x0009=][=0x0009=]if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say event entry;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]blank out the whole row.[=0x000A=][=0x000A=]Table of Zql Schedule[=0x000A=]era[=0x0009=]event[=0x000A=]8-24[=0x0009=][=0x0022=]A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.[=0x0022=][=0x000A=]8-28[=0x0009=][=0x0022=]The cloud across Nepenthe clears.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Zqlran Era 8&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10717_441" -->
<a id="c10717_441"></a><blockquote class="code"><p class="quoted">
The Barren Lavender Surface of Zql is a room. &quot;It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10718_441" -->
<a id="c10718_441"></a><blockquote class="code"><p class="quoted">
A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10719_441" -->
<a id="c10719_441"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now left hand status line is &quot;[current zqlran date], or [current zqlran date in words]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10720_441" -->
<a id="c10720_441"></a><blockquote class="code"><p class="quoted">
To say (Zqlra - a Zqlran date) in words:
<br />&#160;&#160;&#160;&#160;say &quot;[zqls part of Zqlra] Z, [frbs part of Zqlra] f.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.</p>
<p>Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform's built-in time handling with an alternative time handling rule of our own:</p>
<!-- START CODE "c10721_441" -->
<a id="c10721_441"></a><blockquote class="code"><p class="quoted">
The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10722_441" -->
<a id="c10722_441"></a><blockquote class="code"><p class="quoted">
This is the Zqlran time rule:
<br />&#160;&#160;&#160;&#160;increment turn count;
<br />&#160;&#160;&#160;&#160;now the previous zqlran date is current zqlran date;
<br />&#160;&#160;&#160;&#160;increase the current zqlran date by 0-02;
<br />&#160;&#160;&#160;&#160;repeat through the Table of Zql Schedule:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say event entry;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;blank out the whole row.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c10723_441" -->
<a id="c10723_441"></a><blockquote class="code"><p class="quoted">
Table of Zql Schedule
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">era</p></td><td class="quotedtablecell"><p class="quoted">event</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-24</p></td><td class="quotedtablecell"><p class="quoted">&quot;A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8-28</p></td><td class="quotedtablecell"><p class="quoted">&quot;The cloud across Nepenthe clears.&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Note that we could if we wished use a different device for scheduling events: this one simply prints text at scheduled eras, but we might also (for instance) make the event entry be a rule for Inform to follow, and tell Inform to carry out that rule at the scheduled time.</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc16.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc18.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
