<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>19.5. Changing the behaviour of rules</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Changing the behaviour of rules" -->
<!-- SEARCH SECTION "19.5" -->
<!-- SEARCH SORT "000-019-005-000" -->
<!-- START IGNORE 330 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="doc330.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 19: Rulebooks</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="doc332.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง19.5. Changing the behaviour of rules</p>
<p>Here is another way to abolish an already-existing rule:</p>
<!-- START CODE "c7548" -->
<a id="c7548"></a><blockquote class="code"><p class="quoted">
The print final score rule does nothing.
</p></blockquote>
<!-- END CODE -->
<p>The rule continues to be listed in any rulebook it would normally be listed in: but now it doesn't do anything. More usefully, we can attach a condition:</p>
<!-- START CODE "c7549" -->
<a id="c7549"></a><blockquote class="code"><p class="quoted">
The print final score rule does nothing if the score is 0.
</p></blockquote>
<!-- END CODE -->
<p>or:</p>
<!-- START CODE "c7550" -->
<a id="c7550"></a><blockquote class="code"><p class="quoted">
The print final score rule does nothing unless the score is 100.
</p></blockquote>
<!-- END CODE -->
<p>We can also substitute a rule of our own:</p>
<!-- START CODE "c7551" -->
<a id="c7551"></a><blockquote class="code"><p class="quoted">
This is the print fancy final score rule:
<br />&#160;&#160;&#160;&#160;say &quot;Oh my, you scored a mammoth [score]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7552" -->
<a id="c7552"></a><blockquote class="code"><p class="quoted">
The print fancy final score rule substitutes for the print final score rule.
</p></blockquote>
<!-- END CODE -->
<p>and once again a condition can be applied:</p>
<!-- START CODE "c7553" -->
<a id="c7553"></a><blockquote class="code"><p class="quoted">
The print fancy final score rule substitutes for the print final score rule when the score is greater than 100.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "398: Access All Areas" "e389" -->
<a id="e389"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example389'); return false;"><b>398</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example389'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Access All Areas</span></b></a><br />The Pointy Hat of Liminal Transgression allows its wearer to walk clean through closed doors.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rdoc89.html#e389"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example389" style="display: none;">
<p>If somebody tries to walk through a closed door, the &quot;can't go through closed doors rule&quot; usually stops them. This is a rule belonging to the &quot;check going&quot; rulebook. These names are fairly explanatory when written out, but hard to remember: fortunately we don't need to remember them, as the Index panel contains a full inventory of the check, carry out and report rules for every action, showing all of their names and the order in which they are checked. (We can also find out which rules are stopping an action by typing the testing command ACTIONS.)</p>
<p>Here we make the rule do nothing provided a condition holds:</p>
<!-- START CODE "c7554_389" -->
<a id="c7554_389"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Access All Areas[=0x0022=][=0x000A=][=0x000A=]The extremely difficult door is north of the Standing Room and south of the Room of Walking Upside Down.  It is a locked door.[=0x000A=][=0x000A=]The player is carrying the Pointy Hat of Liminal Transgression. The hat is wearable.[=0x000A=][=0x000A=]The can[=0x0027=]t go through closed doors rule does nothing when the Hat is worn.[=0x000A=][=0x000A=]Test me with [=0x0022=]n / wear hat / n[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Access All Areas&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7555_389" -->
<a id="c7555_389"></a><blockquote class="code"><p class="quoted">
The extremely difficult door is north of the Standing Room and south of the Room of Walking Upside Down.  It is a locked door.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7556_389" -->
<a id="c7556_389"></a><blockquote class="code"><p class="quoted">
The player is carrying the Pointy Hat of Liminal Transgression. The hat is wearable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7557_389" -->
<a id="c7557_389"></a><blockquote class="code"><p class="quoted">
The can't go through closed doors rule does nothing when the Hat is worn.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7558_389" -->
<a id="c7558_389"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / wear hat / n&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(The Pointy Hat may be useful in debugging a game, even if it never makes it into the final published work.)</p>
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="doc330.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="doc332.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
