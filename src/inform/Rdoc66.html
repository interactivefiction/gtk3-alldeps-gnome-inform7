<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 24 Dec 2015 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>8.4. Furniture</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'inform:/doc_images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'inform:/doc_images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'inform:/doc_images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>

<!-- SEARCH TITLE "Furniture" -->
<!-- SEARCH SECTION "8.4" -->
<!-- SEARCH SORT "001-008-004-000" -->
<!-- START IGNORE 65 -->
<div class="bookheader">
<table class="fullwidth midnightblack"><tr><td class="midnightbannerleftcell"><a href="Rdoc65.html" class="standardlink"><img alt="Hookleft.png" src="inform:/doc_images/Hookleft.png" id="hookleft" /></a></td><td class="midnightbannercentrecell"><a href="index.html" class="standardlink"><span class="midnightbannertext">Chapter 8: Vehicles, Animals and Furniture</span></a></td><td class="midnightbannerrightcell"><a href="index.html" class="standardlink"><img alt="Hookup.png" src="inform:/doc_images/Hookup.png" id="hookup" /></a><a href="Rdoc67.html" class="standardlink"><img alt="Hookright.png" src="inform:/doc_images/Hookright.png" id="hookright" /></a></td></tr></table></div>
<!-- END IGNORE -->
<p class="sectionheading">ยง8.4. Furniture</p>
<p>Most domestic furniture consists of supporters and containers of one size or another. This means that the simplest furniture needs no elaborate instructions:</p>
<!-- START CODE "c13779" -->
<a id="c13779"></a><blockquote class="code"><p class="quoted">
The candlestick is on the dining table. The dining table is fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13780" -->
<a id="c13780"></a><blockquote class="code"><p class="quoted">
The silver salt cellar is on the serving trolley. The serving trolley is pushable between rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13781" -->
<a id="c13781"></a><blockquote class="code"><p class="quoted">
The pillow is on the bed. The bed is enterable and fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>The examples below are therefore mostly ways to get around the usual restrictions on containers (that they only have one interior) and supporters (that they cannot simultaneously be containers as well).</p>
<p><span class="boldface">Yolk of Gold</span> provides a set of drawers, that is, a container with multiple interiors.</p>
<p><span class="boldface">U-Stor-It</span> provides a way to have containers with a lid which is also a supporter.</p>
<p><span class="boldface">Swigmore</span> provides a supporter which holds up the player, but has no top surface as such, and cannot hold up anything else. <span class="boldface">Kiwi</span> demonstrates a kind of high shelf, whose objects cannot be seen or used unless the player stands on a ladder.</p>
<p><span class="boldface">Princess and the Pea</span> shows how a pile of supporters, each on top of the last, could be managed.</p>
<p><span class="boldface">Tamed</span> demonstrates furniture large enough to get inside, or on top of.</p>
<p><span class="boldface">Circle of Misery</span> demonstrates a conveyor belt, which can hold multiple items but only brings one of them within the player's reach at a time.</p>
<p class="crossreference"><a href="Rdoc10.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Position Within Rooms</b></a><i> for a box that can be positioned and used as a stepping stool</i></p><p class="crossreference"><a href="Rdoc23.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>The Human Body</b></a><i> for letting the player take different postures on furniture or on the floor</i></p><p class="crossreference"><a href="Rdoc8.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for tables and other furniture whose content listing is suppressed or modified in a room description</i></p><p class="crossreference"><a href="Rdoc38.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Entering and Exiting, Sitting and Standing</b></a><i> for making the player automatically rise from a seat before leaving the room</i></p><p class="crossreference"><a href="Rdoc78.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Clocks and Scientific Instruments</b></a><i> for a grandfather clock</i></p><p class="crossreference"><a href="Rdoc67.html" class="xreflink"><img class="asterisk" alt="*" src="inform:/doc_images/xref.png" />&#160;<i>See </i><b>Kitchen and Bathroom</b></a><i> for a mirror the player can look into</i></p><hr />
<div class="bookexamples">
<p class="chapterheading"></p><!-- START EXAMPLE "13: Tamed" "e78" -->
<a id="e78"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example78'); return false;"><b>13</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example78'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Tamed</span></b></a><br />Examples of a container and a supporter that can be entered, as well as nested rooms.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc31.html#e78"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example78" style="display: none;">
<p>Within a room, we might have containers and supporters that a player can enter. A chair, stool, table, dais, or pedestal would be an enterable supporter (anything we would describe a person as being &quot;on&quot;); a cage, hammock, or booth would be an enterable container (because we would describe the person as being &quot;inside&quot;).</p>
<p>When the player is in or on something, he is able to see the rest of the contents of the room, but a note such as &quot;(in the hammock)&quot; or &quot;(on the poster bed)&quot; is added to the room title when he looks around.</p>
<p>Here is an example to show off the possibilities:</p>
<!-- START CODE "c13782_78" -->
<a id="c13782_78"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Tamed[=0x0022=][=0x000A=][=0x000A=]The Center Ring is a room. The cage is in the Center Ring. A lion is an animal in the cage. The cage is enterable, openable, transparent, and closed.[=0x000A=][=0x000A=][Notice that we made the cage transparent. Strictly speaking it is not made of transparent materials, but we can see into (or out of) a closed cage due to the gaps between the bars, so that from Inform[=0x0027=]s point of view a cage behaves much like a large sturdy glass box. (If we really wanted to make a distinction between, say, an airtight container and one with perforations, we could do so, but Inform does not model such nuances by default.) If a container is not transparent, we can see into and out of it only when it is open.][=0x000A=][=0x000A=][Supporters are a bit more straightforward because there is no circumstance in which they separate the player from the rest of the world:][=0x000A=][=0x000A=]The pedestal is in the Center Ring. It is enterable.[=0x000A=][=0x000A=][And in fact we can tell Inform that the player starts on the pedestal with this line:][=0x000A=][=0x000A=]The player is on a pedestal.[=0x000A=][=0x000A=][Now the player will begin there rather than just in the Center Ring.][=0x000A=][=0x000A=][This last bit is an entirely unnecessary bit of local color, but if we[=0x0027=]re going to keep getting into and out of the lion[=0x0027=]s cage, we ought to expect him to take notice:][=0x000A=][=0x000A=]Every turn when the player is in the cage:[=0x000A=][=0x0009=]if a random chance of 1 in 2 succeeds, say [=0x0022=]The lion eyes you with obvious discontent.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]Though the lion does not move, you are aware that it is watching you closely.[=0x0022=][=0x000A=][=0x000A=][Randomness is explained more completely in the chapter on Change, and every turn rules in the chapter on Time.][=0x000A=][=0x000A=][Finally, we might want a container whose interior is modeled as its own separate room: say, a magician[=0x0027=]s booth in which volunteers are made to disappear.][=0x000A=][=0x000A=]The magician[=0x0027=]s booth is a container in Center Ring. [=0x0022=]Off to one side is a magician[=0x0027=]s booth, used in disappearing acts. The exterior is covered with painted gilt stars.[=0x0022=] The booth is enterable, open, not openable, and fixed in place.[=0x000A=][=0x000A=][Now we create our other location:][=0x000A=][=0x000A=]Inside from the Center Ring is the Starry Vastness.[=0x000A=][=0x000A=][...which handles the case of the player typing [=0x003E=]IN. (We will not assume by default that he wants to get into the cage with the lion, this being obviously perilous.) But we also want to make sure that the player who types [=0x003E=]ENTER BOOTH winds up in the same place, so we should add:][=0x000A=][=0x000A=]Instead of entering the magician[=0x0027=]s booth: try going inside.[=0x000A=][=0x000A=]Test me with [=0x0022=]get in cage / open cage / get in cage / z / close cage / out / open cage / get on pedestal / get off / look / enter booth / out[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Tamed&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13783_78" -->
<a id="c13783_78"></a><blockquote class="code"><p class="quoted">
The Center Ring is a room. The cage is in the Center Ring. A lion is an animal in the cage. The cage is enterable, openable, transparent, and closed.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we made the cage transparent. Strictly speaking it is not made of transparent materials, but we can see into (or out of) a closed cage due to the gaps between the bars, so that from Inform's point of view a cage behaves much like a large sturdy glass box. (If we really wanted to make a distinction between, say, an airtight container and one with perforations, we could do so, but Inform does not model such nuances by default.) If a container is not transparent, we can see into and out of it only when it is open.</p>
<p>Supporters are a bit more straightforward because there is no circumstance in which they separate the player from the rest of the world:</p>
<!-- START CODE "c13784_78" -->
<a id="c13784_78"></a><blockquote class="code"><p class="quoted">
The pedestal is in the Center Ring. It is enterable.
</p></blockquote>
<!-- END CODE -->
<p>And in fact we can tell Inform that the player starts on the pedestal with this line:</p>
<!-- START CODE "c13785_78" -->
<a id="c13785_78"></a><blockquote class="code"><p class="quoted">
The player is on a pedestal.
</p></blockquote>
<!-- END CODE -->
<p>Now the player will begin there rather than just in the Center Ring.</p>
<p>This last bit is an entirely unnecessary bit of local color, but if we're going to keep getting into and out of the lion's cage, we ought to expect him to take notice:</p>
<!-- START CODE "c13786_78" -->
<a id="c13786_78"></a><blockquote class="code"><p class="quoted">
Every turn when the player is in the cage:
<br />&#160;&#160;&#160;&#160;if a random chance of 1 in 2 succeeds, say &quot;The lion eyes you with obvious discontent.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Though the lion does not move, you are aware that it is watching you closely.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Randomness is explained more completely in the chapter on Change, and every turn rules in the chapter on Time.</p>
<p>Finally, we might want a container whose interior is modeled as its own separate room: say, a magician's booth in which volunteers are made to disappear.</p>
<!-- START CODE "c13787_78" -->
<a id="c13787_78"></a><blockquote class="code"><p class="quoted">
The magician's booth is a container in Center Ring. &quot;Off to one side is a magician's booth, used in disappearing acts. The exterior is covered with painted gilt stars.&quot; The booth is enterable, open, not openable, and fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Now we create our other location:</p>
<!-- START CODE "c13788_78" -->
<a id="c13788_78"></a><blockquote class="code"><p class="quoted">
Inside from the Center Ring is the Starry Vastness.
</p></blockquote>
<!-- END CODE -->
<p>...which handles the case of the player typing &gt;IN. (We will not assume by default that he wants to get into the cage with the lion, this being obviously perilous.) But we also want to make sure that the player who types &gt;ENTER BOOTH winds up in the same place, so we should add:</p>
<!-- START CODE "c13789_78" -->
<a id="c13789_78"></a><blockquote class="code"><p class="quoted">
Instead of entering the magician's booth: try going inside.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13790_78" -->
<a id="c13790_78"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get in cage / open cage / get in cage / z / close cage / out / open cage / get on pedestal / get off / look / enter booth / out&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "172: Princess and the Pea" "e214" -->
<a id="e214"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example214'); return false;"><b>172</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example214'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Princess and the Pea</span></b></a><br />The player is unable to sleep on a mattress (or stack of mattresses) because the bottom one has something uncomfortable under it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc165.html#e214"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example214" style="display: none;">
<p>The main point here is that we need to figure out where the stack meets the floor:</p>
<!-- START CODE "c13791_214" -->
<a id="c13791_214"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Princess and the Pea[=0x0022=][=0x000A=][=0x000A=]The Topmost Turret is a room. A mattress is a kind of supporter. A mattress is always enterable. A mattress is portable.[=0x000A=][=0x000A=]A large mattress is a mattress in the Turret. A medium mattress is a mattress in the Turret. A small mattress is a mattress in the Turret.[=0x000A=][=0x000A=]Instead of sleeping when the player is on a mattress (called the bed):[=0x000A=][=0x0009=]let the item be the bed;[=0x000A=][=0x0009=]while the holder of the item is not a room:[=0x000A=][=0x0009=][=0x0009=]let the item be the holder of the item;[=0x000A=][=0x0009=]say [=0x0022=]You can still feel something very uncomfortable under [the item].[=0x0022=][=0x000A=][=0x000A=]Instead of sleeping:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t sleep standing up![=0x0022=][=0x000A=][=0x000A=]Instead of looking under a mattress, say [=0x0022=]You scout around, but are unable to determine what[=0x0027=]s causing you this discomfort. If only your maid Winnie were here. She[=0x0027=]s very good at this.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sleep / enter small / sleep / get up / get small / put small on medium / get on small / sleep / get up / g / get medium / put medium on large / get on small / look / sleep[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Princess and the Pea&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13792_214" -->
<a id="c13792_214"></a><blockquote class="code"><p class="quoted">
The Topmost Turret is a room. A mattress is a kind of supporter. A mattress is always enterable. A mattress is portable.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13793_214" -->
<a id="c13793_214"></a><blockquote class="code"><p class="quoted">
A large mattress is a mattress in the Turret. A medium mattress is a mattress in the Turret. A small mattress is a mattress in the Turret.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13794_214" -->
<a id="c13794_214"></a><blockquote class="code"><p class="quoted">
Instead of sleeping when the player is on a mattress (called the bed):
<br />&#160;&#160;&#160;&#160;let the item be the bed;
<br />&#160;&#160;&#160;&#160;while the holder of the item is not a room:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let the item be the holder of the item;
<br />&#160;&#160;&#160;&#160;say &quot;You can still feel something very uncomfortable under [the item].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13795_214" -->
<a id="c13795_214"></a><blockquote class="code"><p class="quoted">
Instead of sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;You can't sleep standing up!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13796_214" -->
<a id="c13796_214"></a><blockquote class="code"><p class="quoted">
Instead of looking under a mattress, say &quot;You scout around, but are unable to determine what's causing you this discomfort. If only your maid Winnie were here. She's very good at this.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13797_214" -->
<a id="c13797_214"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sleep / enter small / sleep / get up / get small / put small on medium / get on small / sleep / get up / g / get medium / put medium on large / get on small / look / sleep&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "361: Kiwi" "e432" -->
<a id="e432"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example432'); return false;"><b>361</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example432'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Kiwi</span></b></a><br />Creating a raised supporter kind whose contents the player can't see or take from the ground.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc314.html#e432"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example432" style="display: none;">
<p>Suppose we want there to be some high shelves in our game, which the player can't get at unless he's standing on a prop of some kind. (This is a pretty hoary and over-used puzzle, but there may still be occasions when it becomes useful again.)</p>
<p>In order to resolve this, we want to set up a raised supporter kind. When something is on a raised supporter, it should be mentioned to the player only if the player is in the right position (i.e., standing on something) and otherwise omitted from the description entirely.</p>
<!-- START CODE "c13798_432" -->
<a id="c13798_432"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Kiwi[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A raised supporter is a kind of supporter.[=0x000A=][=0x000A=]For printing a locale paragraph about a raised supporter (called the high place):[=0x000A=][=0x0009=]if the player is on a supporter (called the riser):[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Up on [the high place] (and only visible because you[=0x0027=]re on [the riser]) [is-are a list of things on the high place].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The [high place] is above you.[=0x0022=][=0x000A=][=0x000A=][Note that here we don[=0x0027=]t continue the activity because we want to completely replace the normal behavior of describing what is on supporters.][=0x000A=][=0x000A=]Definition: a thing (called target item) is out of reach:[=0x000A=][=0x0009=]if the player is on a supporter, no;[=0x000A=][=0x0009=]if the target item is on a raised supporter, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=][Now we also need to prevent the player from interacting with things that are out of reach:][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the noun is out of reach or the second noun is out of reach:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=] instead.[=0x000A=][=0x000A=][...or restoring things to the shelves while the player is in the wrong position...][=0x000A=][=0x000A=]Instead of putting something on a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=][=0x000A=][=0x000A=][And raised supporters shouldn[=0x0027=]t be searchable from the ground either:][=0x000A=][=0x000A=]Instead of searching or examining a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t see from down here.[=0x0022=][=0x000A=][=0x000A=][Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don[=0x0027=]t want to list the objects up there if the player can[=0x0027=]t even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can[=0x0027=]t be reached, and then we adjust the parser error so that it[=0x0027=]s a little more instructive than [=0x0022=]There are none at all available![=0x0022=], which is what the response would otherwise be:][=0x000A=][=0x000A=]Disallowed-all is a truth state that varies. Disallowed-all is false.[=0x000A=][=0x000A=]Rule for deciding whether all includes an out of reach thing:[=0x000A=][=0x0009=]now disallowed-all is true;[=0x000A=][=0x0009=]it does not.[=0x000A=][=0x000A=]Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:[=0x000A=][=0x0009=]if disallowed-all is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Whatever might be up there, you can[=0x0027=]t see or reach from down here.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]make no decision.[=0x000A=][=0x000A=]A first action-processing rule:[=0x000A=][=0x0009=]now disallowed-all is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Bottom of the Nursery is a room. [=0x0022=]Ever since you ate that mysterious cake, you[=0x0027=]ve been even shorter than usual.[=0x0022=][=0x000A=][=0x000A=]The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.[=0x000A=][=0x000A=]The step-ladder is an enterable supporter in the Nursery. Understand [=0x0022=]ladder[=0x0022=] as the step-ladder.[=0x000A=][=0x000A=]Test me with [=0x0022=]x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Kiwi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13799_432" -->
<a id="c13799_432"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13800_432" -->
<a id="c13800_432"></a><blockquote class="code"><p class="quoted">
A raised supporter is a kind of supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13801_432" -->
<a id="c13801_432"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a raised supporter (called the high place):
<br />&#160;&#160;&#160;&#160;if the player is on a supporter (called the riser):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Up on [the high place] (and only visible because you're on [the riser]) [is-are a list of things on the high place].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The [high place] is above you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that here we don't continue the activity because we want to completely replace the normal behavior of describing what is on supporters.</p>
<!-- START CODE "c13802_432" -->
<a id="c13802_432"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called target item) is out of reach:
<br />&#160;&#160;&#160;&#160;if the player is on a supporter, no;
<br />&#160;&#160;&#160;&#160;if the target item is on a raised supporter, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<p>Now we also need to prevent the player from interacting with things that are out of reach:</p>
<!-- START CODE "c13803_432" -->
<a id="c13803_432"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the noun is out of reach or the second noun is out of reach:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...or restoring things to the shelves while the player is in the wrong position...</p>
<!-- START CODE "c13804_432" -->
<a id="c13804_432"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And raised supporters shouldn't be searchable from the ground either:</p>
<!-- START CODE "c13805_432" -->
<a id="c13805_432"></a><blockquote class="code"><p class="quoted">
Instead of searching or examining a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't see from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don't want to list the objects up there if the player can't even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can't be reached, and then we adjust the parser error so that it's a little more instructive than &quot;There are none at all available!&quot;, which is what the response would otherwise be:</p>
<!-- START CODE "c13806_432" -->
<a id="c13806_432"></a><blockquote class="code"><p class="quoted">
Disallowed-all is a truth state that varies. Disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13807_432" -->
<a id="c13807_432"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes an out of reach thing:
<br />&#160;&#160;&#160;&#160;now disallowed-all is true;
<br />&#160;&#160;&#160;&#160;it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13808_432" -->
<a id="c13808_432"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;if disallowed-all is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Whatever might be up there, you can't see or reach from down here.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13809_432" -->
<a id="c13809_432"></a><blockquote class="code"><p class="quoted">
A first action-processing rule:
<br />&#160;&#160;&#160;&#160;now disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13810_432" -->
<a id="c13810_432"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13811_432" -->
<a id="c13811_432"></a><blockquote class="code"><p class="quoted">
The Bottom of the Nursery is a room. &quot;Ever since you ate that mysterious cake, you've been even shorter than usual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13812_432" -->
<a id="c13812_432"></a><blockquote class="code"><p class="quoted">
The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13813_432" -->
<a id="c13813_432"></a><blockquote class="code"><p class="quoted">
The step-ladder is an enterable supporter in the Nursery. Understand &quot;ladder&quot; as the step-ladder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13814_432" -->
<a id="c13814_432"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "436: Circle of Misery" "e358" -->
<a id="e358"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example358'); return false;"><b>436</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example358'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Circle of Misery</span></b></a><br />Retrieving items from an airport luggage carousel is such fun, how can we resist simulating it, using a list as a ring buffer?</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc362.html#e358"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example358" style="display: none;">
<p>The only point we need to be careful about is that the carousel is simulated twice over, in the following text: once in the built-in way that objects are inside other objects, so that the luggage items are objects contained in the carousel object; but then again by the &quot;circle of misery&quot; list, a ring buffer keeping track of what order things are in. We need to be careful that these two records do not fall out of synchrony: anything put into the carousel must be added to the list, anything taken out must be removed. (In fact we forbid things to be added, for simplicity's sake.)</p>
<!-- START CODE "c13815_358" -->
<a id="c13815_358"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Circle Of Misery[=0x0022=][=0x000A=][=0x000A=]Luggage item is a kind of thing. The blue golf bag, the leopardskin suitcase, the green rucksack and the Lufthansa shoulder-bag are luggage items.[=0x000A=][=0x000A=]Heathrow Baggage Claim is a room. The carousel is a container in Heathrow. [=0x0022=]The luggage carousel, a scaly rubbered ring, does for the roundabout what Heathrow Airport does for the dream of flight: that is, turns the purest magic into the essence of boredom, only with extra stress. [if the number of entries in the circle of misery is 0]For once it stands idle. Perhaps it[=0x0027=]s broken.[otherwise]The baggage approaching you now: [the circle of misery with indefinite articles].[=0x0022=][=0x000A=][=0x000A=]The circle of misery is a list of objects that varies.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now all the luggage items are in the carousel;[=0x000A=][=0x0009=]add the list of luggage items to the circle of misery.[=0x000A=][=0x000A=][The list [=0x0022=]circle of misery[=0x0022=] is our ring, in which entry 1 is considered to be the position of whichever bag is currently frontmost. And here it goes, round and round:][=0x000A=][=0x000A=]Every turn when the number of entries in the circle of misery is not 0:[=0x000A=][=0x0009=]rotate the circle of misery;[=0x000A=][=0x0009=]let the bag be entry 1 of the circle of misery;[=0x000A=][=0x0009=]say [=0x0022=]The carousel trundles on, bringing [a bag] to within reach.[=0x0022=][=0x000A=][=0x000A=]After taking a luggage item (called the bag):[=0x000A=][=0x0009=]remove the bag from the circle of misery, if present;[=0x000A=][=0x0009=]say [=0x0022=]Taken.[=0x0022=][=0x000A=][=0x000A=]Before doing something with a luggage item (called the bag) which is in the carousel:[=0x000A=][=0x0009=]if the bag is not entry 1 of the circle of misery, say [=0x0022=][The bag] is maddeningly out of range. You[=0x0027=]ll have to wait for it to come round.[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of inserting something into the carousel, say [=0x0022=]In recent years, the authorities have tended to frown upon depositing bags in random places at airports.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get suitcase / get suitcase / get suitcase / get suitcase / look / get golf bag / look / get golf bag[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Circle Of Misery&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13816_358" -->
<a id="c13816_358"></a><blockquote class="code"><p class="quoted">
Luggage item is a kind of thing. The blue golf bag, the leopardskin suitcase, the green rucksack and the Lufthansa shoulder-bag are luggage items.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13817_358" -->
<a id="c13817_358"></a><blockquote class="code"><p class="quoted">
Heathrow Baggage Claim is a room. The carousel is a container in Heathrow. &quot;The luggage carousel, a scaly rubbered ring, does for the roundabout what Heathrow Airport does for the dream of flight: that is, turns the purest magic into the essence of boredom, only with extra stress. [if the number of entries in the circle of misery is 0]For once it stands idle. Perhaps it's broken.[otherwise]The baggage approaching you now: [the circle of misery with indefinite articles].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13818_358" -->
<a id="c13818_358"></a><blockquote class="code"><p class="quoted">
The circle of misery is a list of objects that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13819_358" -->
<a id="c13819_358"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now all the luggage items are in the carousel;
<br />&#160;&#160;&#160;&#160;add the list of luggage items to the circle of misery.
</p></blockquote>
<!-- END CODE -->
<p>The list &quot;circle of misery&quot; is our ring, in which entry 1 is considered to be the position of whichever bag is currently frontmost. And here it goes, round and round:</p>
<!-- START CODE "c13820_358" -->
<a id="c13820_358"></a><blockquote class="code"><p class="quoted">
Every turn when the number of entries in the circle of misery is not 0:
<br />&#160;&#160;&#160;&#160;rotate the circle of misery;
<br />&#160;&#160;&#160;&#160;let the bag be entry 1 of the circle of misery;
<br />&#160;&#160;&#160;&#160;say &quot;The carousel trundles on, bringing [a bag] to within reach.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13821_358" -->
<a id="c13821_358"></a><blockquote class="code"><p class="quoted">
After taking a luggage item (called the bag):
<br />&#160;&#160;&#160;&#160;remove the bag from the circle of misery, if present;
<br />&#160;&#160;&#160;&#160;say &quot;Taken.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13822_358" -->
<a id="c13822_358"></a><blockquote class="code"><p class="quoted">
Before doing something with a luggage item (called the bag) which is in the carousel:
<br />&#160;&#160;&#160;&#160;if the bag is not entry 1 of the circle of misery, say &quot;[The bag] is maddeningly out of range. You'll have to wait for it to come round.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13823_358" -->
<a id="c13823_358"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into the carousel, say &quot;In recent years, the authorities have tended to frown upon depositing bags in random places at airports.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13824_358" -->
<a id="c13824_358"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get suitcase / get suitcase / get suitcase / get suitcase / look / get golf bag / look / get golf bag&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "83: Yolk of Gold" "e126" -->
<a id="e126"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example126'); return false;"><b>83</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example126'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Yolk of Gold</span></b></a><br />Set of drawers where the item the player seeks is always in the last drawer he opens, regardless of the order of opening.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc97.html#e126"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example126" style="display: none;">
<p>Suppose that for dramatic effect we would like the player to find the thing he is looking for always in the last drawer he opens...</p>
<!-- START CODE "c13825_126" -->
<a id="c13825_126"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Yolk of Gold[=0x0022=][=0x000A=][=0x000A=]The Turret is a room. [=0x0022=]A cramped little room distinguished chiefly by the spiral staircase that descends from it. The windows look out over the rooftop.[=0x0022=][=0x000A=][=0x000A=]The Rooftop is outside from the Turret.[=0x000A=][=0x000A=]The staircase is an open unopenable door. It is scenery. It is below the Turret and above the Library. The description is [=0x0022=]A winding stair carved out of the single trunk of a massive tree, all in a dark wood; the outside of the stairs left unfinished with the bark still on, but the treads worn smooth by long and constant use.[=0x0022=][=0x000A=][=0x000A=]The description of the Library is [=0x0022=]Here, it seems, you have found your mark: books line both walls, a dark carpet lies on the floor, and a strange dress hangs up in a presentation case. And the thing you were told to look for, a desk with three drawers.[=0x000A=][=0x000A=]A spiral staircase leads up and out.[=0x0022=][=0x000A=][=0x000A=]The cherry desk is scenery in the library. The description is [=0x0022=]A deep, satin-lustrous cherry, with scrollwork legs and gilt touches. The years have not been kind, and it has cracked and split in several places; the finish is damaged, and where there is inlaid mother of pearl, it is beginning to come up from its bed.  But it is still a sound piece, and features three drawers.[=0x0022=][=0x000A=][=0x000A=]After examining the desk for the first time, say [=0x0022=](Your employers were able to tell you to look for it, but not which drawer to look in. Typical.)[=0x0022=][=0x000A=][=0x000A=]A drawer is a kind of container. A drawer is always openable and closed. The description of a drawer is [=0x0022=]The usual drawer of heavy wood, inadequately smoothed for ease of use.[=0x0022=][=0x000A=][=0x000A=]The top drawer is a drawer. The middle drawer is a drawer. The bottom drawer is a drawer. The top drawer, the middle drawer, and the bottom drawer are part of the desk. A drawer can be explored or unexplored. A drawer is usually unexplored. Instead of searching a closed drawer, try opening the noun.[=0x000A=][=0x000A=]After opening a drawer when no drawers are explored:[=0x000A=][=0x0009=]now the noun is explored;[=0x000A=][=0x0009=]say [=0x0022=]There is a tremendous screech, but nothing whatsoever inside, not even dust.[=0x0022=][=0x000A=][=0x000A=]After opening an unexplored drawer when exactly one drawer is explored:[=0x000A=][=0x0009=]now the noun is explored;[=0x000A=][=0x0009=]say [=0x0022=]You struggle to open this one a bit more quietly, conscious all the time of noise...  but no, it[=0x0027=]s empty.  Just stands to reason.[=0x0022=][=0x000A=][=0x000A=]After closing a drawer:[=0x000A=][=0x0009=]say [=0x0022=]There is a racket of wood protesting against wood as you do so, which makes you wonder if you hadn[=0x0027=]t better just leave them open from now on.  The unhappy owner is probably going to catch on soon enough anyway.[=0x0022=][=0x000A=][=0x000A=]Before opening an unexplored drawer when exactly two drawers are explored:[=0x000A=][=0x0009=]move the mysterious thing to the noun;[=0x000A=][=0x0009=]now the noun is explored.[=0x000A=][=0x000A=]There is a mysterious thing. The description is [=0x0022=]A very familiar-looking hemispherical weight of metal, goldish in tone though perhaps not made of gold.  This one has a slight stickiness about the bottom surface.[=0x0022=][=0x000A=][=0x000A=]Instead of opening the desk when at least one drawer is unexplored:[=0x000A=][=0x0009=]let the next drawer be a random unexplored drawer;[=0x000A=][=0x0009=]say [=0x0022=](starting with [the next drawer])[line break][=0x0022=];[=0x000A=][=0x0009=]try opening the next drawer.[=0x000A=][=0x000A=]Instead of looking under the desk when no drawers are explored:[=0x000A=][=0x0009=]say [=0x0022=]You carefully survey the ground around the desk.  There don[=0x0027=]t seem to be any hidden tripwires or traps to prevent you from having a look in the drawers.[=0x0022=][=0x000A=][=0x000A=]Instead of looking under the desk when at least one drawer is unexplored:[=0x000A=][=0x0009=]say [=0x0022=]Nothing there either.  Thoroughness is a virtue with tedium as a side effect, as your mother used to say -- but they always counted her a trifle slapdash.[=0x0022=][=0x000A=][=0x000A=]Instead of looking under the desk when all drawers are explored:[=0x000A=][=0x0009=]say [=0x0022=]There[=0x0027=]s nothing down there, but this doesn[=0x0027=]t come as a great surprise.[=0x0022=][=0x000A=][=0x000A=]Instead of searching the desk when at least one drawer is unexplored:[=0x000A=][=0x0009=]move the mysterious thing to the player;[=0x000A=][=0x0009=]say [=0x0022=]You perform a hasty, squeaky search of [=0x0022=];[=0x000A=][=0x0009=]if no drawer is explored, say [=0x0022=]all three drawers, discovering nothing and nothing in rapid succession.  But on the third drawer you [=0x0022=];[=0x000A=][=0x0009=]if exactly two drawers are unexplored, say [=0x0022=]the remaining two drawers.  There[=0x0027=]s nothing in the second, but in the third you [=0x0022=];[=0x000A=][=0x0009=]if exactly one drawer is unexplored, say [=0x0022=]the last drawer.  In it, you [=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]turn up a promising hemispherical object.[=0x0022=];[=0x000A=][=0x0009=]now all the drawers are explored.[=0x000A=][=0x000A=][Perhaps, just for fun, we have all the other scenery draw the player[=0x0027=]s attention back to the main point, as well.][=0x000A=][=0x000A=]The carpet is scenery in the Library. The description is [=0x0022=]It is too dark for you to make out details of the antique design, which seems dimly to represent an early voyage to the moon, with ships and the travelling stars.[=0x0022=] Understand [=0x0022=]rug[=0x0022=] as carpet.[=0x000A=][=0x000A=]Instead of looking under the carpet:[=0x000A=][=0x0009=]if none of the drawers are explored, say [=0x0022=]You peel up a corner of the rug gingerly; nothing results. A perfectly ordinary rug, then.[=0x0022=] instead;[=0x000A=][=0x0009=]if all of the drawers are explored, say [=0x0022=]No time for that kind of nonsense. You[=0x0027=]d better get out and away while you can.[=0x0022=] instead;[=0x000A=][=0x0009=]if some of the drawers are explored, say [=0x0022=]No time for that nonsense. The desk[=0x0027=]s what you want now; what you came for won[=0x0027=]t be embedded in the flooring.[=0x0022=] instead.[=0x000A=][=0x000A=]The glass presentation case is transparent scenery in the Library. The description is [=0x0022=]The case is taller than you are, framed in wood, with large panels of glass, the better to display the remarkable contents.[=0x0022=][=0x000A=][=0x000A=]Instead of attacking the glass presentation case:[=0x000A=][=0x0009=]say [=0x0022=]The glass pane of the presentation case shatters, throwing fine glass everywhere, including over the delicate museum-piece inside. Nor does the noise pass unnoted: only a second passes before there are footsteps in the hall, and though you make for the concealing darkness and escape of the turret, you are not swift enough. The servants are soon on you, and you are made to regret, quite painfully, this casual act of vandalism.[=0x0022=];[=0x000A=][=0x0009=]end the story saying [=0x0022=]You have lost your opportunity.[=0x0022=][=0x000A=][=0x000A=]The strange dress is a wearable thing in the glass case. The description is [=0x0022=]Not the sort of dress that anyone wears now: such elaboration would be ludicrous.  It drips gold -- gilt lace, ruffles of trimmed gold, shimmering golden tracery -- dulled here and there by the sinister black of faceted jet.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]d / x case / x dress / x carpet / look under carpet / look under desk / x desk / open top drawer / close top drawer / look under desk / open bottom drawer / close bottom drawer / open middle drawer / get thing / look under carpet / look under desk / up[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Yolk of Gold&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13826_126" -->
<a id="c13826_126"></a><blockquote class="code"><p class="quoted">
The Turret is a room. &quot;A cramped little room distinguished chiefly by the spiral staircase that descends from it. The windows look out over the rooftop.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13827_126" -->
<a id="c13827_126"></a><blockquote class="code"><p class="quoted">
The Rooftop is outside from the Turret.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13828_126" -->
<a id="c13828_126"></a><blockquote class="code"><p class="quoted">
The staircase is an open unopenable door. It is scenery. It is below the Turret and above the Library. The description is &quot;A winding stair carved out of the single trunk of a massive tree, all in a dark wood; the outside of the stairs left unfinished with the bark still on, but the treads worn smooth by long and constant use.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13829_126" -->
<a id="c13829_126"></a><blockquote class="code"><p class="quoted">
The description of the Library is &quot;Here, it seems, you have found your mark: books line both walls, a dark carpet lies on the floor, and a strange dress hangs up in a presentation case. And the thing you were told to look for, a desk with three drawers.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13830_126" -->
<a id="c13830_126"></a><blockquote class="code"><p class="quoted">
A spiral staircase leads up and out.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13831_126" -->
<a id="c13831_126"></a><blockquote class="code"><p class="quoted">
The cherry desk is scenery in the library. The description is &quot;A deep, satin-lustrous cherry, with scrollwork legs and gilt touches. The years have not been kind, and it has cracked and split in several places; the finish is damaged, and where there is inlaid mother of pearl, it is beginning to come up from its bed.  But it is still a sound piece, and features three drawers.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13832_126" -->
<a id="c13832_126"></a><blockquote class="code"><p class="quoted">
After examining the desk for the first time, say &quot;(Your employers were able to tell you to look for it, but not which drawer to look in. Typical.)&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13833_126" -->
<a id="c13833_126"></a><blockquote class="code"><p class="quoted">
A drawer is a kind of container. A drawer is always openable and closed. The description of a drawer is &quot;The usual drawer of heavy wood, inadequately smoothed for ease of use.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13834_126" -->
<a id="c13834_126"></a><blockquote class="code"><p class="quoted">
The top drawer is a drawer. The middle drawer is a drawer. The bottom drawer is a drawer. The top drawer, the middle drawer, and the bottom drawer are part of the desk. A drawer can be explored or unexplored. A drawer is usually unexplored. Instead of searching a closed drawer, try opening the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13835_126" -->
<a id="c13835_126"></a><blockquote class="code"><p class="quoted">
After opening a drawer when no drawers are explored:
<br />&#160;&#160;&#160;&#160;now the noun is explored;
<br />&#160;&#160;&#160;&#160;say &quot;There is a tremendous screech, but nothing whatsoever inside, not even dust.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13836_126" -->
<a id="c13836_126"></a><blockquote class="code"><p class="quoted">
After opening an unexplored drawer when exactly one drawer is explored:
<br />&#160;&#160;&#160;&#160;now the noun is explored;
<br />&#160;&#160;&#160;&#160;say &quot;You struggle to open this one a bit more quietly, conscious all the time of noise...  but no, it's empty.  Just stands to reason.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13837_126" -->
<a id="c13837_126"></a><blockquote class="code"><p class="quoted">
After closing a drawer:
<br />&#160;&#160;&#160;&#160;say &quot;There is a racket of wood protesting against wood as you do so, which makes you wonder if you hadn't better just leave them open from now on.  The unhappy owner is probably going to catch on soon enough anyway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13838_126" -->
<a id="c13838_126"></a><blockquote class="code"><p class="quoted">
Before opening an unexplored drawer when exactly two drawers are explored:
<br />&#160;&#160;&#160;&#160;move the mysterious thing to the noun;
<br />&#160;&#160;&#160;&#160;now the noun is explored.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13839_126" -->
<a id="c13839_126"></a><blockquote class="code"><p class="quoted">
There is a mysterious thing. The description is &quot;A very familiar-looking hemispherical weight of metal, goldish in tone though perhaps not made of gold.  This one has a slight stickiness about the bottom surface.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13840_126" -->
<a id="c13840_126"></a><blockquote class="code"><p class="quoted">
Instead of opening the desk when at least one drawer is unexplored:
<br />&#160;&#160;&#160;&#160;let the next drawer be a random unexplored drawer;
<br />&#160;&#160;&#160;&#160;say &quot;(starting with [the next drawer])[line break]&quot;;
<br />&#160;&#160;&#160;&#160;try opening the next drawer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13841_126" -->
<a id="c13841_126"></a><blockquote class="code"><p class="quoted">
Instead of looking under the desk when no drawers are explored:
<br />&#160;&#160;&#160;&#160;say &quot;You carefully survey the ground around the desk.  There don't seem to be any hidden tripwires or traps to prevent you from having a look in the drawers.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13842_126" -->
<a id="c13842_126"></a><blockquote class="code"><p class="quoted">
Instead of looking under the desk when at least one drawer is unexplored:
<br />&#160;&#160;&#160;&#160;say &quot;Nothing there either.  Thoroughness is a virtue with tedium as a side effect, as your mother used to say -- but they always counted her a trifle slapdash.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13843_126" -->
<a id="c13843_126"></a><blockquote class="code"><p class="quoted">
Instead of looking under the desk when all drawers are explored:
<br />&#160;&#160;&#160;&#160;say &quot;There's nothing down there, but this doesn't come as a great surprise.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13844_126" -->
<a id="c13844_126"></a><blockquote class="code"><p class="quoted">
Instead of searching the desk when at least one drawer is unexplored:
<br />&#160;&#160;&#160;&#160;move the mysterious thing to the player;
<br />&#160;&#160;&#160;&#160;say &quot;You perform a hasty, squeaky search of &quot;;
<br />&#160;&#160;&#160;&#160;if no drawer is explored, say &quot;all three drawers, discovering nothing and nothing in rapid succession.  But on the third drawer you &quot;;
<br />&#160;&#160;&#160;&#160;if exactly two drawers are unexplored, say &quot;the remaining two drawers.  There's nothing in the second, but in the third you &quot;;
<br />&#160;&#160;&#160;&#160;if exactly one drawer is unexplored, say &quot;the last drawer.  In it, you &quot;;
<br />&#160;&#160;&#160;&#160;say &quot;turn up a promising hemispherical object.&quot;;
<br />&#160;&#160;&#160;&#160;now all the drawers are explored.
</p></blockquote>
<!-- END CODE -->
<p>Perhaps, just for fun, we have all the other scenery draw the player's attention back to the main point, as well.</p>
<!-- START CODE "c13845_126" -->
<a id="c13845_126"></a><blockquote class="code"><p class="quoted">
The carpet is scenery in the Library. The description is &quot;It is too dark for you to make out details of the antique design, which seems dimly to represent an early voyage to the moon, with ships and the travelling stars.&quot; Understand &quot;rug&quot; as carpet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13846_126" -->
<a id="c13846_126"></a><blockquote class="code"><p class="quoted">
Instead of looking under the carpet:
<br />&#160;&#160;&#160;&#160;if none of the drawers are explored, say &quot;You peel up a corner of the rug gingerly; nothing results. A perfectly ordinary rug, then.&quot; instead;
<br />&#160;&#160;&#160;&#160;if all of the drawers are explored, say &quot;No time for that kind of nonsense. You'd better get out and away while you can.&quot; instead;
<br />&#160;&#160;&#160;&#160;if some of the drawers are explored, say &quot;No time for that nonsense. The desk's what you want now; what you came for won't be embedded in the flooring.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13847_126" -->
<a id="c13847_126"></a><blockquote class="code"><p class="quoted">
The glass presentation case is transparent scenery in the Library. The description is &quot;The case is taller than you are, framed in wood, with large panels of glass, the better to display the remarkable contents.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13848_126" -->
<a id="c13848_126"></a><blockquote class="code"><p class="quoted">
Instead of attacking the glass presentation case:
<br />&#160;&#160;&#160;&#160;say &quot;The glass pane of the presentation case shatters, throwing fine glass everywhere, including over the delicate museum-piece inside. Nor does the noise pass unnoted: only a second passes before there are footsteps in the hall, and though you make for the concealing darkness and escape of the turret, you are not swift enough. The servants are soon on you, and you are made to regret, quite painfully, this casual act of vandalism.&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost your opportunity.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13849_126" -->
<a id="c13849_126"></a><blockquote class="code"><p class="quoted">
The strange dress is a wearable thing in the glass case. The description is &quot;Not the sort of dress that anyone wears now: such elaboration would be ludicrous.  It drips gold -- gilt lace, ruffles of trimmed gold, shimmering golden tracery -- dulled here and there by the sinister black of faceted jet.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13850_126" -->
<a id="c13850_126"></a><blockquote class="code"><p class="quoted">
Test me with &quot;d / x case / x dress / x carpet / look under carpet / look under desk / x desk / open top drawer / close top drawer / look under desk / open bottom drawer / close bottom drawer / open middle drawer / get thing / look under carpet / look under desk / up&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "396: Swigmore U." "e59" -->
<a id="e59"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example59'); return false;"><b>396</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example59'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Swigmore U.</span></b></a><br />Adding a new kind of supporter called a perch, where everything dropped lands on the floor.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc330.html#e59"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example59" style="display: none;">
<p>Inform's default assumption is that if a player on an enterable object drops something, the dropped article winds up beside him on the same supporter or in the same container. This makes lots of sense for a dais, say, or a king-sized bed. It's a little less sensible if the enterable supporter in question is a bar stool or the like. So suppose we want to add a new kind of supporter called a perch, where everything dropped lands on the floor.</p>
<p>There are actually several ways of implementing this, but one of them is to reach right into the drop action and replace the &quot;standard dropping rule&quot; with a different one of our own invention -- like this:</p>
<!-- START CODE "c13851_59" -->
<a id="c13851_59"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Swigmore U.[=0x0022=][=0x000A=][=0x000A=]Moe[=0x0027=]s Tavern is a room. The bar is an enterable supporter in Moe[=0x0027=]s. A drink is a kind of thing. On the bar is a drink called a flaming Homer.[=0x000A=][=0x000A=]A perch is a kind of supporter. A perch is always enterable. The stool is a perch in Moe[=0x0027=]s.[=0x000A=][=0x000A=]The player carries a dead field mouse and a tomacco fruit.[=0x000A=][=0x000A=]The sophisticated dropping rule is listed instead of the standard dropping rule in the carry out dropping rulebook.[=0x000A=][=0x000A=]This is the sophisticated dropping rule:[=0x000A=][=0x0009=]if the player is on a perch (called the awkward position):[=0x000A=][=0x0009=][=0x0009=]let place be the holder of the awkward position;[=0x000A=][=0x0009=][=0x0009=]move the noun to the place;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]move the noun to the holder of the player.[=0x000A=][=0x000A=]Test me with [=0x0022=]sit on stool / drop mouse / look / get up / look[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;Swigmore U.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13852_59" -->
<a id="c13852_59"></a><blockquote class="code"><p class="quoted">
Moe's Tavern is a room. The bar is an enterable supporter in Moe's. A drink is a kind of thing. On the bar is a drink called a flaming Homer.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13853_59" -->
<a id="c13853_59"></a><blockquote class="code"><p class="quoted">
A perch is a kind of supporter. A perch is always enterable. The stool is a perch in Moe's.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13854_59" -->
<a id="c13854_59"></a><blockquote class="code"><p class="quoted">
The player carries a dead field mouse and a tomacco fruit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13855_59" -->
<a id="c13855_59"></a><blockquote class="code"><p class="quoted">
The sophisticated dropping rule is listed instead of the standard dropping rule in the carry out dropping rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13856_59" -->
<a id="c13856_59"></a><blockquote class="code"><p class="quoted">
This is the sophisticated dropping rule:
<br />&#160;&#160;&#160;&#160;if the player is on a perch (called the awkward position):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let place be the holder of the awkward position;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the place;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the noun to the holder of the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13857_59" -->
<a id="c13857_59"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sit on stool / drop mouse / look / get up / look&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now the carry-out behavior of the dropping action has been changed, but we haven't had to interfere in the checks or reporting at all. The rest of the action works just as it always did.</p>
<p>Of course, maybe we do want to change the way the action is reported, to make it clearer to the player where the dropped article wound up:</p>
<!-- START CODE "c13858_59" -->
<a id="c13858_59"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The sophisticated report dropping rule is listed instead of the standard report dropping rule in the report dropping rulebook.[=0x000A=][=0x000A=]This is the sophisticated report dropping rule:[=0x000A=][=0x0009=]say [=0x0022=]You drop [the noun] on [if the holder of the noun is a room]the ground[otherwise][the holder of the noun][end if].[=0x0022=][=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> The sophisticated report dropping rule is listed instead of the standard report dropping rule in the report dropping rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13859_59" -->
<a id="c13859_59"></a><blockquote class="code"><p class="quoted">
This is the sophisticated report dropping rule:
<br />&#160;&#160;&#160;&#160;say &quot;You drop [the noun] on [if the holder of the noun is a room]the ground[otherwise][the holder of the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<!-- START EXAMPLE "58: U-Stor-It" "e96" -->
<a id="e96"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="#" class="eglink" onclick="showExample('example96'); return false;"><b>58</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="#" class="eglink" onclick="showExample('example96'); return false;"><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><img class="asterisk" alt="*" src="inform:/doc_images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">U-Stor-It</span></b></a><br />A "chest" kind which consists of a container which has a lid as a supporter.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="doc66.html#e96"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<div class="egpanel" id="example96" style="display: none;">
<p>Suppose we want to write a game in which there are a number of chests. Each of these chests will be a container, but have a lid which is a supporter.</p>
<!-- START CODE "c13860_96" -->
<a id="c13860_96"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]U-Stor-It[=0x0022=][=0x000A=][=0x000A=]Section 1 - Assemblies and Supporters[=0x000A=][=0x000A=]A chest is a kind of container. A chest is always openable. A chest is usually fixed in place. A chest is usually closed. The specification of a chest is [=0x0022=]Represents a container with a separately implemented lid; the lid is itself a supporter.[=0x0022=][=0x000A=][=0x000A=]A lid is a kind of supporter. A lid is part of every chest. The specification of a lid is [=0x0022=]A supporter attached to a chest, which can only support things when the chest is closed.[=0x0022=][=0x000A=][=0x000A=][(The [=0x0022=]specification[=0x0022=] of a kind is not really a property, and is used instead to describe the kind in the Index. So the text of these specifications is never found in the game.) Of course, this doesn[=0x0027=]t get us very far. We will also want the game to correctly interpret variations on [=0x0022=]open the chest[=0x0022=] and [=0x0022=]close the lid[=0x0022=], redirecting actions appropriately.][=0x000A=][=0x000A=]Section 2 - Opening and closing[=0x000A=][=0x000A=]Before opening a lid which is part of a chest (called the item):[=0x000A=][=0x0009=]try opening the item instead.[=0x000A=][=0x000A=]Before closing a lid which is part of a chest (called the item):[=0x000A=][=0x0009=]try closing the item instead.[=0x000A=][=0x000A=]Before opening a chest (called the box) when something is on a lid (called the obstruction) which is part of the box:[=0x000A=][=0x0009=]repeat with item running through things on the obstruction:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](first removing [the item])[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]try taking the item.[=0x000A=][=0x000A=]Instead of opening a chest when something is on a lid (called the item) which is part of the noun:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]d have to remove [the list of things on the item] from the lid first.[=0x0022=] instead.[=0x000A=][=0x000A=]Instead of looking under a lid which is part of a chest (called the item):[=0x000A=][=0x0009=]try opening the item.[=0x000A=][=0x000A=][=0x000A=][We may also want to be able to deal with [=0x0022=]put in[=0x0022=] and [=0x0022=]put on[=0x0022=] appropriately, even if the player names the wrong part of the object:][=0x000A=][=0x000A=]Section 3 - Insertion and Support[=0x000A=][=0x000A=]Before inserting something into a lid which is part of a chest (called the item):[=0x000A=][=0x0009=]try inserting the noun into the item instead.[=0x000A=][=0x000A=]Before putting something on a chest when a lid (called the item) is part of the second noun:[=0x000A=][=0x0009=]try putting the noun on the item instead.[=0x000A=][=0x000A=][Furthermore, we don[=0x0027=]t want the player to be able to put things on the lid while the chest is open:][=0x000A=][=0x000A=]Before putting something on a lid which is part of an open chest (called the item):[=0x000A=][=0x0009=]say [=0x0022=](first closing [the item])[=0x0022=];[=0x000A=][=0x0009=]try closing the item.[=0x000A=][=0x000A=]Instead of putting something on a lid which is part of an open chest (called the item):[=0x000A=][=0x0009=]say [=0x0022=][The item] would need to be closed first.[=0x0022=][=0x000A=][=0x000A=][And then we may also want a couple of rules for describing our assembled object nicely:][=0x000A=][=0x000A=]Section 4 - Description in Rooms[=0x000A=][=0x000A=]Instead of examining a closed chest when something is on a lid (called the top) which is part of the noun:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is closed, and there [is-are a list of things on the top] on top.[=0x0022=][=0x000A=][=0x000A=]After printing the name of a chest (called the item) while listing contents of a room:[=0x000A=][=0x0009=]if a lid (called the second item) which supports something is part of the item:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] (on which [is-are a list of things on the second item])[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]omit contents in listing.[=0x000A=][=0x000A=][Now we are free to create entire treasure rooms at a single blow:][=0x000A=][=0x000A=]Section 5 - U-Stor-It Facility[=0x000A=][=0x000A=]The U-Stor-It Facility is a room. The sea trunk, the shipping crate, and a metal box are chests in the U-Stor-It Facility. The metal box contains a sapphire, a gold coin, and a signed photograph of Babe Ruth.[=0x000A=][=0x000A=][Even though we have never explicitly defined it, the metal box has a [=0x0022=]metal box[=0x0027=]s lid[=0x0022=], which we can use at need.][=0x000A=][=0x000A=]The metal box[=0x0027=]s lid supports a small card. The description of the small card is [=0x0022=]It reads, [=0x0027=]Back in 5 mins - Pandora.[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]open trunk / x card / open metal box / put all in metal box / get card / put card on box[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="inform:/doc_images/paste.png" /></a> &quot;U-Stor-It&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13861_96" -->
<a id="c13861_96"></a><blockquote class="code"><p class="quoted">
Section 1 - Assemblies and Supporters
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13862_96" -->
<a id="c13862_96"></a><blockquote class="code"><p class="quoted">
A chest is a kind of container. A chest is always openable. A chest is usually fixed in place. A chest is usually closed. The specification of a chest is &quot;Represents a container with a separately implemented lid; the lid is itself a supporter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13863_96" -->
<a id="c13863_96"></a><blockquote class="code"><p class="quoted">
A lid is a kind of supporter. A lid is part of every chest. The specification of a lid is &quot;A supporter attached to a chest, which can only support things when the chest is closed.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(The &quot;specification&quot; of a kind is not really a property, and is used instead to describe the kind in the Index. So the text of these specifications is never found in the game.) Of course, this doesn't get us very far. We will also want the game to correctly interpret variations on &quot;open the chest&quot; and &quot;close the lid&quot;, redirecting actions appropriately.</p>
<!-- START CODE "c13864_96" -->
<a id="c13864_96"></a><blockquote class="code"><p class="quoted">
Section 2 - Opening and closing
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13865_96" -->
<a id="c13865_96"></a><blockquote class="code"><p class="quoted">
Before opening a lid which is part of a chest (called the item):
<br />&#160;&#160;&#160;&#160;try opening the item instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13866_96" -->
<a id="c13866_96"></a><blockquote class="code"><p class="quoted">
Before closing a lid which is part of a chest (called the item):
<br />&#160;&#160;&#160;&#160;try closing the item instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13867_96" -->
<a id="c13867_96"></a><blockquote class="code"><p class="quoted">
Before opening a chest (called the box) when something is on a lid (called the obstruction) which is part of the box:
<br />&#160;&#160;&#160;&#160;repeat with item running through things on the obstruction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the item])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try taking the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13868_96" -->
<a id="c13868_96"></a><blockquote class="code"><p class="quoted">
Instead of opening a chest when something is on a lid (called the item) which is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;You'd have to remove [the list of things on the item] from the lid first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13869_96" -->
<a id="c13869_96"></a><blockquote class="code"><p class="quoted">
Instead of looking under a lid which is part of a chest (called the item):
<br />&#160;&#160;&#160;&#160;try opening the item.
</p></blockquote>
<!-- END CODE -->
<p>We may also want to be able to deal with &quot;put in&quot; and &quot;put on&quot; appropriately, even if the player names the wrong part of the object:</p>
<!-- START CODE "c13870_96" -->
<a id="c13870_96"></a><blockquote class="code"><p class="quoted">
Section 3 - Insertion and Support
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13871_96" -->
<a id="c13871_96"></a><blockquote class="code"><p class="quoted">
Before inserting something into a lid which is part of a chest (called the item):
<br />&#160;&#160;&#160;&#160;try inserting the noun into the item instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13872_96" -->
<a id="c13872_96"></a><blockquote class="code"><p class="quoted">
Before putting something on a chest when a lid (called the item) is part of the second noun:
<br />&#160;&#160;&#160;&#160;try putting the noun on the item instead.
</p></blockquote>
<!-- END CODE -->
<p>Furthermore, we don't want the player to be able to put things on the lid while the chest is open:</p>
<!-- START CODE "c13873_96" -->
<a id="c13873_96"></a><blockquote class="code"><p class="quoted">
Before putting something on a lid which is part of an open chest (called the item):
<br />&#160;&#160;&#160;&#160;say &quot;(first closing [the item])&quot;;
<br />&#160;&#160;&#160;&#160;try closing the item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13874_96" -->
<a id="c13874_96"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a lid which is part of an open chest (called the item):
<br />&#160;&#160;&#160;&#160;say &quot;[The item] would need to be closed first.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And then we may also want a couple of rules for describing our assembled object nicely:</p>
<!-- START CODE "c13875_96" -->
<a id="c13875_96"></a><blockquote class="code"><p class="quoted">
Section 4 - Description in Rooms
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13876_96" -->
<a id="c13876_96"></a><blockquote class="code"><p class="quoted">
Instead of examining a closed chest when something is on a lid (called the top) which is part of the noun:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is closed, and there [is-are a list of things on the top] on top.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13877_96" -->
<a id="c13877_96"></a><blockquote class="code"><p class="quoted">
After printing the name of a chest (called the item) while listing contents of a room:
<br />&#160;&#160;&#160;&#160;if a lid (called the second item) which supports something is part of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; (on which [is-are a list of things on the second item])&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<p>Now we are free to create entire treasure rooms at a single blow:</p>
<!-- START CODE "c13878_96" -->
<a id="c13878_96"></a><blockquote class="code"><p class="quoted">
Section 5 - U-Stor-It Facility
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13879_96" -->
<a id="c13879_96"></a><blockquote class="code"><p class="quoted">
The U-Stor-It Facility is a room. The sea trunk, the shipping crate, and a metal box are chests in the U-Stor-It Facility. The metal box contains a sapphire, a gold coin, and a signed photograph of Babe Ruth.
</p></blockquote>
<!-- END CODE -->
<p>Even though we have never explicitly defined it, the metal box has a &quot;metal box's lid&quot;, which we can use at need.</p>
<!-- START CODE "c13880_96" -->
<a id="c13880_96"></a><blockquote class="code"><p class="quoted">
The metal box's lid supports a small card. The description of the small card is &quot;It reads, 'Back in 5 mins - Pandora.'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13881_96" -->
<a id="c13881_96"></a><blockquote class="code"><p class="quoted">
Test me with &quot;open trunk / x card / open metal box / put all in metal box / get card / put card on box&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<p></p>
<!-- END EXAMPLE -->
<hr />
</div>
<!-- START IGNORE -->
<div class="bookfooter">
<table class="fullwidth"><tr><td class="footerprevious"><a href="Rdoc65.html" class="footerlink">Previous</a></td><td class="footercontents"><a href="index.html" class="footerlink">Contents</a></td><td class="footernext"><a href="Rdoc67.html" class="footerlink">Next</a></td></tr></table>
</div>
<!-- END IGNORE -->
</body>
</html>
